"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
const chai = require("chai");
const chaiAsPromised = require("chai-as-promised");
const template_app_1 = require("../mock/template-app");
chai.config.truncateThreshold = 500;
chai.use(chaiAsPromised);
chai.should();
describe('[Prod]', () => {
    const tpl = new template_app_1.TemplateApp('controller-endpoints');
    let app;
    before(() => {
        return tpl.runApp().then(_app => app = _app);
    });
    after(() => {
        return app.stop();
    });
    it('should run endpoint using session in production', (done) => {
        tpl.get('/api/session/init')
            .then(res => {
            res.should.equal('Hello World');
            return tpl.get('/api/session/fetch');
        }).then(res => {
            res.should.equal('Hello World');
            done();
        }).catch(e => {
            done(e);
        });
    });
});
//# sourceMappingURL=prod.test.js.map