/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingOverride,missingReturn,unusedPrivateMembers,uselessCode} checked by tsc
 */
import { Component, Input } from '@angular/core';
var MailjetStatisticComponent = /** @class */ (function () {
    function MailjetStatisticComponent() {
        this.counts = {
            sent: 0,
            opened: 0,
            clicked: 0,
            spam: 0,
            bounced: 0,
            blocked: 0
        };
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    MailjetStatisticComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        var _this = this;
        if (changes && this.data) {
            /** @type {?} */
            var data = this.data;
            data.forEach((/**
             * @param {?} d
             * @return {?}
             */
            function (d) {
                if (d.data && d.data.length) {
                    /** @type {?} */
                    var count_1 = _this.counts[d.name.toLowerCase()] = 0;
                    d.data.forEach((/**
                     * @param {?} value
                     * @return {?}
                     */
                    function (value) {
                        count_1 = count_1 + value;
                    }));
                    _this.counts[d.name.toLowerCase()] = count_1;
                }
            }));
            this.legend = this.data.map((/**
             * @param {?} d
             * @return {?}
             */
            function (d) { return d.name; }));
            this.chartOptions = Object.assign({}, {
                legend: {
                    top: 'top',
                    left: 'center',
                    data: this.legend
                },
                grid: {
                    left: '3%',
                    right: '3%',
                    bottom: '1%',
                    containLabel: true
                },
                tooltip: {
                    trigger: 'axis'
                },
                xAxis: {
                    boundaryGap: false,
                    type: 'category',
                    data: this.xAbsis
                },
                yAxis: {
                    type: 'value'
                },
                series: this.data
            });
        }
    };
    MailjetStatisticComponent.decorators = [
        { type: Component, args: [{
                    selector: 'mailjet-statistic',
                    template: "<div fxFlex fxLayout=\"row\" *ngIf=\"! loading && data && data.length\">\r\n  <div fxLayout=\"column\" fxLayoutAlign=\"start center\" style=\"padding: 5px 24px; overflow: auto;\">\r\n    <mailjet-stats-counter backgroundColor=\"#2196F3\" width=\"80\" height=\"60\" color=\"white\" label=\"Sent\" [count]=\"counts['sent']\"></mailjet-stats-counter>\r\n    <mailjet-stats-counter backgroundColor=\"#4CAF50\" width=\"80\" height=\"60\" color=\"white\" label=\"Opened\" [count]=\"counts['opened']\"></mailjet-stats-counter>\r\n    <mailjet-stats-counter backgroundColor=\"#8BC34A\" width=\"80\" height=\"60\" color=\"white\" label=\"Clicked\" [count]=\"counts['clicked']\"></mailjet-stats-counter>\r\n    <mailjet-stats-counter backgroundColor=\"#FFC107\" width=\"80\" height=\"60\" color=\"white\" label=\"Spam\" [count]=\"counts['spam']\"></mailjet-stats-counter>\r\n    <mailjet-stats-counter backgroundColor=\"#F44336\" width=\"80\" height=\"60\" color=\"white\" label=\"Bounce\" [count]=\"counts['bounce']\"></mailjet-stats-counter>\r\n    <mailjet-stats-counter backgroundColor=\"black\" width=\"80\" height=\"60\" color=\"white\" label=\"Blocked\" [count]=\"counts['blocked']\"></mailjet-stats-counter>\r\n  </div>\r\n  <div fxFlex fxLayout=\"column\" class=\"chart-section\">\r\n    <div class=\"chart-container\">\r\n      <div *ngIf=\"xAbsis && data\" style=\"height: 100%; width: 100%;\" echarts\r\n        [options]=\"chartOptions\">\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n<div fxFlex fxLayout=\"row\" fxLayoutAlign=\"center center\" *ngIf=\"loading\">\r\n  <mat-progress-spinner mode=\"indeterminate\"></mat-progress-spinner>\r\n</div>\r\n<div fxFlex fxLayout=\"row\" fxLayoutAlign=\"center center\" *ngIf=\" ! loading && data && ! data.length\">\r\n  <p>No statistics for this period</p>\r\n</div>\r\n",
                    styles: [":host{display:flex;width:100%;flex:1}.chart-section{position:relative}.chart-container{position:absolute;top:0;bottom:15px;left:24px;right:24px;display:flex}"]
                }] }
    ];
    /** @nocollapse */
    MailjetStatisticComponent.ctorParameters = function () { return []; };
    MailjetStatisticComponent.propDecorators = {
        data: [{ type: Input }],
        loading: [{ type: Input }],
        expanded: [{ type: Input }],
        xAbsis: [{ type: Input }]
    };
    return MailjetStatisticComponent;
}());
export { MailjetStatisticComponent };
if (false) {
    /** @type {?} */
    MailjetStatisticComponent.prototype.data;
    /** @type {?} */
    MailjetStatisticComponent.prototype.loading;
    /** @type {?} */
    MailjetStatisticComponent.prototype.expanded;
    /** @type {?} */
    MailjetStatisticComponent.prototype.xAbsis;
    /** @type {?} */
    MailjetStatisticComponent.prototype.counts;
    /** @type {?} */
    MailjetStatisticComponent.prototype.legend;
    /** @type {?} */
    MailjetStatisticComponent.prototype.chartOptions;
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbGpldC1zdGF0aXN0aWMuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQG1hdGVyaWEvbWFpbGpldC8iLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvbWFpbGpldC1zdGF0aXN0aWMvbWFpbGpldC1zdGF0aXN0aWMuY29tcG9uZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7QUFBQSxPQUFPLEVBQUUsU0FBUyxFQUFFLEtBQUssRUFBYSxNQUFNLGVBQWUsQ0FBQztBQUU1RDtJQXNCRTtRQVhBLFdBQU0sR0FBUTtZQUNaLElBQUksRUFBRSxDQUFDO1lBQ1AsTUFBTSxFQUFFLENBQUM7WUFDVCxPQUFPLEVBQUUsQ0FBQztZQUNWLElBQUksRUFBRSxDQUFDO1lBQ1AsT0FBTyxFQUFFLENBQUM7WUFDVixPQUFPLEVBQUUsQ0FBQztTQUNYLENBQUM7SUFJZSxDQUFDOzs7OztJQUVsQiwrQ0FBVzs7OztJQUFYLFVBQVksT0FBTztRQUFuQixpQkF1Q0M7UUF0Q0MsSUFBSSxPQUFPLElBQUksSUFBSSxDQUFDLElBQUksRUFBRTs7Z0JBQ2xCLElBQUksR0FBRyxJQUFJLENBQUMsSUFBSTtZQUN0QixJQUFJLENBQUMsT0FBTzs7OztZQUFDLFVBQUEsQ0FBQztnQkFDWixJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLEVBQUU7O3dCQUN2QixPQUFLLEdBQUcsS0FBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFDLEdBQUcsQ0FBQztvQkFDakQsQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPOzs7O29CQUFDLFVBQUEsS0FBSzt3QkFDbEIsT0FBSyxHQUFHLE9BQUssR0FBRyxLQUFLLENBQUM7b0JBQ3hCLENBQUMsRUFBQyxDQUFDO29CQUNILEtBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxXQUFXLEVBQUUsQ0FBQyxHQUFHLE9BQUssQ0FBQztpQkFDM0M7WUFDSCxDQUFDLEVBQUMsQ0FBQztZQUNILElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHOzs7O1lBQUMsVUFBQSxDQUFDLElBQUksT0FBQSxDQUFDLENBQUMsSUFBSSxFQUFOLENBQU0sRUFBQyxDQUFDO1lBQ3pDLElBQUksQ0FBQyxZQUFZLEdBQUcsTUFBTSxDQUFDLE1BQU0sQ0FBQyxFQUFFLEVBQUU7Z0JBQ3BDLE1BQU0sRUFBRTtvQkFDTixHQUFHLEVBQUUsS0FBSztvQkFDVixJQUFJLEVBQUUsUUFBUTtvQkFDZCxJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU07aUJBQ2xCO2dCQUNELElBQUksRUFBRTtvQkFDSixJQUFJLEVBQUUsSUFBSTtvQkFDVixLQUFLLEVBQUUsSUFBSTtvQkFDWCxNQUFNLEVBQUUsSUFBSTtvQkFDWixZQUFZLEVBQUUsSUFBSTtpQkFDckI7Z0JBQ0MsT0FBTyxFQUFFO29CQUNQLE9BQU8sRUFBRSxNQUFNO2lCQUNoQjtnQkFDRCxLQUFLLEVBQUU7b0JBQ0wsV0FBVyxFQUFFLEtBQUs7b0JBQ2xCLElBQUksRUFBRSxVQUFVO29CQUNoQixJQUFJLEVBQUUsSUFBSSxDQUFDLE1BQU07aUJBQ2xCO2dCQUNELEtBQUssRUFBRTtvQkFDTCxJQUFJLEVBQUUsT0FBTztpQkFDZDtnQkFDRCxNQUFNLEVBQUUsSUFBSSxDQUFDLElBQUk7YUFDbEIsQ0FBQyxDQUFDO1NBQ0o7SUFDSCxDQUFDOztnQkEvREYsU0FBUyxTQUFDO29CQUNULFFBQVEsRUFBRSxtQkFBbUI7b0JBQzdCLCt5REFBaUQ7O2lCQUVsRDs7Ozs7dUJBRUUsS0FBSzswQkFDTCxLQUFLOzJCQUNMLEtBQUs7eUJBQ0wsS0FBSzs7SUF1RFIsZ0NBQUM7Q0FBQSxBQWhFRCxJQWdFQztTQTNEWSx5QkFBeUI7OztJQUNwQyx5Q0FBNkU7O0lBQzdFLDRDQUEwQjs7SUFDMUIsNkNBQTJCOztJQUMzQiwyQ0FBMEI7O0lBRTFCLDJDQU9FOztJQUNGLDJDQUFpQjs7SUFDakIsaURBQWtCIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25DaGFuZ2VzIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuICBzZWxlY3RvcjogJ21haWxqZXQtc3RhdGlzdGljJyxcclxuICB0ZW1wbGF0ZVVybDogJy4vbWFpbGpldC1zdGF0aXN0aWMuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogWycuL21haWxqZXQtc3RhdGlzdGljLmNvbXBvbmVudC5zY3NzJ11cclxufSlcclxuZXhwb3J0IGNsYXNzIE1haWxqZXRTdGF0aXN0aWNDb21wb25lbnQgaW1wbGVtZW50cyBPbkNoYW5nZXMge1xyXG4gIEBJbnB1dCgpIGRhdGE6IHtuYW1lOiBzdHJpbmcsIGRhdGE6IG51bWJlcltdLCB0eXBlOiBzdHJpbmcsIGNvbG9yOiBzdHJpbmd9W107XHJcbiAgQElucHV0KCkgbG9hZGluZzogYm9vbGVhbjtcclxuICBASW5wdXQoKSBleHBhbmRlZDogYm9vbGVhbjtcclxuICBASW5wdXQoKSB4QWJzaXM6IHN0cmluZ1tdO1xyXG5cclxuICBjb3VudHM6IGFueSA9IHtcclxuICAgIHNlbnQ6IDAsXHJcbiAgICBvcGVuZWQ6IDAsXHJcbiAgICBjbGlja2VkOiAwLFxyXG4gICAgc3BhbTogMCxcclxuICAgIGJvdW5jZWQ6IDAsXHJcbiAgICBibG9ja2VkOiAwXHJcbiAgfTtcclxuICBsZWdlbmQ6IHN0cmluZ1tdO1xyXG4gIGNoYXJ0T3B0aW9uczogYW55O1xyXG5cclxuICBjb25zdHJ1Y3RvciggKSB7IH1cclxuXHJcbiAgbmdPbkNoYW5nZXMoY2hhbmdlcykge1xyXG4gICAgaWYgKGNoYW5nZXMgJiYgdGhpcy5kYXRhKSB7XHJcbiAgICAgIGNvbnN0IGRhdGEgPSB0aGlzLmRhdGE7XHJcbiAgICAgIGRhdGEuZm9yRWFjaChkID0+IHtcclxuICAgICAgICBpZiAoZC5kYXRhICYmIGQuZGF0YS5sZW5ndGgpIHtcclxuICAgICAgICAgIGxldCBjb3VudCA9IHRoaXMuY291bnRzW2QubmFtZS50b0xvd2VyQ2FzZSgpXSA9IDA7XHJcbiAgICAgICAgICBkLmRhdGEuZm9yRWFjaCh2YWx1ZSA9PiB7XHJcbiAgICAgICAgICAgIGNvdW50ID0gY291bnQgKyB2YWx1ZTtcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgdGhpcy5jb3VudHNbZC5uYW1lLnRvTG93ZXJDYXNlKCldID0gY291bnQ7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgICAgdGhpcy5sZWdlbmQgPSB0aGlzLmRhdGEubWFwKGQgPT4gZC5uYW1lKTtcclxuICAgICAgdGhpcy5jaGFydE9wdGlvbnMgPSBPYmplY3QuYXNzaWduKHt9LCB7XHJcbiAgICAgICAgbGVnZW5kOiB7XHJcbiAgICAgICAgICB0b3A6ICd0b3AnLFxyXG4gICAgICAgICAgbGVmdDogJ2NlbnRlcicsXHJcbiAgICAgICAgICBkYXRhOiB0aGlzLmxlZ2VuZFxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgZ3JpZDoge1xyXG4gICAgICAgICAgbGVmdDogJzMlJyxcclxuICAgICAgICAgIHJpZ2h0OiAnMyUnLFxyXG4gICAgICAgICAgYm90dG9tOiAnMSUnLFxyXG4gICAgICAgICAgY29udGFpbkxhYmVsOiB0cnVlXHJcbiAgICAgIH0sXHJcbiAgICAgICAgdG9vbHRpcDoge1xyXG4gICAgICAgICAgdHJpZ2dlcjogJ2F4aXMnXHJcbiAgICAgICAgfSxcclxuICAgICAgICB4QXhpczoge1xyXG4gICAgICAgICAgYm91bmRhcnlHYXA6IGZhbHNlLFxyXG4gICAgICAgICAgdHlwZTogJ2NhdGVnb3J5JyxcclxuICAgICAgICAgIGRhdGE6IHRoaXMueEFic2lzXHJcbiAgICAgICAgfSxcclxuICAgICAgICB5QXhpczoge1xyXG4gICAgICAgICAgdHlwZTogJ3ZhbHVlJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgc2VyaWVzOiB0aGlzLmRhdGFcclxuICAgICAgfSk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcbiJdfQ==