import { Component, Output, EventEmitter, ViewChild, Input, NgModule } from '@angular/core';
import { FormBuilder, Validators, FormsModule, ReactiveFormsModule } from '@angular/forms';
import { __decorate, __metadata } from 'tslib';
import { MatDialog, MatSnackBar, MatButtonModule, MatRippleModule, MatSnackBarModule, MatCardModule, MatIconModule, MatDialogModule, MatInputModule, MatListModule, MatTooltipModule, MatToolbarModule, MatDatepickerModule, MatExpansionModule, MatNativeDateModule, MatRadioModule, MatStepperModule, MatSelectModule, MatCheckboxModule, MatProgressSpinnerModule } from '@angular/material';
import { AddonView, AddonSetup, Addon } from '@materia/addons';
import { HttpClient, HttpClientModule } from '@angular/common/http';
import { CommonModule } from '@angular/common';
import { FlexLayoutModule } from '@angular/flex-layout';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var SignupFormComponent = /** @class */ (function () {
    function SignupFormComponent(fb) {
        this.fb = fb;
        this.signup = new EventEmitter();
        this.cancel = new EventEmitter();
    }
    /**
     * @param {?} changes
     * @return {?}
     */
    SignupFormComponent.prototype.ngOnChanges = /**
     * @param {?} changes
     * @return {?}
     */
    function (changes) {
        if (changes.profileFields && changes.profileFields.currentValue) {
            this.initForm();
        }
    };
    /**
     * @return {?}
     */
    SignupFormComponent.prototype.initForm = /**
     * @return {?}
     */
    function () {
        this.signupForm = this.fb.group(Object.assign({}, {
            email: ['', Validators.required],
            password: ['', Validators.required]
        }, this.getProfileFormGroup()));
    };
    /**
     * @return {?}
     */
    SignupFormComponent.prototype.getProfileFormGroup = /**
     * @return {?}
     */
    function () {
        if (!this.profileFields) {
            return {};
        }
        var /** @type {?} */ result = {};
        this.profileFields.forEach(function (field) {
            if (field.required) {
                result[field.name] = ['', Validators.required];
            }
            else {
                result[field.name] = '';
            }
        });
        return result;
    };
    /**
     * @return {?}
     */
    SignupFormComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.initForm();
    };
    /**
     * @return {?}
     */
    SignupFormComponent.prototype.signupClick = /**
     * @return {?}
     */
    function () {
        this.signup.emit(this.signupForm.value);
    };
    SignupFormComponent.decorators = [
        { type: Component, args: [{
                    selector: 'materia-signup-form',
                    template: "<ng-template #template>\n\t<mat-card fxLayout=\"column\">\n\t\t<mat-toolbar>Create a new user</mat-toolbar>\n\t\n\t\t<form [formGroup]=\"signupForm\" fxLayout=\"column\" style=\"padding: 24px;\">\n\t\t\t<mat-form-field>\n\t\t\t\t<input formControlName=\"email\" matInput placeholder=\"Email\" required type=\"email\" name=\"email\">\n\t\t\t</mat-form-field>\n\t\n\t\t\t<mat-form-field>\n\t\t\t\t<input formControlName=\"password\" matInput placeholder=\"Password\" required type=\"password\" name=\"password\">\n\t\t\t</mat-form-field>\n\t\t\t<div *ngIf=\"profileFields.length > 0\">\n\t\t\t\t<materia-param-input [showCheckbox]=\"false\" [form]=\"signupForm\" [param]=\"param\" *ngFor=\"let param of profileFields\"></materia-param-input>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<button (click)=\"signup.emit(signupForm.value)\" mat-raised-button color=\"primary\">Create</button>\n\t\t\t\t<button (click)=\"cancel.emit()\" mat-raised-button>Cancel</button>\n\t\t\t</div>\n\t\t</form>\n\t</mat-card>\n</ng-template>",
                    styles: ["mat-card{width:300px;margin:0p;padding:0}"]
                },] },
    ];
    /** @nocollapse */
    SignupFormComponent.ctorParameters = function () { return [
        { type: FormBuilder, },
    ]; };
    SignupFormComponent.propDecorators = {
        "signup": [{ type: Output },],
        "cancel": [{ type: Output },],
        "template": [{ type: ViewChild, args: ['template',] },],
        "profileFields": [{ type: Input },],
    };
    return SignupFormComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var UserManagementViewComponent = /** @class */ (function () {
    function UserManagementViewComponent(dialog, http, snackbar) {
        this.dialog = dialog;
        this.http = http;
        this.snackbar = snackbar;
        this.openSetup = new EventEmitter();
        this.loading = true;
        this.users = [];
        this.nbUsers = 0;
    }
    /**
     * @return {?}
     */
    UserManagementViewComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.refreshList();
        this.refreshConnectedUser();
        this.getProfileParams();
    };
    /**
     * @return {?}
     */
    UserManagementViewComponent.prototype.getProfileParams = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.settings &&
            this.settings.user_profile_enabled &&
            this.settings.user_profile_entity) {
            return this.http
                .get(this.baseUrl + "/infos")
                .toPromise()
                .then(function (res) {
                var /** @type {?} */ profileEntity = res.entities.find(function (entity) { return entity.name === _this.settings.user_profile_entity; });
                _this.profileFields = profileEntity.fields.filter(function (field) {
                    return field.name !== 'id_user' &&
                        (!field.primary || (field.primary && !field.autoIncrement));
                });
            })
                .catch(function (e) {
                _this.profileFields = [];
            });
        }
        else {
            this.profileFields = [];
            return Promise.resolve();
        }
    };
    /**
     * @return {?}
     */
    UserManagementViewComponent.prototype.refreshList = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.loading = true;
        this.http
            .post(this.baseUrl + "/entities/user/queries/listWithGravatar", {})
            .subscribe(function (res) {
            _this.users = res.data;
            _this.nbUsers = res.count;
            _this.loading = false;
        });
    };
    /**
     * @return {?}
     */
    UserManagementViewComponent.prototype.refreshConnectedUser = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.http.get(this.apiUrl + "/user/me").subscribe(function (res) {
            _this.me = res;
        }, function () { return (_this.me = null); });
    };
    /**
     * @return {?}
     */
    UserManagementViewComponent.prototype.configureEmails = /**
     * @return {?}
     */
    function () {
        this.displayEmailSettings = true;
    };
    /**
     * @return {?}
     */
    UserManagementViewComponent.prototype.hideEmailSettings = /**
     * @return {?}
     */
    function () {
        this.displayEmailSettings = false;
    };
    /**
     * @return {?}
     */
    UserManagementViewComponent.prototype.openSignupDialog = /**
     * @return {?}
     */
    function () {
        this.signupDialog = this.dialog.open(this.signupDialogComp.template, {
            panelClass: 'no-padding'
        });
    };
    /**
     * @param {?} settings
     * @return {?}
     */
    UserManagementViewComponent.prototype.saveEmailSettings = /**
     * @param {?} settings
     * @return {?}
     */
    function (settings) {
        var _this = this;
        this.http
            .post(this.baseUrl + "/addons/@materia/users/setup", settings)
            .subscribe(function (res) {
            _this.snackbar.open('Settings saved!', null, {
                duration: 3000
            });
            _this.hideEmailSettings();
            _this.settings = settings;
        });
    };
    /**
     * @return {?}
     */
    UserManagementViewComponent.prototype.closeSignupDialog = /**
     * @return {?}
     */
    function () {
        this.signupDialog.close();
    };
    /**
     * @param {?} user
     * @return {?}
     */
    UserManagementViewComponent.prototype.signup = /**
     * @param {?} user
     * @return {?}
     */
    function (user) {
        var _this = this;
        this.http.post(this.apiUrl + "/user/signup", user).subscribe(function () {
            _this.closeSignupDialog();
            _this.refreshList();
            _this.refreshConnectedUser();
        });
    };
    /**
     * @return {?}
     */
    UserManagementViewComponent.prototype.logout = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.http.post(this.apiUrl + "/user/logout", {}).subscribe(function () {
            _this.refreshConnectedUser();
        }, function () { return _this.refreshConnectedUser(); });
    };
    UserManagementViewComponent.decorators = [
        { type: Component, args: [{
                    selector: 'materia-user-management',
                    template: "<div fxLayout=\"column\" fxFlex>\n\t<div *ngIf=\"me\" style=\"padding: 8px 16px; background-color: #4CAF50; color: white;\">\n\t\tCurrently connected as {{me.email}} (<a style=\"text-decoration: underline; cursor: pointer;\" (click)=\"logout()\">Logout</a>)\n\t</div>\n\t<div fxLayout=\"row\" fxFlex>\n\t\t<mat-card fxLayout=\"column\" fxFlex *ngIf=\"!loading; else loadingUsers\">\n\t\t\t<mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"start center\">\n\t\t\t\t<mat-icon>people</mat-icon>\n\t\t\t\t<span>\n\t\t\t\t\tUsers\n\t\t\t\t</span>\n\t\t\t\t<span fxFlex></span>\n\t\t\t\t<button *ngIf=\"!displayEmailSettings && settings.email_verification && settings.email_addon\" style=\"margin-right: 8px;\" (click)=\"configureEmails()\" mat-button>Configure emails</button>\n\t\t\t\t<button mat-mini-fab (click)=\"openSignupDialog()\" matTooltip=\"New User\" matTooltipPosition=\"left\" style=\"width: 31px; height: 31px;\">\n\t\t\t\t\t<mat-icon style=\"position: relative; top: -6px; left: -4px;\">add</mat-icon>\n\t\t\t\t</button>\n\t\t\t</mat-toolbar>\n\t\t\t<div *ngIf=\"users && users.length; else noUser\" style=\"border-top: 1px solid #EEE; overflow-y: auto;\" fxLayout=\"column\" fxFlex>\n\t\t\t\t<div fxLayout=\"row\" fxLayoutAlign=\"start center\" *ngFor=\"let user of users\" style=\"border-bottom: 1px solid #EEE; cursor: pointer;min-height: 40px\">\n\t\t\t\t\t<img [src]=\"user.gravatar\" class=\"avatar\" style=\"margin: 0 8px; width:32px; height:32px;border-radius: 100%\" />\n\t\t\t\t\t<div style=\"color: #999; padding-top: 0\">{{user.email}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ng-template #noUser>\n\t\t\t\t<div fxFlex fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"no-users\">\n\t\t\t\t\t<span>There is no users registered yet</span>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button (click)=\"openSignupDialog()\" mat-raised-button color=\"primary\" [style.margin]=\"'15px'\" [style.color]=\"'white'\">Create\n\t\t\t\t\t\t\ta user</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</ng-template>\n\t\t</mat-card>\n\t\t<ng-template #loadingUsers>\n\t\t\t<mat-card fxLayout=\"column\" fxFlex fxLayoutAlign=\"center center\">\n\t\t\t\t<mat-spinner></mat-spinner>\n\t\t\t</mat-card>\n\t\t</ng-template>\n\t\t<div style=\"margin: 8px;\" *ngIf=\"displayEmailSettings\" fxLayout=\"column\" fxFlex>\n\t\t\t<mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"start center\">\n\t\t\t\t<button mat-icon-button (click)=\"hideEmailSettings()\" matTooltip=\"Hide email settings\" matTooltipPosition=\"right\">\n\t\t\t\t\t<mat-icon>arrow_back</mat-icon>\n\t\t\t\t</button>\n\t\t\t\t<mat-icon>mail</mat-icon>\n\t\t\t\t<span>\n\t\t\t\t\tEmails\n\t\t\t\t</span>\n\t\t\t\t<span fxFlex></span>\n\t\t\t</mat-toolbar>\n\t\t\t<materia-user-management-email-settings [settings]=\"settings\" [baseUrl]=\"baseUrl\"\n\t\t\t\t(hide)=\"hideEmailSettings()\" (save)=\"saveEmailSettings($event)\" fxFlex style=\"overflow-y: auto;\">\n\t\t\t</materia-user-management-email-settings>\n\t\t</div>\n\t</div>\n</div>\n<materia-signup-form #signupFormTemplate [profileFields]=\"profileFields\" (signup)=\"signup($event)\" (cancel)=\"closeSignupDialog()\"></materia-signup-form>",
                    styles: [":host{flex:1 1 0}mat-card{margin:8px;padding:0}mat-icon{margin:2px 8px}.no-users{font-style:italic}"],
                    providers: []
                },] },
    ];
    /** @nocollapse */
    UserManagementViewComponent.ctorParameters = function () { return [
        { type: MatDialog, },
        { type: HttpClient, },
        { type: MatSnackBar, },
    ]; };
    UserManagementViewComponent.propDecorators = {
        "app": [{ type: Input },],
        "settings": [{ type: Input },],
        "baseUrl": [{ type: Input },],
        "apiUrl": [{ type: Input },],
        "openSetup": [{ type: Output },],
        "signupDialogComp": [{ type: ViewChild, args: [SignupFormComponent,] },],
    };
    UserManagementViewComponent = __decorate([
        AddonView('@materia/users'),
        __metadata("design:paramtypes", [MatDialog,
            HttpClient,
            MatSnackBar])
    ], UserManagementViewComponent);
    return UserManagementViewComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var UserManagementSetupComponent = /** @class */ (function () {
    function UserManagementSetupComponent(fb, http) {
        this.fb = fb;
        this.http = http;
        this.save = new EventEmitter();
        this.cancel = new EventEmitter();
        this.emailAddons = [];
    }
    /**
     * @param {?} property
     * @param {?} defaultValue
     * @return {?}
     */
    UserManagementSetupComponent.prototype.getSettingsProperty = /**
     * @param {?} property
     * @param {?} defaultValue
     * @return {?}
     */
    function (property, defaultValue) {
        return (this.settings && this.settings[property]) || defaultValue;
    };
    /**
     * @return {?}
     */
    UserManagementSetupComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.http
            .get(this.baseUrl + '/infos')
            .toPromise()
            .then(function (res) {
            _this.loginForm = _this.fb.group({
                method: [
                    _this.getSettingsProperty('method', 'session'),
                    Validators.required
                ],
                user_profile_enabled: [
                    _this.getSettingsProperty('user_profile_enabled', false)
                ],
                user_profile_entity: [
                    _this.getSettingsProperty('user_profile_entity', null)
                ],
                email_verification: [
                    _this.getSettingsProperty('email_verification', false)
                ],
                email_addon: [_this.getSettingsProperty('email_addon', false)],
            });
            _this.entities = res.entities.filter(function (entity) { return !entity.fromAddon; });
            _this.emailAddons = res.addons.filter(function (addon) {
                return addon.package === '@materia/sendgrid' ||
                    addon.package === '@materia/mailjet';
            });
            if (_this.emailAddons.length === 0) {
                _this.loginForm.get('email_verification').disable();
                _this.loginForm.get('email_addon').disable();
            }
            if (!_this.settings || !_this.settings.email_verification) {
                _this.loginForm.get('email_addon').disable();
            }
            if (!_this.settings || !_this.settings.user_profile_enabled) {
                _this.loginForm.get('user_profile_entity').disable();
            }
            if (_this.entities.length === 0) {
                _this.loginForm.get('user_profile_enabled').setValue(false);
                _this.loginForm.get('user_profile_entity').setValue(null);
                _this.loginForm.get('user_profile_enabled').disable();
                _this.loginForm.get('user_profile_entity').disable();
            }
            _this.loginForm
                .get('user_profile_enabled')
                .valueChanges.subscribe(function (val) {
                if (val) {
                    _this.loginForm.get('user_profile_entity').enable();
                }
                else {
                    _this.loginForm.get('user_profile_entity').disable();
                }
            });
            _this.loginForm.get('email_verification').valueChanges.subscribe(function (val) {
                if (val) {
                    _this.loginForm.get('email_addon').enable();
                }
                else {
                    _this.loginForm.get('email_addon').disable();
                }
            });
        });
    };
    /**
     * @return {?}
     */
    UserManagementSetupComponent.prototype.finish = /**
     * @return {?}
     */
    function () {
        if (this.loginForm.valid) {
            this.save.emit(this.loginForm.value);
        }
    };
    /**
     * @return {?}
     */
    UserManagementSetupComponent.prototype.close = /**
     * @return {?}
     */
    function () {
        this.cancel.emit();
    };
    UserManagementSetupComponent.decorators = [
        { type: Component, args: [{
                    selector: 'materia-user-management-setup',
                    template: "<form *ngIf=\"loginForm\" [formGroup]=\"loginForm\" style=\"max-width: 400px\">\n\t<h2 mat-dialog-title fxLayout=\"row\">\n\t\t<span fxFlex style=\"position: relative; top: 3px; left: 5px;\">User Management - Setup</span>\n\t\t<button (click)=\"close()\" tabindex=\"-1\" mat-icon-button>\n\t\t\t<mat-icon>close</mat-icon>\n\t\t</button>\n\t</h2>\n\t<mat-dialog-content>\n\t\t<div fxLayout=\"column\">\n\t\t\t<h3>\n\t\t\t\tAuthentication method\n\t\t\t</h3>\n\t\t\t<mat-radio-group formControlName=\"method\" fxLayout=\"column\">\n\t\t\t\t<mat-radio-button value=\"token\">Token based authentication (mobile ready)</mat-radio-button>\n\t\t\t\t<mat-radio-button value=\"session\">Session based authentication</mat-radio-button>\n\t\t\t</mat-radio-group>\n\t\t\t\n\t\t\t<h3>\n\t\t\t\t<mat-checkbox formControlName=\"user_profile_enabled\">User profile</mat-checkbox>\n\t\t\t</h3>\n\t\t\t<mat-form-field *ngIf=\"entities && entities.length > 0; else noEntities\">\n\t\t\t\t<mat-select placeholder=\"Select the user profile entity\" formControlName=\"user_profile_entity\">\n\t\t\t\t\t<mat-option *ngFor=\"let e of entities\" [value]=\"e.name\">{{ e.name }}</mat-option>\n\t\t\t\t</mat-select>\n\t\t\t</mat-form-field>\n\t\t\t<ng-template #noEntities>\n\t\t\t\t<div class=\"warning\">\n\t\t\t\t\tNo entity found. You need an entity to add custom fields to your users.\n\t\t\t\t</div>\n\t\t\t</ng-template>\n\t\t\n\t\t\t<h3>\n\t\t\t\t<mat-checkbox formControlName=\"email_verification\">Emails enabled</mat-checkbox>\n\t\t\t</h3>\n\n\t\t\t<mat-form-field *ngIf=\"emailAddons && emailAddons.length > 0; else noEmailAddon\">\n\t\t\t\t<mat-select placeholder=\"Select your emailing addon\" formControlName=\"email_addon\">\n\t\t\t\t\t<mat-option *ngFor=\"let e of emailAddons\" [value]=\"e.package\">{{ e.name }}</mat-option>\n\t\t\t\t</mat-select>\n\t\t\t</mat-form-field>\n\n\t\t\t<ng-template #noEmailAddon>\n\t\t\t\t<div class=\"warning\">You need\n\t\t\t\t\t<strong>Sendgrid</strong> or\n\t\t\t\t\t<strong>Mailjet</strong> addon installed\n\t\t\t\t\t<br>to send email from your Materia Application such as a signup email</div>\n\t\t\t</ng-template>\n\t\t</div>\n\t</mat-dialog-content>\n\t<mat-dialog-actions>\n\t\t<button mat-raised-button color=\"primary\" (click)=\"finish()\">Save</button>\n\t\t<button mat-raised-button (click)=\"close()\">Cancel</button>\n\t</mat-dialog-actions>\n</form>",
                    styles: ["mat-form-field{width:100%;margin:0 5px}.mat-dialog-content{margin:0;padding:0 24px}.mat-dialog-actions{padding:12px 24px}h3{margin-top:16px;margin-bottom:8px}.warning{margin:16px 0;padding:8px;border:1px solid #f44336;color:#f44336}"],
                    providers: [FormBuilder]
                },] },
    ];
    /** @nocollapse */
    UserManagementSetupComponent.ctorParameters = function () { return [
        { type: FormBuilder, },
        { type: HttpClient, },
    ]; };
    UserManagementSetupComponent.propDecorators = {
        "app": [{ type: Input },],
        "settings": [{ type: Input },],
        "baseUrl": [{ type: Input },],
        "token": [{ type: Input },],
        "save": [{ type: Output },],
        "cancel": [{ type: Output },],
    };
    UserManagementSetupComponent = __decorate([
        AddonSetup('@materia/users'),
        __metadata("design:paramtypes", [FormBuilder, HttpClient])
    ], UserManagementSetupComponent);
    return UserManagementSetupComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var /** @type {?} */ DefaultComponent = Object.freeze({
    text: 'text',
    number: 'text',
    date: 'date',
    float: 'text',
    boolean: 'switch'
});
var ParamInputComponent = /** @class */ (function () {
    function ParamInputComponent() {
        this.showAsterisk = true;
        this.showCheckbox = true;
        this.changed = new EventEmitter();
    }
    Object.defineProperty(ParamInputComponent.prototype, "requiredError", {
        get: /**
         * @return {?}
         */
        function () {
            return (this.form.get(this.param.name) &&
                this.form.get(this.param.name).hasError('required'));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ParamInputComponent.prototype, "checkboxName", {
        get: /**
         * @return {?}
         */
        function () {
            return this.param.name + "_check";
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    ParamInputComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.type = this.param.type;
        if (!this.label) {
            this.label = this.param.name;
            if (this.param.required && this.showAsterisk) {
                this.label += '*';
            }
        }
        if (this.param && this.param.component) {
            if (this.param.component === 'input') {
                if (this.param.type === 'text' || this.param.type === 'string') {
                    this.actualComponent = 'text';
                }
                else if (this.param.type === 'number') {
                    this.actualComponent = 'number';
                }
                else {
                    this.actualComponent = this.param.component;
                }
            }
            else {
                if (this.param.component === 'datePicker') {
                    this.actualComponent = 'date';
                }
                else if (this.param.component === 'timePicker') {
                    this.actualComponent = 'time';
                }
                else if (this.param.component === 'dateTimePicker') {
                    this.actualComponent = 'datetime-local';
                }
                else {
                    this.actualComponent = this.param.component;
                }
            }
        }
        else {
            this.actualComponent = DefaultComponent[this.type];
        }
        if (this.showCheckbox && !this.param.required) {
            this.form.get(this.param.name).valueChanges.subscribe(function (val) {
                if (val) {
                    _this.form.get(_this.checkboxName).setValue(true);
                }
                else {
                    _this.form.get(_this.checkboxName).setValue(false);
                }
            });
        }
    };
    ParamInputComponent.decorators = [
        { type: Component, args: [{
                    selector: 'materia-param-input',
                    template: "<div [formGroup]=\"form\" fxLayout=\"row\">\n\t<div fxLayout=\"row\" fxFlex>\n\t\t<mat-checkbox [formControlName]=\"checkboxName\" *ngIf=\" ! param.required && showCheckbox && type !== 'boolean'\">\n\t\t</mat-checkbox>\n\t\t<mat-form-field *ngIf=\"type != 'boolean' && actualComponent != 'markdown' && actualComponent != 'article'\" fxFlex>\n\t\t\t<input *ngIf=\"type != 'boolean' && type != 'date' && type != 'float' && actualComponent != 'textarea'\" tabindex=\"0\" matInput\n\t\t\t [formControlName]=\"param.name\" [placeholder]=\"label\" [type]=\"actualComponent\" />\n\t\t\t<input *ngIf=\"type == 'float'\" matInput tabindex=\"0\" type=\"number\" step=\"any\" [placeholder]=\"label\" [formControlName]=\"param.name\"\n\t\t\t/>\n\t\t\t<textarea *ngIf=\"actualComponent == 'textarea'\" tabindex=\"0\" matInput [placeholder]=\"label\" [formControlName]=\"param.name\"></textarea>\n\t\t\t<input *ngIf=\"type == 'date'\" matInput tabindex=\"0\" [formControlName]=\"param.name\" [matDatepicker]=\"picker\" [placeholder]=\"param.name\">\n\t\t\t<mat-datepicker-toggle *ngIf=\"type == 'date'\" matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n\t\t\t<mat-datepicker #picker></mat-datepicker>\n\t\t\t<mat-error *ngIf=\"requiredError\">\n\t\t\t\t{{param.name}} is\n\t\t\t\t<strong>required</strong>\n\t\t\t</mat-error>\n\t\t</mat-form-field>\n\t\t<mat-checkbox *ngIf=\"type == 'boolean'\" tabindex=\"0\" [formControlName]=\"param.name\" style=\"top: 0;\">{{label}}</mat-checkbox>\n\t\t<div class=\"markdown\" *ngIf=\"actualComponent == 'markdown'\" fxLayout=\"column\" fxFlex>\n\t\t\t<label>{{label}}</label>\n\t\t\t<textarea tabindex=\"0\" [formControlName]=\"param.name\" simplemde=\"{spellChecker: false, toolbar: ['bold', 'italic', 'heading', '|', 'quote', 'unordered-list', 'ordered-list', '|', 'link', 'image', 'table']}\"></textarea>\n\t\t</div>\n\t</div>\n</div>",
                    styles: [""]
                },] },
    ];
    /** @nocollapse */
    ParamInputComponent.ctorParameters = function () { return []; };
    ParamInputComponent.propDecorators = {
        "param": [{ type: Input },],
        "disabled": [{ type: Input },],
        "form": [{ type: Input },],
        "label": [{ type: Input },],
        "showAsterisk": [{ type: Input },],
        "showCheckbox": [{ type: Input },],
        "changed": [{ type: Output },],
    };
    return ParamInputComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var EmailSettingsComponent = /** @class */ (function () {
    function EmailSettingsComponent(http, form) {
        this.http = http;
        this.form = form;
        this.hide = new EventEmitter();
        this.save = new EventEmitter();
    }
    /**
     * @param {?} property
     * @param {?} defaultValue
     * @return {?}
     */
    EmailSettingsComponent.prototype.getSettingsProperty = /**
     * @param {?} property
     * @param {?} defaultValue
     * @return {?}
     */
    function (property, defaultValue) {
        return (this.settings && this.settings[property]) || defaultValue;
    };
    /**
     * @return {?}
     */
    EmailSettingsComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        this.emailForm = this.form.group({
            method: [
                this.getSettingsProperty('method', 'session'),
                Validators.required
            ],
            static_salt: [
                this.getSettingsProperty('static_salt', ''),
                Validators.required
            ],
            user_profile_enabled: [
                this.getSettingsProperty('user_profile_enabled', 'false')
            ],
            user_profile_entity: [
                this.getSettingsProperty('user_profile_entity', '')
            ],
            email_verification: [
                this.getSettingsProperty('email_verification', false)
            ],
            email_addon: [this.getSettingsProperty('email_addon', false)],
            template_signup: [this.getSettingsProperty('template_signup', '')],
            redirect_signup: [this.getSettingsProperty('redirect_signup', '')],
            subject_signup: [this.getSettingsProperty('subject_signup', '')],
            subject_lost_password: [this.getSettingsProperty('subject_lost_password', '')],
            subject_change_email: [this.getSettingsProperty('subject_change_email', '')],
            template_lost_password: [
                this.getSettingsProperty('template_lost_password', '')
            ],
            redirect_lost_password: [
                this.getSettingsProperty('redirect_lost_password', '')
            ],
            template_change_email: [
                this.getSettingsProperty('template_change_email', '')
            ],
            redirect_change_email: [
                this.getSettingsProperty('redirect_change_email', '')
            ]
        });
        this.refreshTemplates();
    };
    /**
     * @return {?}
     */
    EmailSettingsComponent.prototype.refreshTemplates = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.settings.email_addon === '@materia/mailjet') {
            this.http
                .post(this.baseUrl + "/entities/mailjet_template/queries/list", { limit: 1000 })
                .subscribe(function (data) {
                _this.templates = data.data
                    .filter(function (row) { return row.OwnerId !== 1; })
                    .map(function (row) {
                    return {
                        name: row.Name,
                        id: row.ID
                    };
                });
            });
        }
        else if (this.settings.email_addon === '@materia/sendgrid') {
            this.http
                .post(this.baseUrl + "/entities/sendgrid_template/queries/listTemplates", {})
                .subscribe(function (data) {
                _this.templates = data && data.data && data.data;
                // TODO...
            });
        }
    };
    /**
     * @return {?}
     */
    EmailSettingsComponent.prototype.saveEmailSettings = /**
     * @return {?}
     */
    function () {
        if (this.emailForm.valid) {
            this.save.emit(this.emailForm.value);
        }
    };
    /**
     * @return {?}
     */
    EmailSettingsComponent.prototype.cancel = /**
     * @return {?}
     */
    function () {
        this.hide.emit();
    };
    EmailSettingsComponent.decorators = [
        { type: Component, args: [{
                    selector: 'materia-user-management-email-settings',
                    template: "<form [formGroup]=\"emailForm\">\n\t<mat-accordion>\n\t\t<mat-expansion-panel #signupPanel [expanded]=\"true\" fxLayout=\"column\">\n\t\t\t<mat-expansion-panel-header>\n\t\t\t\tSignup\n\t\t\t</mat-expansion-panel-header>\n\n\t\t\t<div class=\"panel-content\" fxLayout=\"column\">\n\t\t\t\t<mat-form-field>\n\t\t\t\t\t<input matInput placeholder=\"Subject\" formControlName=\"subject_signup\">\n\t\t\t\t</mat-form-field>\n\n\t\t\t\t<mat-form-field>\n\t\t\t\t\t<mat-select placeholder=\"Template\" formControlName=\"template_signup\">\n\t\t\t\t\t\t<mat-option *ngFor=\"let t of templates\" [value]=\"t.id\">{{ t.name }} ({{t.id}})</mat-option>\n\t\t\t\t\t</mat-select>\n\t\t\t\t</mat-form-field>\n\t\t\t\t<mat-form-field>\n\t\t\t\t\t<input matInput placeholder=\"Redirect URL\" formControlName=\"redirect_signup\">\n\t\t\t\t</mat-form-field>\n\t\t\t</div>\n\t\t</mat-expansion-panel>\n\n\t\t<mat-expansion-panel #changeEmailPanel>\n\t\t\t<mat-expansion-panel-header>\n\t\t\t\tChange email\n\t\t\t</mat-expansion-panel-header>\n\n\t\t\t<div class=\"panel-content\" fxLayout=\"column\">\n\t\t\t\t<mat-form-field>\n\t\t\t\t\t<input matInput placeholder=\"Subject\" formControlName=\"subject_change_email\">\n\t\t\t\t</mat-form-field>\n\n\t\t\t\t<mat-form-field>\n\t\t\t\t\t<mat-select placeholder=\"Template\" formControlName=\"template_change_email\">\n\t\t\t\t\t\t<mat-option *ngFor=\"let t of templates\" [value]=\"t.id\">{{ t.name }} ({{t.id}})</mat-option>\n\t\t\t\t\t</mat-select>\n\t\t\t\t</mat-form-field>\n\t\t\t\t<mat-form-field>\n\t\t\t\t\t<input matInput placeholder=\"Redirect URL\" formControlName=\"redirect_change_email\">\n\t\t\t\t</mat-form-field>\n\t\t\t</div>\n\t\t</mat-expansion-panel>\n\n\t\t<mat-expansion-panel #lostPasswordPanel fxLayout=\"column\">\n\t\t\t<mat-expansion-panel-header>\n\t\t\t\tLost password\n\t\t\t</mat-expansion-panel-header>\n\t\t\t<div class=\"panel-content\" fxLayout=\"column\">\n\n\t\t\t\t<mat-form-field>\n\t\t\t\t\t<input matInput placeholder=\"Subject\" formControlName=\"subject_lost_password\">\n\t\t\t\t</mat-form-field>\n\t\t\t\t<mat-form-field>\n\t\t\t\t\t<mat-select placeholder=\"Template\" formControlName=\"template_lost_password\">\n\t\t\t\t\t\t<mat-option *ngFor=\"let t of templates\" [value]=\"t.id\">{{ t.name }} ({{t.id}})</mat-option>\n\t\t\t\t\t</mat-select>\n\t\t\t\t</mat-form-field>\n\t\t\t\t<mat-form-field>\n\t\t\t\t\t<input matInput placeholder=\"Redirect URL\" formControlName=\"redirect_lost_password\">\n\t\t\t\t</mat-form-field>\n\t\t\t</div>\n\t\t</mat-expansion-panel>\n\t</mat-accordion>\n\t<div style=\"margin: 16px 0; text-align: center;\">\n\t\t<button mat-raised-button color=\"primary\" (click)=\"saveEmailSettings()\" style=\"margin-right: 8px\">Save</button>\n\t\t<button mat-raised-button (click)=\"hide.emit()\">Cancel</button>\n\t</div>\n</form>",
                    styles: [".panel-content{margin:0 24px!important}"]
                },] },
    ];
    /** @nocollapse */
    EmailSettingsComponent.ctorParameters = function () { return [
        { type: HttpClient, },
        { type: FormBuilder, },
    ]; };
    EmailSettingsComponent.propDecorators = {
        "settings": [{ type: Input },],
        "baseUrl": [{ type: Input },],
        "hide": [{ type: Output },],
        "save": [{ type: Output },],
        "signupPanel": [{ type: ViewChild, args: ['signupPanel',] },],
        "changeEmailPanel": [{ type: ViewChild, args: ['changeEmailPanel',] },],
        "lostPasswordPanel": [{ type: ViewChild, args: ['lostPasswordPanel',] },],
    };
    return EmailSettingsComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
var UserManagementModule = /** @class */ (function () {
    function UserManagementModule() {
    }
    UserManagementModule.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        CommonModule,
                        FormsModule,
                        ReactiveFormsModule,
                        HttpClientModule,
                        FlexLayoutModule,
                        MatRippleModule,
                        MatButtonModule,
                        MatSnackBarModule,
                        MatCardModule,
                        MatIconModule,
                        MatDialogModule,
                        MatInputModule,
                        MatTooltipModule,
                        MatCheckboxModule,
                        MatSelectModule,
                        MatToolbarModule,
                        MatDatepickerModule,
                        MatNativeDateModule,
                        MatExpansionModule,
                        MatListModule,
                        MatRadioModule,
                        MatStepperModule,
                        MatProgressSpinnerModule
                    ],
                    declarations: [
                        UserManagementViewComponent,
                        EmailSettingsComponent,
                        UserManagementSetupComponent,
                        SignupFormComponent,
                        ParamInputComponent
                    ],
                    exports: [UserManagementViewComponent],
                    entryComponents: []
                },] },
    ];
    UserManagementModule = __decorate([
        Addon('@materia/users')
    ], UserManagementModule);
    return UserManagementModule;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */

export { UserManagementViewComponent, UserManagementModule, EmailSettingsComponent as ɵb, ParamInputComponent as ɵd, SignupFormComponent as ɵa, UserManagementSetupComponent as ɵc };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWF0ZXJpYS11c2Vycy5qcy5tYXAiLCJzb3VyY2VzIjpbIm5nOi8vQG1hdGVyaWEvdXNlcnMvc2lnbnVwLWZvcm0vc2lnbnVwLWZvcm0uY29tcG9uZW50LnRzIiwibmc6Ly9AbWF0ZXJpYS91c2Vycy91c2VyLW1hbmFnZW1lbnQvdXNlci1tYW5hZ2VtZW50LmNvbXBvbmVudC50cyIsIm5nOi8vQG1hdGVyaWEvdXNlcnMvdXNlci1tYW5hZ2VtZW50LXNldHVwL3VzZXItbWFuYWdlbWVudC1zZXR1cC5jb21wb25lbnQudHMiLCJuZzovL0BtYXRlcmlhL3VzZXJzL3BhcmFtLWlucHV0L3BhcmFtLWlucHV0LmNvbXBvbmVudC50cyIsIm5nOi8vQG1hdGVyaWEvdXNlcnMvZW1haWxzLXNldHRpbmdzL2VtYWlsLXNldHRpbmdzLmNvbXBvbmVudC50cyIsIm5nOi8vQG1hdGVyaWEvdXNlcnMvdXNlci1tYW5hZ2VtZW50Lm1vZHVsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDb21wb25lbnQsXG4gIE9uSW5pdCxcbiAgT3V0cHV0LFxuICBFdmVudEVtaXR0ZXIsXG4gIFZpZXdDaGlsZCxcbiAgVGVtcGxhdGVSZWYsXG4gIElucHV0LFxuICBPbkNoYW5nZXNcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGb3JtQnVpbGRlciwgVmFsaWRhdG9ycywgRm9ybUdyb3VwIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdtYXRlcmlhLXNpZ251cC1mb3JtJyxcbiAgdGVtcGxhdGU6IGA8bmctdGVtcGxhdGUgI3RlbXBsYXRlPlxuXHQ8bWF0LWNhcmQgZnhMYXlvdXQ9XCJjb2x1bW5cIj5cblx0XHQ8bWF0LXRvb2xiYXI+Q3JlYXRlIGEgbmV3IHVzZXI8L21hdC10b29sYmFyPlxuXHRcblx0XHQ8Zm9ybSBbZm9ybUdyb3VwXT1cInNpZ251cEZvcm1cIiBmeExheW91dD1cImNvbHVtblwiIHN0eWxlPVwicGFkZGluZzogMjRweDtcIj5cblx0XHRcdDxtYXQtZm9ybS1maWVsZD5cblx0XHRcdFx0PGlucHV0IGZvcm1Db250cm9sTmFtZT1cImVtYWlsXCIgbWF0SW5wdXQgcGxhY2Vob2xkZXI9XCJFbWFpbFwiIHJlcXVpcmVkIHR5cGU9XCJlbWFpbFwiIG5hbWU9XCJlbWFpbFwiPlxuXHRcdFx0PC9tYXQtZm9ybS1maWVsZD5cblx0XG5cdFx0XHQ8bWF0LWZvcm0tZmllbGQ+XG5cdFx0XHRcdDxpbnB1dCBmb3JtQ29udHJvbE5hbWU9XCJwYXNzd29yZFwiIG1hdElucHV0IHBsYWNlaG9sZGVyPVwiUGFzc3dvcmRcIiByZXF1aXJlZCB0eXBlPVwicGFzc3dvcmRcIiBuYW1lPVwicGFzc3dvcmRcIj5cblx0XHRcdDwvbWF0LWZvcm0tZmllbGQ+XG5cdFx0XHQ8ZGl2ICpuZ0lmPVwicHJvZmlsZUZpZWxkcy5sZW5ndGggPiAwXCI+XG5cdFx0XHRcdDxtYXRlcmlhLXBhcmFtLWlucHV0IFtzaG93Q2hlY2tib3hdPVwiZmFsc2VcIiBbZm9ybV09XCJzaWdudXBGb3JtXCIgW3BhcmFtXT1cInBhcmFtXCIgKm5nRm9yPVwibGV0IHBhcmFtIG9mIHByb2ZpbGVGaWVsZHNcIj48L21hdGVyaWEtcGFyYW0taW5wdXQ+XG5cdFx0XHQ8L2Rpdj5cblxuXHRcdFx0PGRpdj5cblx0XHRcdFx0PGJ1dHRvbiAoY2xpY2spPVwic2lnbnVwLmVtaXQoc2lnbnVwRm9ybS52YWx1ZSlcIiBtYXQtcmFpc2VkLWJ1dHRvbiBjb2xvcj1cInByaW1hcnlcIj5DcmVhdGU8L2J1dHRvbj5cblx0XHRcdFx0PGJ1dHRvbiAoY2xpY2spPVwiY2FuY2VsLmVtaXQoKVwiIG1hdC1yYWlzZWQtYnV0dG9uPkNhbmNlbDwvYnV0dG9uPlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9mb3JtPlxuXHQ8L21hdC1jYXJkPlxuPC9uZy10ZW1wbGF0ZT5gLFxuICBzdHlsZXM6IFtgbWF0LWNhcmR7d2lkdGg6MzAwcHg7bWFyZ2luOjBwO3BhZGRpbmc6MH1gXVxufSlcbmV4cG9ydCBjbGFzcyBTaWdudXBGb3JtQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkNoYW5nZXMge1xuICBAT3V0cHV0KCkgc2lnbnVwOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgQE91dHB1dCgpIGNhbmNlbDogRXZlbnRFbWl0dGVyPHZvaWQ+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIEBWaWV3Q2hpbGQoJ3RlbXBsYXRlJykgdGVtcGxhdGU6IFRlbXBsYXRlUmVmPGFueT47XG5cbiAgc2lnbnVwRm9ybTogRm9ybUdyb3VwO1xuXG4gIEBJbnB1dCgpIHByb2ZpbGVGaWVsZHM6IGFueTtcblxuICBjb25zdHJ1Y3Rvcihwcml2YXRlIGZiOiBGb3JtQnVpbGRlcikge31cblxuICBuZ09uQ2hhbmdlcyhjaGFuZ2VzKSB7XG4gICAgaWYgKGNoYW5nZXMucHJvZmlsZUZpZWxkcyAmJiBjaGFuZ2VzLnByb2ZpbGVGaWVsZHMuY3VycmVudFZhbHVlKSB7XG4gICAgICB0aGlzLmluaXRGb3JtKCk7XG4gICAgfVxuICB9XG4gIHByaXZhdGUgaW5pdEZvcm0oKSB7XG4gICAgdGhpcy5zaWdudXBGb3JtID0gdGhpcy5mYi5ncm91cChPYmplY3QuYXNzaWduKHt9LCB7XG4gICAgICBlbWFpbDogWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXSxcbiAgICAgIHBhc3N3b3JkOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdXG4gICAgfSwgdGhpcy5nZXRQcm9maWxlRm9ybUdyb3VwKCkpKTtcbiAgfVxuXG4gIHByaXZhdGUgZ2V0UHJvZmlsZUZvcm1Hcm91cCgpIHtcbiAgICBpZiAoISB0aGlzLnByb2ZpbGVGaWVsZHMpIHsgcmV0dXJuIHt9OyB9XG4gICAgY29uc3QgcmVzdWx0OiBhbnkgPSB7fTtcbiAgICB0aGlzLnByb2ZpbGVGaWVsZHMuZm9yRWFjaChmaWVsZCA9PiB7XG4gICAgICBpZiAoZmllbGQucmVxdWlyZWQpIHtcbiAgICAgICAgcmVzdWx0W2ZpZWxkLm5hbWVdID0gWycnLCBWYWxpZGF0b3JzLnJlcXVpcmVkXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJlc3VsdFtmaWVsZC5uYW1lXSA9ICcnO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLmluaXRGb3JtKCk7XG4gIH1cblxuICBzaWdudXBDbGljaygpIHtcbiAgICB0aGlzLnNpZ251cC5lbWl0KHRoaXMuc2lnbnVwRm9ybS52YWx1ZSk7XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgT25Jbml0LFxuICBJbnB1dCxcbiAgT3V0cHV0LFxuICBFdmVudEVtaXR0ZXIsXG4gIFZpZXdDaGlsZFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IE1hdERpYWxvZywgTWF0RGlhbG9nUmVmLCBNYXRTbmFja0JhciB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcbmltcG9ydCB7IEFkZG9uVmlldyB9IGZyb20gJ0BtYXRlcmlhL2FkZG9ucyc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG5pbXBvcnQgeyBTaWdudXBGb3JtQ29tcG9uZW50IH0gZnJvbSAnLi4vc2lnbnVwLWZvcm0vc2lnbnVwLWZvcm0uY29tcG9uZW50JztcblxuZXhwb3J0IGludGVyZmFjZSBVc2VyIHtcbiAgZW1haWw6IHN0cmluZztcbiAgZ3JhdmF0YXI6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xufVxuQEFkZG9uVmlldygnQG1hdGVyaWEvdXNlcnMnKVxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbWF0ZXJpYS11c2VyLW1hbmFnZW1lbnQnLFxuICB0ZW1wbGF0ZTogYDxkaXYgZnhMYXlvdXQ9XCJjb2x1bW5cIiBmeEZsZXg+XG5cdDxkaXYgKm5nSWY9XCJtZVwiIHN0eWxlPVwicGFkZGluZzogOHB4IDE2cHg7IGJhY2tncm91bmQtY29sb3I6ICM0Q0FGNTA7IGNvbG9yOiB3aGl0ZTtcIj5cblx0XHRDdXJyZW50bHkgY29ubmVjdGVkIGFzIHt7bWUuZW1haWx9fSAoPGEgc3R5bGU9XCJ0ZXh0LWRlY29yYXRpb246IHVuZGVybGluZTsgY3Vyc29yOiBwb2ludGVyO1wiIChjbGljayk9XCJsb2dvdXQoKVwiPkxvZ291dDwvYT4pXG5cdDwvZGl2PlxuXHQ8ZGl2IGZ4TGF5b3V0PVwicm93XCIgZnhGbGV4PlxuXHRcdDxtYXQtY2FyZCBmeExheW91dD1cImNvbHVtblwiIGZ4RmxleCAqbmdJZj1cIiFsb2FkaW5nOyBlbHNlIGxvYWRpbmdVc2Vyc1wiPlxuXHRcdFx0PG1hdC10b29sYmFyIGZ4TGF5b3V0PVwicm93XCIgZnhMYXlvdXRBbGlnbj1cInN0YXJ0IGNlbnRlclwiPlxuXHRcdFx0XHQ8bWF0LWljb24+cGVvcGxlPC9tYXQtaWNvbj5cblx0XHRcdFx0PHNwYW4+XG5cdFx0XHRcdFx0VXNlcnNcblx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHQ8c3BhbiBmeEZsZXg+PC9zcGFuPlxuXHRcdFx0XHQ8YnV0dG9uICpuZ0lmPVwiIWRpc3BsYXlFbWFpbFNldHRpbmdzICYmIHNldHRpbmdzLmVtYWlsX3ZlcmlmaWNhdGlvbiAmJiBzZXR0aW5ncy5lbWFpbF9hZGRvblwiIHN0eWxlPVwibWFyZ2luLXJpZ2h0OiA4cHg7XCIgKGNsaWNrKT1cImNvbmZpZ3VyZUVtYWlscygpXCIgbWF0LWJ1dHRvbj5Db25maWd1cmUgZW1haWxzPC9idXR0b24+XG5cdFx0XHRcdDxidXR0b24gbWF0LW1pbmktZmFiIChjbGljayk9XCJvcGVuU2lnbnVwRGlhbG9nKClcIiBtYXRUb29sdGlwPVwiTmV3IFVzZXJcIiBtYXRUb29sdGlwUG9zaXRpb249XCJsZWZ0XCIgc3R5bGU9XCJ3aWR0aDogMzFweDsgaGVpZ2h0OiAzMXB4O1wiPlxuXHRcdFx0XHRcdDxtYXQtaWNvbiBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZTsgdG9wOiAtNnB4OyBsZWZ0OiAtNHB4O1wiPmFkZDwvbWF0LWljb24+XG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0PC9tYXQtdG9vbGJhcj5cblx0XHRcdDxkaXYgKm5nSWY9XCJ1c2VycyAmJiB1c2Vycy5sZW5ndGg7IGVsc2Ugbm9Vc2VyXCIgc3R5bGU9XCJib3JkZXItdG9wOiAxcHggc29saWQgI0VFRTsgb3ZlcmZsb3cteTogYXV0bztcIiBmeExheW91dD1cImNvbHVtblwiIGZ4RmxleD5cblx0XHRcdFx0PGRpdiBmeExheW91dD1cInJvd1wiIGZ4TGF5b3V0QWxpZ249XCJzdGFydCBjZW50ZXJcIiAqbmdGb3I9XCJsZXQgdXNlciBvZiB1c2Vyc1wiIHN0eWxlPVwiYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICNFRUU7IGN1cnNvcjogcG9pbnRlcjttaW4taGVpZ2h0OiA0MHB4XCI+XG5cdFx0XHRcdFx0PGltZyBbc3JjXT1cInVzZXIuZ3JhdmF0YXJcIiBjbGFzcz1cImF2YXRhclwiIHN0eWxlPVwibWFyZ2luOiAwIDhweDsgd2lkdGg6MzJweDsgaGVpZ2h0OjMycHg7Ym9yZGVyLXJhZGl1czogMTAwJVwiIC8+XG5cdFx0XHRcdFx0PGRpdiBzdHlsZT1cImNvbG9yOiAjOTk5OyBwYWRkaW5nLXRvcDogMFwiPnt7dXNlci5lbWFpbH19PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0XHQ8bmctdGVtcGxhdGUgI25vVXNlcj5cblx0XHRcdFx0PGRpdiBmeEZsZXggZnhMYXlvdXQ9XCJjb2x1bW5cIiBmeExheW91dEFsaWduPVwiY2VudGVyIGNlbnRlclwiIGNsYXNzPVwibm8tdXNlcnNcIj5cblx0XHRcdFx0XHQ8c3Bhbj5UaGVyZSBpcyBubyB1c2VycyByZWdpc3RlcmVkIHlldDwvc3Bhbj5cblx0XHRcdFx0XHQ8ZGl2PlxuXHRcdFx0XHRcdFx0PGJ1dHRvbiAoY2xpY2spPVwib3BlblNpZ251cERpYWxvZygpXCIgbWF0LXJhaXNlZC1idXR0b24gY29sb3I9XCJwcmltYXJ5XCIgW3N0eWxlLm1hcmdpbl09XCInMTVweCdcIiBbc3R5bGUuY29sb3JdPVwiJ3doaXRlJ1wiPkNyZWF0ZVxuXHRcdFx0XHRcdFx0XHRhIHVzZXI8L2J1dHRvbj5cblx0XHRcdFx0XHQ8L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L25nLXRlbXBsYXRlPlxuXHRcdDwvbWF0LWNhcmQ+XG5cdFx0PG5nLXRlbXBsYXRlICNsb2FkaW5nVXNlcnM+XG5cdFx0XHQ8bWF0LWNhcmQgZnhMYXlvdXQ9XCJjb2x1bW5cIiBmeEZsZXggZnhMYXlvdXRBbGlnbj1cImNlbnRlciBjZW50ZXJcIj5cblx0XHRcdFx0PG1hdC1zcGlubmVyPjwvbWF0LXNwaW5uZXI+XG5cdFx0XHQ8L21hdC1jYXJkPlxuXHRcdDwvbmctdGVtcGxhdGU+XG5cdFx0PGRpdiBzdHlsZT1cIm1hcmdpbjogOHB4O1wiICpuZ0lmPVwiZGlzcGxheUVtYWlsU2V0dGluZ3NcIiBmeExheW91dD1cImNvbHVtblwiIGZ4RmxleD5cblx0XHRcdDxtYXQtdG9vbGJhciBmeExheW91dD1cInJvd1wiIGZ4TGF5b3V0QWxpZ249XCJzdGFydCBjZW50ZXJcIj5cblx0XHRcdFx0PGJ1dHRvbiBtYXQtaWNvbi1idXR0b24gKGNsaWNrKT1cImhpZGVFbWFpbFNldHRpbmdzKClcIiBtYXRUb29sdGlwPVwiSGlkZSBlbWFpbCBzZXR0aW5nc1wiIG1hdFRvb2x0aXBQb3NpdGlvbj1cInJpZ2h0XCI+XG5cdFx0XHRcdFx0PG1hdC1pY29uPmFycm93X2JhY2s8L21hdC1pY29uPlxuXHRcdFx0XHQ8L2J1dHRvbj5cblx0XHRcdFx0PG1hdC1pY29uPm1haWw8L21hdC1pY29uPlxuXHRcdFx0XHQ8c3Bhbj5cblx0XHRcdFx0XHRFbWFpbHNcblx0XHRcdFx0PC9zcGFuPlxuXHRcdFx0XHQ8c3BhbiBmeEZsZXg+PC9zcGFuPlxuXHRcdFx0PC9tYXQtdG9vbGJhcj5cblx0XHRcdDxtYXRlcmlhLXVzZXItbWFuYWdlbWVudC1lbWFpbC1zZXR0aW5ncyBbc2V0dGluZ3NdPVwic2V0dGluZ3NcIiBbYmFzZVVybF09XCJiYXNlVXJsXCJcblx0XHRcdFx0KGhpZGUpPVwiaGlkZUVtYWlsU2V0dGluZ3MoKVwiIChzYXZlKT1cInNhdmVFbWFpbFNldHRpbmdzKCRldmVudClcIiBmeEZsZXggc3R5bGU9XCJvdmVyZmxvdy15OiBhdXRvO1wiPlxuXHRcdFx0PC9tYXRlcmlhLXVzZXItbWFuYWdlbWVudC1lbWFpbC1zZXR0aW5ncz5cblx0XHQ8L2Rpdj5cblx0PC9kaXY+XG48L2Rpdj5cbjxtYXRlcmlhLXNpZ251cC1mb3JtICNzaWdudXBGb3JtVGVtcGxhdGUgW3Byb2ZpbGVGaWVsZHNdPVwicHJvZmlsZUZpZWxkc1wiIChzaWdudXApPVwic2lnbnVwKCRldmVudClcIiAoY2FuY2VsKT1cImNsb3NlU2lnbnVwRGlhbG9nKClcIj48L21hdGVyaWEtc2lnbnVwLWZvcm0+YCxcbiAgc3R5bGVzOiBbYDpob3N0e2ZsZXg6MSAxIDB9bWF0LWNhcmR7bWFyZ2luOjhweDtwYWRkaW5nOjB9bWF0LWljb257bWFyZ2luOjJweCA4cHh9Lm5vLXVzZXJze2ZvbnQtc3R5bGU6aXRhbGljfWBdLFxuICBwcm92aWRlcnM6IFtdXG59KVxuZXhwb3J0IGNsYXNzIFVzZXJNYW5hZ2VtZW50Vmlld0NvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgpXG4gIGFwcDtcbiAgQElucHV0KClcbiAgc2V0dGluZ3M7XG5cbiAgQElucHV0KClcbiAgYmFzZVVybDtcbiAgQElucHV0KClcbiAgYXBpVXJsO1xuXG4gIEBPdXRwdXQoKVxuICBvcGVuU2V0dXAgPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG5cbiAgQFZpZXdDaGlsZChTaWdudXBGb3JtQ29tcG9uZW50KVxuICBzaWdudXBEaWFsb2dDb21wOiBTaWdudXBGb3JtQ29tcG9uZW50O1xuXG4gIGxvYWRpbmcgPSB0cnVlO1xuICBtZTogYW55O1xuICB1c2VyczogVXNlcltdID0gW107XG4gIG5iVXNlcnMgPSAwO1xuICBzaWdudXBEaWFsb2c6IE1hdERpYWxvZ1JlZjxhbnk+O1xuICBwcm9maWxlRmllbGRzOiBhbnlbXTtcbiAgZGlzcGxheUVtYWlsU2V0dGluZ3M6IGJvb2xlYW47XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJpdmF0ZSBkaWFsb2c6IE1hdERpYWxvZyxcbiAgICBwcml2YXRlIGh0dHA6IEh0dHBDbGllbnQsXG4gICAgcHJpdmF0ZSBzbmFja2JhcjogTWF0U25hY2tCYXJcbiAgKSB7fVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMucmVmcmVzaExpc3QoKTtcbiAgICB0aGlzLnJlZnJlc2hDb25uZWN0ZWRVc2VyKCk7XG4gICAgdGhpcy5nZXRQcm9maWxlUGFyYW1zKCk7XG4gIH1cblxuICBnZXRQcm9maWxlUGFyYW1zKCkge1xuICAgIGlmIChcbiAgICAgIHRoaXMuc2V0dGluZ3MgJiZcbiAgICAgIHRoaXMuc2V0dGluZ3MudXNlcl9wcm9maWxlX2VuYWJsZWQgJiZcbiAgICAgIHRoaXMuc2V0dGluZ3MudXNlcl9wcm9maWxlX2VudGl0eVxuICAgICkge1xuICAgICAgcmV0dXJuIHRoaXMuaHR0cFxuICAgICAgICAuZ2V0PGFueT4oYCR7dGhpcy5iYXNlVXJsfS9pbmZvc2ApXG4gICAgICAgIC50b1Byb21pc2UoKVxuICAgICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICAgIGNvbnN0IHByb2ZpbGVFbnRpdHkgPSByZXMuZW50aXRpZXMuZmluZChcbiAgICAgICAgICAgIGVudGl0eSA9PiBlbnRpdHkubmFtZSA9PT0gdGhpcy5zZXR0aW5ncy51c2VyX3Byb2ZpbGVfZW50aXR5XG4gICAgICAgICAgKTtcbiAgICAgICAgICB0aGlzLnByb2ZpbGVGaWVsZHMgPSBwcm9maWxlRW50aXR5LmZpZWxkcy5maWx0ZXIoXG4gICAgICAgICAgICBmaWVsZCA9PlxuICAgICAgICAgICAgICBmaWVsZC5uYW1lICE9PSAnaWRfdXNlcicgJiZcbiAgICAgICAgICAgICAgKCFmaWVsZC5wcmltYXJ5IHx8IChmaWVsZC5wcmltYXJ5ICYmICFmaWVsZC5hdXRvSW5jcmVtZW50KSlcbiAgICAgICAgICApO1xuICAgICAgICB9KVxuICAgICAgICAuY2F0Y2goZSA9PiB7XG4gICAgICAgICAgdGhpcy5wcm9maWxlRmllbGRzID0gW107XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByb2ZpbGVGaWVsZHMgPSBbXTtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKTtcbiAgICB9XG4gIH1cblxuICByZWZyZXNoTGlzdCgpIHtcbiAgICB0aGlzLmxvYWRpbmcgPSB0cnVlO1xuICAgIHRoaXMuaHR0cFxuICAgICAgLnBvc3Q8YW55PihgJHt0aGlzLmJhc2VVcmx9L2VudGl0aWVzL3VzZXIvcXVlcmllcy9saXN0V2l0aEdyYXZhdGFyYCwge30pXG4gICAgICAuc3Vic2NyaWJlKHJlcyA9PiB7XG4gICAgICAgIHRoaXMudXNlcnMgPSByZXMuZGF0YTtcbiAgICAgICAgdGhpcy5uYlVzZXJzID0gcmVzLmNvdW50O1xuICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTtcbiAgICAgIH0pO1xuICB9XG5cbiAgcmVmcmVzaENvbm5lY3RlZFVzZXIoKSB7XG4gICAgdGhpcy5odHRwLmdldDxhbnk+KGAke3RoaXMuYXBpVXJsfS91c2VyL21lYCkuc3Vic2NyaWJlKFxuICAgICAgcmVzID0+IHtcbiAgICAgICAgdGhpcy5tZSA9IHJlcztcbiAgICAgIH0sXG4gICAgICAoKSA9PiAodGhpcy5tZSA9IG51bGwpXG4gICAgKTtcbiAgfVxuXG4gIGNvbmZpZ3VyZUVtYWlscygpIHtcbiAgICB0aGlzLmRpc3BsYXlFbWFpbFNldHRpbmdzID0gdHJ1ZTtcbiAgfVxuICBoaWRlRW1haWxTZXR0aW5ncygpIHtcbiAgICB0aGlzLmRpc3BsYXlFbWFpbFNldHRpbmdzID0gZmFsc2U7XG4gIH1cbiAgb3BlblNpZ251cERpYWxvZygpIHtcbiAgICB0aGlzLnNpZ251cERpYWxvZyA9IHRoaXMuZGlhbG9nLm9wZW4odGhpcy5zaWdudXBEaWFsb2dDb21wLnRlbXBsYXRlLCB7XG4gICAgICBwYW5lbENsYXNzOiAnbm8tcGFkZGluZydcbiAgICB9KTtcbiAgfVxuXG4gIHNhdmVFbWFpbFNldHRpbmdzKHNldHRpbmdzKSB7XG4gICAgdGhpcy5odHRwXG4gICAgICAucG9zdDxhbnk+KGAke3RoaXMuYmFzZVVybH0vYWRkb25zL0BtYXRlcmlhL3VzZXJzL3NldHVwYCwgc2V0dGluZ3MpXG4gICAgICAuc3Vic2NyaWJlKHJlcyA9PiB7XG4gICAgICAgIHRoaXMuc25hY2tiYXIub3BlbignU2V0dGluZ3Mgc2F2ZWQhJywgbnVsbCwge1xuICAgICAgICAgIGR1cmF0aW9uOiAzMDAwXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmhpZGVFbWFpbFNldHRpbmdzKCk7XG4gICAgICAgIHRoaXMuc2V0dGluZ3MgPSBzZXR0aW5ncztcbiAgICAgIH0pO1xuICB9XG5cbiAgY2xvc2VTaWdudXBEaWFsb2coKSB7XG4gICAgdGhpcy5zaWdudXBEaWFsb2cuY2xvc2UoKTtcbiAgfVxuXG4gIHNpZ251cCh1c2VyKSB7XG4gICAgdGhpcy5odHRwLnBvc3Q8YW55PihgJHt0aGlzLmFwaVVybH0vdXNlci9zaWdudXBgLCB1c2VyKS5zdWJzY3JpYmUoKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZVNpZ251cERpYWxvZygpO1xuICAgICAgdGhpcy5yZWZyZXNoTGlzdCgpO1xuICAgICAgdGhpcy5yZWZyZXNoQ29ubmVjdGVkVXNlcigpO1xuICAgIH0pO1xuICB9XG5cbiAgbG9nb3V0KCkge1xuICAgIHRoaXMuaHR0cC5wb3N0PGFueT4oYCR7dGhpcy5hcGlVcmx9L3VzZXIvbG9nb3V0YCwge30pLnN1YnNjcmliZShcbiAgICAgICgpID0+IHtcbiAgICAgICAgdGhpcy5yZWZyZXNoQ29ubmVjdGVkVXNlcigpO1xuICAgICAgfSxcbiAgICAgICgpID0+IHRoaXMucmVmcmVzaENvbm5lY3RlZFVzZXIoKVxuICAgICk7XG4gIH1cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1Hcm91cCwgVmFsaWRhdG9ycywgRm9ybUJ1aWxkZXIgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5cbmltcG9ydCB7IEFkZG9uU2V0dXAgfSBmcm9tICdAbWF0ZXJpYS9hZGRvbnMnO1xuaW1wb3J0IHsgSHR0cENsaWVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcblxuZXhwb3J0IGludGVyZmFjZSBJVXNlck1hbmFnZW1lbnRTZXR1cCB7XG4gIG1ldGhvZDogc3RyaW5nO1xuICB1c2VyX3Byb2ZpbGVfZW5hYmxlZDogYm9vbGVhbjtcbiAgdXNlcl9wcm9maWxlX2VudGl0eTogc3RyaW5nO1xuICBlbWFpbF92ZXJpZmljYXRpb246IGJvb2xlYW47XG4gIGVtYWlsX2FkZG9uOiBzdHJpbmc7XG59XG5cbkBBZGRvblNldHVwKCdAbWF0ZXJpYS91c2VycycpXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdtYXRlcmlhLXVzZXItbWFuYWdlbWVudC1zZXR1cCcsXG4gIHRlbXBsYXRlOiBgPGZvcm0gKm5nSWY9XCJsb2dpbkZvcm1cIiBbZm9ybUdyb3VwXT1cImxvZ2luRm9ybVwiIHN0eWxlPVwibWF4LXdpZHRoOiA0MDBweFwiPlxuXHQ8aDIgbWF0LWRpYWxvZy10aXRsZSBmeExheW91dD1cInJvd1wiPlxuXHRcdDxzcGFuIGZ4RmxleCBzdHlsZT1cInBvc2l0aW9uOiByZWxhdGl2ZTsgdG9wOiAzcHg7IGxlZnQ6IDVweDtcIj5Vc2VyIE1hbmFnZW1lbnQgLSBTZXR1cDwvc3Bhbj5cblx0XHQ8YnV0dG9uIChjbGljayk9XCJjbG9zZSgpXCIgdGFiaW5kZXg9XCItMVwiIG1hdC1pY29uLWJ1dHRvbj5cblx0XHRcdDxtYXQtaWNvbj5jbG9zZTwvbWF0LWljb24+XG5cdFx0PC9idXR0b24+XG5cdDwvaDI+XG5cdDxtYXQtZGlhbG9nLWNvbnRlbnQ+XG5cdFx0PGRpdiBmeExheW91dD1cImNvbHVtblwiPlxuXHRcdFx0PGgzPlxuXHRcdFx0XHRBdXRoZW50aWNhdGlvbiBtZXRob2Rcblx0XHRcdDwvaDM+XG5cdFx0XHQ8bWF0LXJhZGlvLWdyb3VwIGZvcm1Db250cm9sTmFtZT1cIm1ldGhvZFwiIGZ4TGF5b3V0PVwiY29sdW1uXCI+XG5cdFx0XHRcdDxtYXQtcmFkaW8tYnV0dG9uIHZhbHVlPVwidG9rZW5cIj5Ub2tlbiBiYXNlZCBhdXRoZW50aWNhdGlvbiAobW9iaWxlIHJlYWR5KTwvbWF0LXJhZGlvLWJ1dHRvbj5cblx0XHRcdFx0PG1hdC1yYWRpby1idXR0b24gdmFsdWU9XCJzZXNzaW9uXCI+U2Vzc2lvbiBiYXNlZCBhdXRoZW50aWNhdGlvbjwvbWF0LXJhZGlvLWJ1dHRvbj5cblx0XHRcdDwvbWF0LXJhZGlvLWdyb3VwPlxuXHRcdFx0XG5cdFx0XHQ8aDM+XG5cdFx0XHRcdDxtYXQtY2hlY2tib3ggZm9ybUNvbnRyb2xOYW1lPVwidXNlcl9wcm9maWxlX2VuYWJsZWRcIj5Vc2VyIHByb2ZpbGU8L21hdC1jaGVja2JveD5cblx0XHRcdDwvaDM+XG5cdFx0XHQ8bWF0LWZvcm0tZmllbGQgKm5nSWY9XCJlbnRpdGllcyAmJiBlbnRpdGllcy5sZW5ndGggPiAwOyBlbHNlIG5vRW50aXRpZXNcIj5cblx0XHRcdFx0PG1hdC1zZWxlY3QgcGxhY2Vob2xkZXI9XCJTZWxlY3QgdGhlIHVzZXIgcHJvZmlsZSBlbnRpdHlcIiBmb3JtQ29udHJvbE5hbWU9XCJ1c2VyX3Byb2ZpbGVfZW50aXR5XCI+XG5cdFx0XHRcdFx0PG1hdC1vcHRpb24gKm5nRm9yPVwibGV0IGUgb2YgZW50aXRpZXNcIiBbdmFsdWVdPVwiZS5uYW1lXCI+e3sgZS5uYW1lIH19PC9tYXQtb3B0aW9uPlxuXHRcdFx0XHQ8L21hdC1zZWxlY3Q+XG5cdFx0XHQ8L21hdC1mb3JtLWZpZWxkPlxuXHRcdFx0PG5nLXRlbXBsYXRlICNub0VudGl0aWVzPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwid2FybmluZ1wiPlxuXHRcdFx0XHRcdE5vIGVudGl0eSBmb3VuZC4gWW91IG5lZWQgYW4gZW50aXR5IHRvIGFkZCBjdXN0b20gZmllbGRzIHRvIHlvdXIgdXNlcnMuXG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9uZy10ZW1wbGF0ZT5cblx0XHRcblx0XHRcdDxoMz5cblx0XHRcdFx0PG1hdC1jaGVja2JveCBmb3JtQ29udHJvbE5hbWU9XCJlbWFpbF92ZXJpZmljYXRpb25cIj5FbWFpbHMgZW5hYmxlZDwvbWF0LWNoZWNrYm94PlxuXHRcdFx0PC9oMz5cblxuXHRcdFx0PG1hdC1mb3JtLWZpZWxkICpuZ0lmPVwiZW1haWxBZGRvbnMgJiYgZW1haWxBZGRvbnMubGVuZ3RoID4gMDsgZWxzZSBub0VtYWlsQWRkb25cIj5cblx0XHRcdFx0PG1hdC1zZWxlY3QgcGxhY2Vob2xkZXI9XCJTZWxlY3QgeW91ciBlbWFpbGluZyBhZGRvblwiIGZvcm1Db250cm9sTmFtZT1cImVtYWlsX2FkZG9uXCI+XG5cdFx0XHRcdFx0PG1hdC1vcHRpb24gKm5nRm9yPVwibGV0IGUgb2YgZW1haWxBZGRvbnNcIiBbdmFsdWVdPVwiZS5wYWNrYWdlXCI+e3sgZS5uYW1lIH19PC9tYXQtb3B0aW9uPlxuXHRcdFx0XHQ8L21hdC1zZWxlY3Q+XG5cdFx0XHQ8L21hdC1mb3JtLWZpZWxkPlxuXG5cdFx0XHQ8bmctdGVtcGxhdGUgI25vRW1haWxBZGRvbj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cIndhcm5pbmdcIj5Zb3UgbmVlZFxuXHRcdFx0XHRcdDxzdHJvbmc+U2VuZGdyaWQ8L3N0cm9uZz4gb3Jcblx0XHRcdFx0XHQ8c3Ryb25nPk1haWxqZXQ8L3N0cm9uZz4gYWRkb24gaW5zdGFsbGVkXG5cdFx0XHRcdFx0PGJyPnRvIHNlbmQgZW1haWwgZnJvbSB5b3VyIE1hdGVyaWEgQXBwbGljYXRpb24gc3VjaCBhcyBhIHNpZ251cCBlbWFpbDwvZGl2PlxuXHRcdFx0PC9uZy10ZW1wbGF0ZT5cblx0XHQ8L2Rpdj5cblx0PC9tYXQtZGlhbG9nLWNvbnRlbnQ+XG5cdDxtYXQtZGlhbG9nLWFjdGlvbnM+XG5cdFx0PGJ1dHRvbiBtYXQtcmFpc2VkLWJ1dHRvbiBjb2xvcj1cInByaW1hcnlcIiAoY2xpY2spPVwiZmluaXNoKClcIj5TYXZlPC9idXR0b24+XG5cdFx0PGJ1dHRvbiBtYXQtcmFpc2VkLWJ1dHRvbiAoY2xpY2spPVwiY2xvc2UoKVwiPkNhbmNlbDwvYnV0dG9uPlxuXHQ8L21hdC1kaWFsb2ctYWN0aW9ucz5cbjwvZm9ybT5gLFxuICBzdHlsZXM6IFtgbWF0LWZvcm0tZmllbGR7d2lkdGg6MTAwJTttYXJnaW46MCA1cHh9Lm1hdC1kaWFsb2ctY29udGVudHttYXJnaW46MDtwYWRkaW5nOjAgMjRweH0ubWF0LWRpYWxvZy1hY3Rpb25ze3BhZGRpbmc6MTJweCAyNHB4fWgze21hcmdpbi10b3A6MTZweDttYXJnaW4tYm90dG9tOjhweH0ud2FybmluZ3ttYXJnaW46MTZweCAwO3BhZGRpbmc6OHB4O2JvcmRlcjoxcHggc29saWQgI2Y0NDMzNjtjb2xvcjojZjQ0MzM2fWBdLFxuICBwcm92aWRlcnM6IFtGb3JtQnVpbGRlcl1cbn0pXG5leHBvcnQgY2xhc3MgVXNlck1hbmFnZW1lbnRTZXR1cENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgpIGFwcDtcbiAgQElucHV0KCkgc2V0dGluZ3M6IElVc2VyTWFuYWdlbWVudFNldHVwO1xuICBASW5wdXQoKSBiYXNlVXJsOiBzdHJpbmc7XG4gIEBJbnB1dCgpIHRva2VuOiBzdHJpbmc7XG4gIEBPdXRwdXQoKSBzYXZlID0gbmV3IEV2ZW50RW1pdHRlcjxJVXNlck1hbmFnZW1lbnRTZXR1cD4oKTtcbiAgQE91dHB1dCgpIGNhbmNlbCA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcblxuICBsb2dpbkZvcm06IEZvcm1Hcm91cDtcbiAgZW50aXRpZXM6IGFueVtdO1xuICBlbWFpbEFkZG9ucyA9IFtdO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZmI6IEZvcm1CdWlsZGVyLCBwcml2YXRlIGh0dHA6IEh0dHBDbGllbnQpIHt9XG5cbiAgcHJpdmF0ZSBnZXRTZXR0aW5nc1Byb3BlcnR5KHByb3BlcnR5LCBkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4gKHRoaXMuc2V0dGluZ3MgJiYgdGhpcy5zZXR0aW5nc1twcm9wZXJ0eV0pIHx8IGRlZmF1bHRWYWx1ZTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuICAgIHRoaXMuaHR0cFxuICAgICAgLmdldDxhbnk+KHRoaXMuYmFzZVVybCArICcvaW5mb3MnKVxuICAgICAgLnRvUHJvbWlzZSgpXG4gICAgICAudGhlbihyZXMgPT4ge1xuICAgICAgICB0aGlzLmxvZ2luRm9ybSA9IHRoaXMuZmIuZ3JvdXAoe1xuICAgICAgICAgIG1ldGhvZDogW1xuICAgICAgICAgICAgdGhpcy5nZXRTZXR0aW5nc1Byb3BlcnR5KCdtZXRob2QnLCAnc2Vzc2lvbicpLFxuICAgICAgICAgICAgVmFsaWRhdG9ycy5yZXF1aXJlZFxuICAgICAgICAgIF0sXG4gICAgICAgICAgdXNlcl9wcm9maWxlX2VuYWJsZWQ6IFtcbiAgICAgICAgICAgIHRoaXMuZ2V0U2V0dGluZ3NQcm9wZXJ0eSgndXNlcl9wcm9maWxlX2VuYWJsZWQnLCBmYWxzZSlcbiAgICAgICAgICBdLFxuICAgICAgICAgIHVzZXJfcHJvZmlsZV9lbnRpdHk6IFtcbiAgICAgICAgICAgIHRoaXMuZ2V0U2V0dGluZ3NQcm9wZXJ0eSgndXNlcl9wcm9maWxlX2VudGl0eScsIG51bGwpXG4gICAgICAgICAgXSxcbiAgICAgICAgICBlbWFpbF92ZXJpZmljYXRpb246IFtcbiAgICAgICAgICAgIHRoaXMuZ2V0U2V0dGluZ3NQcm9wZXJ0eSgnZW1haWxfdmVyaWZpY2F0aW9uJywgZmFsc2UpXG4gICAgICAgICAgXSxcbiAgICAgICAgICBlbWFpbF9hZGRvbjogW3RoaXMuZ2V0U2V0dGluZ3NQcm9wZXJ0eSgnZW1haWxfYWRkb24nLCBmYWxzZSldLFxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbnRpdGllcyA9IHJlcy5lbnRpdGllcy5maWx0ZXIoZW50aXR5ID0+ICEgZW50aXR5LmZyb21BZGRvbik7XG4gICAgICAgIHRoaXMuZW1haWxBZGRvbnMgPSByZXMuYWRkb25zLmZpbHRlcihcbiAgICAgICAgICBhZGRvbiA9PlxuICAgICAgICAgICAgYWRkb24ucGFja2FnZSA9PT0gJ0BtYXRlcmlhL3NlbmRncmlkJyB8fFxuICAgICAgICAgICAgYWRkb24ucGFja2FnZSA9PT0gJ0BtYXRlcmlhL21haWxqZXQnXG4gICAgICAgICk7XG5cbiAgICAgICAgaWYgKHRoaXMuZW1haWxBZGRvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5sb2dpbkZvcm0uZ2V0KCdlbWFpbF92ZXJpZmljYXRpb24nKS5kaXNhYmxlKCk7XG4gICAgICAgICAgdGhpcy5sb2dpbkZvcm0uZ2V0KCdlbWFpbF9hZGRvbicpLmRpc2FibGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggISB0aGlzLnNldHRpbmdzIHx8ICEgdGhpcy5zZXR0aW5ncy5lbWFpbF92ZXJpZmljYXRpb24pIHtcbiAgICAgICAgICB0aGlzLmxvZ2luRm9ybS5nZXQoJ2VtYWlsX2FkZG9uJykuZGlzYWJsZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCAhIHRoaXMuc2V0dGluZ3MgfHwgISB0aGlzLnNldHRpbmdzLnVzZXJfcHJvZmlsZV9lbmFibGVkKSB7XG4gICAgICAgICAgdGhpcy5sb2dpbkZvcm0uZ2V0KCd1c2VyX3Byb2ZpbGVfZW50aXR5JykuZGlzYWJsZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMuZW50aXRpZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5sb2dpbkZvcm0uZ2V0KCd1c2VyX3Byb2ZpbGVfZW5hYmxlZCcpLnNldFZhbHVlKGZhbHNlKTtcbiAgICAgICAgICB0aGlzLmxvZ2luRm9ybS5nZXQoJ3VzZXJfcHJvZmlsZV9lbnRpdHknKS5zZXRWYWx1ZShudWxsKTtcbiAgICAgICAgICB0aGlzLmxvZ2luRm9ybS5nZXQoJ3VzZXJfcHJvZmlsZV9lbmFibGVkJykuZGlzYWJsZSgpO1xuICAgICAgICAgIHRoaXMubG9naW5Gb3JtLmdldCgndXNlcl9wcm9maWxlX2VudGl0eScpLmRpc2FibGUoKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmxvZ2luRm9ybVxuICAgICAgICAgIC5nZXQoJ3VzZXJfcHJvZmlsZV9lbmFibGVkJylcbiAgICAgICAgICAudmFsdWVDaGFuZ2VzLnN1YnNjcmliZSh2YWwgPT4ge1xuICAgICAgICAgICAgaWYgKHZhbCkge1xuICAgICAgICAgICAgICB0aGlzLmxvZ2luRm9ybS5nZXQoJ3VzZXJfcHJvZmlsZV9lbnRpdHknKS5lbmFibGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHRoaXMubG9naW5Gb3JtLmdldCgndXNlcl9wcm9maWxlX2VudGl0eScpLmRpc2FibGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcblxuICAgICAgICB0aGlzLmxvZ2luRm9ybS5nZXQoJ2VtYWlsX3ZlcmlmaWNhdGlvbicpLnZhbHVlQ2hhbmdlcy5zdWJzY3JpYmUodmFsID0+IHtcbiAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2luRm9ybS5nZXQoJ2VtYWlsX2FkZG9uJykuZW5hYmxlKCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMubG9naW5Gb3JtLmdldCgnZW1haWxfYWRkb24nKS5kaXNhYmxlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICB9XG5cbiAgZmluaXNoKCkge1xuICAgIGlmICh0aGlzLmxvZ2luRm9ybS52YWxpZCkge1xuICAgICAgdGhpcy5zYXZlLmVtaXQodGhpcy5sb2dpbkZvcm0udmFsdWUpO1xuICAgIH1cbiAgfVxuXG4gIGNsb3NlKCkge1xuICAgIHRoaXMuY2FuY2VsLmVtaXQoKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgT25Jbml0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuXG5pbXBvcnQgeyBGb3JtR3JvdXAgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5cbmNvbnN0IERlZmF1bHRDb21wb25lbnQgPSBPYmplY3QuZnJlZXplKHtcbiAgdGV4dDogJ3RleHQnLFxuICBudW1iZXI6ICd0ZXh0JyxcbiAgZGF0ZTogJ2RhdGUnLFxuICBmbG9hdDogJ3RleHQnLFxuICBib29sZWFuOiAnc3dpdGNoJ1xufSk7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ21hdGVyaWEtcGFyYW0taW5wdXQnLFxuICB0ZW1wbGF0ZTogYDxkaXYgW2Zvcm1Hcm91cF09XCJmb3JtXCIgZnhMYXlvdXQ9XCJyb3dcIj5cblx0PGRpdiBmeExheW91dD1cInJvd1wiIGZ4RmxleD5cblx0XHQ8bWF0LWNoZWNrYm94IFtmb3JtQ29udHJvbE5hbWVdPVwiY2hlY2tib3hOYW1lXCIgKm5nSWY9XCIgISBwYXJhbS5yZXF1aXJlZCAmJiBzaG93Q2hlY2tib3ggJiYgdHlwZSAhPT0gJ2Jvb2xlYW4nXCI+XG5cdFx0PC9tYXQtY2hlY2tib3g+XG5cdFx0PG1hdC1mb3JtLWZpZWxkICpuZ0lmPVwidHlwZSAhPSAnYm9vbGVhbicgJiYgYWN0dWFsQ29tcG9uZW50ICE9ICdtYXJrZG93bicgJiYgYWN0dWFsQ29tcG9uZW50ICE9ICdhcnRpY2xlJ1wiIGZ4RmxleD5cblx0XHRcdDxpbnB1dCAqbmdJZj1cInR5cGUgIT0gJ2Jvb2xlYW4nICYmIHR5cGUgIT0gJ2RhdGUnICYmIHR5cGUgIT0gJ2Zsb2F0JyAmJiBhY3R1YWxDb21wb25lbnQgIT0gJ3RleHRhcmVhJ1wiIHRhYmluZGV4PVwiMFwiIG1hdElucHV0XG5cdFx0XHQgW2Zvcm1Db250cm9sTmFtZV09XCJwYXJhbS5uYW1lXCIgW3BsYWNlaG9sZGVyXT1cImxhYmVsXCIgW3R5cGVdPVwiYWN0dWFsQ29tcG9uZW50XCIgLz5cblx0XHRcdDxpbnB1dCAqbmdJZj1cInR5cGUgPT0gJ2Zsb2F0J1wiIG1hdElucHV0IHRhYmluZGV4PVwiMFwiIHR5cGU9XCJudW1iZXJcIiBzdGVwPVwiYW55XCIgW3BsYWNlaG9sZGVyXT1cImxhYmVsXCIgW2Zvcm1Db250cm9sTmFtZV09XCJwYXJhbS5uYW1lXCJcblx0XHRcdC8+XG5cdFx0XHQ8dGV4dGFyZWEgKm5nSWY9XCJhY3R1YWxDb21wb25lbnQgPT0gJ3RleHRhcmVhJ1wiIHRhYmluZGV4PVwiMFwiIG1hdElucHV0IFtwbGFjZWhvbGRlcl09XCJsYWJlbFwiIFtmb3JtQ29udHJvbE5hbWVdPVwicGFyYW0ubmFtZVwiPjwvdGV4dGFyZWE+XG5cdFx0XHQ8aW5wdXQgKm5nSWY9XCJ0eXBlID09ICdkYXRlJ1wiIG1hdElucHV0IHRhYmluZGV4PVwiMFwiIFtmb3JtQ29udHJvbE5hbWVdPVwicGFyYW0ubmFtZVwiIFttYXREYXRlcGlja2VyXT1cInBpY2tlclwiIFtwbGFjZWhvbGRlcl09XCJwYXJhbS5uYW1lXCI+XG5cdFx0XHQ8bWF0LWRhdGVwaWNrZXItdG9nZ2xlICpuZ0lmPVwidHlwZSA9PSAnZGF0ZSdcIiBtYXRTdWZmaXggW2Zvcl09XCJwaWNrZXJcIj48L21hdC1kYXRlcGlja2VyLXRvZ2dsZT5cblx0XHRcdDxtYXQtZGF0ZXBpY2tlciAjcGlja2VyPjwvbWF0LWRhdGVwaWNrZXI+XG5cdFx0XHQ8bWF0LWVycm9yICpuZ0lmPVwicmVxdWlyZWRFcnJvclwiPlxuXHRcdFx0XHR7e3BhcmFtLm5hbWV9fSBpc1xuXHRcdFx0XHQ8c3Ryb25nPnJlcXVpcmVkPC9zdHJvbmc+XG5cdFx0XHQ8L21hdC1lcnJvcj5cblx0XHQ8L21hdC1mb3JtLWZpZWxkPlxuXHRcdDxtYXQtY2hlY2tib3ggKm5nSWY9XCJ0eXBlID09ICdib29sZWFuJ1wiIHRhYmluZGV4PVwiMFwiIFtmb3JtQ29udHJvbE5hbWVdPVwicGFyYW0ubmFtZVwiIHN0eWxlPVwidG9wOiAwO1wiPnt7bGFiZWx9fTwvbWF0LWNoZWNrYm94PlxuXHRcdDxkaXYgY2xhc3M9XCJtYXJrZG93blwiICpuZ0lmPVwiYWN0dWFsQ29tcG9uZW50ID09ICdtYXJrZG93bidcIiBmeExheW91dD1cImNvbHVtblwiIGZ4RmxleD5cblx0XHRcdDxsYWJlbD57e2xhYmVsfX08L2xhYmVsPlxuXHRcdFx0PHRleHRhcmVhIHRhYmluZGV4PVwiMFwiIFtmb3JtQ29udHJvbE5hbWVdPVwicGFyYW0ubmFtZVwiIHNpbXBsZW1kZT1cIntzcGVsbENoZWNrZXI6IGZhbHNlLCB0b29sYmFyOiBbJ2JvbGQnLCAnaXRhbGljJywgJ2hlYWRpbmcnLCAnfCcsICdxdW90ZScsICd1bm9yZGVyZWQtbGlzdCcsICdvcmRlcmVkLWxpc3QnLCAnfCcsICdsaW5rJywgJ2ltYWdlJywgJ3RhYmxlJ119XCI+PC90ZXh0YXJlYT5cblx0XHQ8L2Rpdj5cblx0PC9kaXY+XG48L2Rpdj5gLFxuICBzdHlsZXM6IFtgYF1cbn0pXG5leHBvcnQgY2xhc3MgUGFyYW1JbnB1dENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgpIHBhcmFtOiBhbnk7XG4gIEBJbnB1dCgpIGRpc2FibGVkOiBib29sZWFuO1xuXG4gIEBJbnB1dCgpIGZvcm06IEZvcm1Hcm91cDtcbiAgQElucHV0KCkgbGFiZWw6IHN0cmluZztcblxuICBASW5wdXQoKSBzaG93QXN0ZXJpc2sgPSB0cnVlO1xuICBASW5wdXQoKSBzaG93Q2hlY2tib3ggPSB0cnVlO1xuXG4gIHR5cGU6IHN0cmluZztcbiAgYWN0dWFsQ29tcG9uZW50OiBzdHJpbmc7XG5cbiAgQE91dHB1dCgpIGNoYW5nZWQgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICBnZXQgcmVxdWlyZWRFcnJvcigpIHtcbiAgICByZXR1cm4gKFxuICAgICAgdGhpcy5mb3JtLmdldCh0aGlzLnBhcmFtLm5hbWUpICYmXG4gICAgICB0aGlzLmZvcm0uZ2V0KHRoaXMucGFyYW0ubmFtZSkuaGFzRXJyb3IoJ3JlcXVpcmVkJylcbiAgICApO1xuICB9XG5cbiAgZ2V0IGNoZWNrYm94TmFtZSgpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5wYXJhbS5uYW1lfV9jaGVja2A7XG4gIH1cblxuICBjb25zdHJ1Y3RvcigpIHt9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy50eXBlID0gdGhpcy5wYXJhbS50eXBlO1xuXG4gICAgaWYgKCF0aGlzLmxhYmVsKSB7XG4gICAgICB0aGlzLmxhYmVsID0gdGhpcy5wYXJhbS5uYW1lO1xuICAgICAgaWYgKHRoaXMucGFyYW0ucmVxdWlyZWQgJiYgdGhpcy5zaG93QXN0ZXJpc2spIHtcbiAgICAgICAgdGhpcy5sYWJlbCArPSAnKic7XG4gICAgICB9XG4gICAgfVxuXG4gICAgaWYgKHRoaXMucGFyYW0gJiYgdGhpcy5wYXJhbS5jb21wb25lbnQpIHtcbiAgICAgIGlmICh0aGlzLnBhcmFtLmNvbXBvbmVudCA9PT0gJ2lucHV0Jykge1xuICAgICAgICBpZiAodGhpcy5wYXJhbS50eXBlID09PSAndGV4dCcgfHwgdGhpcy5wYXJhbS50eXBlID09PSAnc3RyaW5nJykge1xuICAgICAgICAgIHRoaXMuYWN0dWFsQ29tcG9uZW50ID0gJ3RleHQnO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGFyYW0udHlwZSA9PT0gJ251bWJlcicpIHtcbiAgICAgICAgICB0aGlzLmFjdHVhbENvbXBvbmVudCA9ICdudW1iZXInO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuYWN0dWFsQ29tcG9uZW50ID0gdGhpcy5wYXJhbS5jb21wb25lbnQ7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmFtLmNvbXBvbmVudCA9PT0gJ2RhdGVQaWNrZXInKSB7XG4gICAgICAgICAgdGhpcy5hY3R1YWxDb21wb25lbnQgPSAnZGF0ZSc7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wYXJhbS5jb21wb25lbnQgPT09ICd0aW1lUGlja2VyJykge1xuICAgICAgICAgIHRoaXMuYWN0dWFsQ29tcG9uZW50ID0gJ3RpbWUnO1xuICAgICAgICB9IGVsc2UgaWYgKHRoaXMucGFyYW0uY29tcG9uZW50ID09PSAnZGF0ZVRpbWVQaWNrZXInKSB7XG4gICAgICAgICAgdGhpcy5hY3R1YWxDb21wb25lbnQgPSAnZGF0ZXRpbWUtbG9jYWwnO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRoaXMuYWN0dWFsQ29tcG9uZW50ID0gdGhpcy5wYXJhbS5jb21wb25lbnQ7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5hY3R1YWxDb21wb25lbnQgPSBEZWZhdWx0Q29tcG9uZW50W3RoaXMudHlwZV07XG4gICAgfVxuXG4gICAgaWYgKHRoaXMuc2hvd0NoZWNrYm94ICYmICF0aGlzLnBhcmFtLnJlcXVpcmVkKSB7XG4gICAgICB0aGlzLmZvcm0uZ2V0KHRoaXMucGFyYW0ubmFtZSkudmFsdWVDaGFuZ2VzLnN1YnNjcmliZSh2YWwgPT4ge1xuICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgdGhpcy5mb3JtLmdldCh0aGlzLmNoZWNrYm94TmFtZSkuc2V0VmFsdWUodHJ1ZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5mb3JtLmdldCh0aGlzLmNoZWNrYm94TmFtZSkuc2V0VmFsdWUoZmFsc2UpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn1cbiIsImltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgT25Jbml0LFxuICBJbnB1dCxcbiAgT3V0cHV0LFxuICBFdmVudEVtaXR0ZXIsXG4gIFZpZXdDaGlsZFxufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEh0dHBDbGllbnQgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5pbXBvcnQgeyBGb3JtR3JvdXAsIEZvcm1CdWlsZGVyLCBWYWxpZGF0b3JzIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgTWF0RXhwYW5zaW9uUGFuZWwgfSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbCc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ21hdGVyaWEtdXNlci1tYW5hZ2VtZW50LWVtYWlsLXNldHRpbmdzJyxcbiAgdGVtcGxhdGU6IGA8Zm9ybSBbZm9ybUdyb3VwXT1cImVtYWlsRm9ybVwiPlxuXHQ8bWF0LWFjY29yZGlvbj5cblx0XHQ8bWF0LWV4cGFuc2lvbi1wYW5lbCAjc2lnbnVwUGFuZWwgW2V4cGFuZGVkXT1cInRydWVcIiBmeExheW91dD1cImNvbHVtblwiPlxuXHRcdFx0PG1hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyPlxuXHRcdFx0XHRTaWdudXBcblx0XHRcdDwvbWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXI+XG5cblx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50XCIgZnhMYXlvdXQ9XCJjb2x1bW5cIj5cblx0XHRcdFx0PG1hdC1mb3JtLWZpZWxkPlxuXHRcdFx0XHRcdDxpbnB1dCBtYXRJbnB1dCBwbGFjZWhvbGRlcj1cIlN1YmplY3RcIiBmb3JtQ29udHJvbE5hbWU9XCJzdWJqZWN0X3NpZ251cFwiPlxuXHRcdFx0XHQ8L21hdC1mb3JtLWZpZWxkPlxuXG5cdFx0XHRcdDxtYXQtZm9ybS1maWVsZD5cblx0XHRcdFx0XHQ8bWF0LXNlbGVjdCBwbGFjZWhvbGRlcj1cIlRlbXBsYXRlXCIgZm9ybUNvbnRyb2xOYW1lPVwidGVtcGxhdGVfc2lnbnVwXCI+XG5cdFx0XHRcdFx0XHQ8bWF0LW9wdGlvbiAqbmdGb3I9XCJsZXQgdCBvZiB0ZW1wbGF0ZXNcIiBbdmFsdWVdPVwidC5pZFwiPnt7IHQubmFtZSB9fSAoe3t0LmlkfX0pPC9tYXQtb3B0aW9uPlxuXHRcdFx0XHRcdDwvbWF0LXNlbGVjdD5cblx0XHRcdFx0PC9tYXQtZm9ybS1maWVsZD5cblx0XHRcdFx0PG1hdC1mb3JtLWZpZWxkPlxuXHRcdFx0XHRcdDxpbnB1dCBtYXRJbnB1dCBwbGFjZWhvbGRlcj1cIlJlZGlyZWN0IFVSTFwiIGZvcm1Db250cm9sTmFtZT1cInJlZGlyZWN0X3NpZ251cFwiPlxuXHRcdFx0XHQ8L21hdC1mb3JtLWZpZWxkPlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9tYXQtZXhwYW5zaW9uLXBhbmVsPlxuXG5cdFx0PG1hdC1leHBhbnNpb24tcGFuZWwgI2NoYW5nZUVtYWlsUGFuZWw+XG5cdFx0XHQ8bWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXI+XG5cdFx0XHRcdENoYW5nZSBlbWFpbFxuXHRcdFx0PC9tYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlcj5cblxuXHRcdFx0PGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnRcIiBmeExheW91dD1cImNvbHVtblwiPlxuXHRcdFx0XHQ8bWF0LWZvcm0tZmllbGQ+XG5cdFx0XHRcdFx0PGlucHV0IG1hdElucHV0IHBsYWNlaG9sZGVyPVwiU3ViamVjdFwiIGZvcm1Db250cm9sTmFtZT1cInN1YmplY3RfY2hhbmdlX2VtYWlsXCI+XG5cdFx0XHRcdDwvbWF0LWZvcm0tZmllbGQ+XG5cblx0XHRcdFx0PG1hdC1mb3JtLWZpZWxkPlxuXHRcdFx0XHRcdDxtYXQtc2VsZWN0IHBsYWNlaG9sZGVyPVwiVGVtcGxhdGVcIiBmb3JtQ29udHJvbE5hbWU9XCJ0ZW1wbGF0ZV9jaGFuZ2VfZW1haWxcIj5cblx0XHRcdFx0XHRcdDxtYXQtb3B0aW9uICpuZ0Zvcj1cImxldCB0IG9mIHRlbXBsYXRlc1wiIFt2YWx1ZV09XCJ0LmlkXCI+e3sgdC5uYW1lIH19ICh7e3QuaWR9fSk8L21hdC1vcHRpb24+XG5cdFx0XHRcdFx0PC9tYXQtc2VsZWN0PlxuXHRcdFx0XHQ8L21hdC1mb3JtLWZpZWxkPlxuXHRcdFx0XHQ8bWF0LWZvcm0tZmllbGQ+XG5cdFx0XHRcdFx0PGlucHV0IG1hdElucHV0IHBsYWNlaG9sZGVyPVwiUmVkaXJlY3QgVVJMXCIgZm9ybUNvbnRyb2xOYW1lPVwicmVkaXJlY3RfY2hhbmdlX2VtYWlsXCI+XG5cdFx0XHRcdDwvbWF0LWZvcm0tZmllbGQ+XG5cdFx0XHQ8L2Rpdj5cblx0XHQ8L21hdC1leHBhbnNpb24tcGFuZWw+XG5cblx0XHQ8bWF0LWV4cGFuc2lvbi1wYW5lbCAjbG9zdFBhc3N3b3JkUGFuZWwgZnhMYXlvdXQ9XCJjb2x1bW5cIj5cblx0XHRcdDxtYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlcj5cblx0XHRcdFx0TG9zdCBwYXNzd29yZFxuXHRcdFx0PC9tYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlcj5cblx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1jb250ZW50XCIgZnhMYXlvdXQ9XCJjb2x1bW5cIj5cblxuXHRcdFx0XHQ8bWF0LWZvcm0tZmllbGQ+XG5cdFx0XHRcdFx0PGlucHV0IG1hdElucHV0IHBsYWNlaG9sZGVyPVwiU3ViamVjdFwiIGZvcm1Db250cm9sTmFtZT1cInN1YmplY3RfbG9zdF9wYXNzd29yZFwiPlxuXHRcdFx0XHQ8L21hdC1mb3JtLWZpZWxkPlxuXHRcdFx0XHQ8bWF0LWZvcm0tZmllbGQ+XG5cdFx0XHRcdFx0PG1hdC1zZWxlY3QgcGxhY2Vob2xkZXI9XCJUZW1wbGF0ZVwiIGZvcm1Db250cm9sTmFtZT1cInRlbXBsYXRlX2xvc3RfcGFzc3dvcmRcIj5cblx0XHRcdFx0XHRcdDxtYXQtb3B0aW9uICpuZ0Zvcj1cImxldCB0IG9mIHRlbXBsYXRlc1wiIFt2YWx1ZV09XCJ0LmlkXCI+e3sgdC5uYW1lIH19ICh7e3QuaWR9fSk8L21hdC1vcHRpb24+XG5cdFx0XHRcdFx0PC9tYXQtc2VsZWN0PlxuXHRcdFx0XHQ8L21hdC1mb3JtLWZpZWxkPlxuXHRcdFx0XHQ8bWF0LWZvcm0tZmllbGQ+XG5cdFx0XHRcdFx0PGlucHV0IG1hdElucHV0IHBsYWNlaG9sZGVyPVwiUmVkaXJlY3QgVVJMXCIgZm9ybUNvbnRyb2xOYW1lPVwicmVkaXJlY3RfbG9zdF9wYXNzd29yZFwiPlxuXHRcdFx0XHQ8L21hdC1mb3JtLWZpZWxkPlxuXHRcdFx0PC9kaXY+XG5cdFx0PC9tYXQtZXhwYW5zaW9uLXBhbmVsPlxuXHQ8L21hdC1hY2NvcmRpb24+XG5cdDxkaXYgc3R5bGU9XCJtYXJnaW46IDE2cHggMDsgdGV4dC1hbGlnbjogY2VudGVyO1wiPlxuXHRcdDxidXR0b24gbWF0LXJhaXNlZC1idXR0b24gY29sb3I9XCJwcmltYXJ5XCIgKGNsaWNrKT1cInNhdmVFbWFpbFNldHRpbmdzKClcIiBzdHlsZT1cIm1hcmdpbi1yaWdodDogOHB4XCI+U2F2ZTwvYnV0dG9uPlxuXHRcdDxidXR0b24gbWF0LXJhaXNlZC1idXR0b24gKGNsaWNrKT1cImhpZGUuZW1pdCgpXCI+Q2FuY2VsPC9idXR0b24+XG5cdDwvZGl2PlxuPC9mb3JtPmAsXG4gIHN0eWxlczogW2AucGFuZWwtY29udGVudHttYXJnaW46MCAyNHB4IWltcG9ydGFudH1gXVxufSlcbmV4cG9ydCBjbGFzcyBFbWFpbFNldHRpbmdzQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KClcbiAgc2V0dGluZ3M6IGFueTtcbiAgQElucHV0KClcbiAgYmFzZVVybDogc3RyaW5nO1xuXG4gIGVtYWlsRm9ybTogRm9ybUdyb3VwO1xuICB0ZW1wbGF0ZXM6IEFycmF5PHsgbmFtZTogc3RyaW5nOyBpZDogbnVtYmVyIH0+O1xuXG4gIEBPdXRwdXQoKVxuICBoaWRlID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xuICBAT3V0cHV0KClcbiAgc2F2ZSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIEBWaWV3Q2hpbGQoJ3NpZ251cFBhbmVsJylcbiAgc2lnbnVwUGFuZWw6IE1hdEV4cGFuc2lvblBhbmVsO1xuICBAVmlld0NoaWxkKCdjaGFuZ2VFbWFpbFBhbmVsJylcbiAgY2hhbmdlRW1haWxQYW5lbDogTWF0RXhwYW5zaW9uUGFuZWw7XG4gIEBWaWV3Q2hpbGQoJ2xvc3RQYXNzd29yZFBhbmVsJylcbiAgbG9zdFBhc3N3b3JkUGFuZWw6IE1hdEV4cGFuc2lvblBhbmVsO1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgaHR0cDogSHR0cENsaWVudCwgcHJpdmF0ZSBmb3JtOiBGb3JtQnVpbGRlcikge31cblxuICBwcml2YXRlIGdldFNldHRpbmdzUHJvcGVydHkocHJvcGVydHksIGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiAodGhpcy5zZXR0aW5ncyAmJiB0aGlzLnNldHRpbmdzW3Byb3BlcnR5XSkgfHwgZGVmYXVsdFZhbHVlO1xuICB9XG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMuZW1haWxGb3JtID0gdGhpcy5mb3JtLmdyb3VwKHtcbiAgICAgIG1ldGhvZDogW1xuICAgICAgICB0aGlzLmdldFNldHRpbmdzUHJvcGVydHkoJ21ldGhvZCcsICdzZXNzaW9uJyksXG4gICAgICAgIFZhbGlkYXRvcnMucmVxdWlyZWRcbiAgICAgIF0sXG4gICAgICBzdGF0aWNfc2FsdDogW1xuICAgICAgICB0aGlzLmdldFNldHRpbmdzUHJvcGVydHkoJ3N0YXRpY19zYWx0JywgJycpLFxuICAgICAgICBWYWxpZGF0b3JzLnJlcXVpcmVkXG4gICAgICBdLFxuICAgICAgdXNlcl9wcm9maWxlX2VuYWJsZWQ6IFtcbiAgICAgICAgdGhpcy5nZXRTZXR0aW5nc1Byb3BlcnR5KCd1c2VyX3Byb2ZpbGVfZW5hYmxlZCcsICdmYWxzZScpXG4gICAgICBdLFxuICAgICAgdXNlcl9wcm9maWxlX2VudGl0eTogW1xuICAgICAgICB0aGlzLmdldFNldHRpbmdzUHJvcGVydHkoJ3VzZXJfcHJvZmlsZV9lbnRpdHknLCAnJylcbiAgICAgIF0sXG4gICAgICBlbWFpbF92ZXJpZmljYXRpb246IFtcbiAgICAgICAgdGhpcy5nZXRTZXR0aW5nc1Byb3BlcnR5KCdlbWFpbF92ZXJpZmljYXRpb24nLCBmYWxzZSlcbiAgICAgIF0sXG4gICAgICBlbWFpbF9hZGRvbjogW3RoaXMuZ2V0U2V0dGluZ3NQcm9wZXJ0eSgnZW1haWxfYWRkb24nLCBmYWxzZSldLFxuICAgICAgdGVtcGxhdGVfc2lnbnVwOiBbdGhpcy5nZXRTZXR0aW5nc1Byb3BlcnR5KCd0ZW1wbGF0ZV9zaWdudXAnLCAnJyldLFxuICAgICAgcmVkaXJlY3Rfc2lnbnVwOiBbdGhpcy5nZXRTZXR0aW5nc1Byb3BlcnR5KCdyZWRpcmVjdF9zaWdudXAnLCAnJyldLFxuICAgICAgc3ViamVjdF9zaWdudXA6IFt0aGlzLmdldFNldHRpbmdzUHJvcGVydHkoJ3N1YmplY3Rfc2lnbnVwJywgJycpXSxcbiAgICAgIHN1YmplY3RfbG9zdF9wYXNzd29yZDogW3RoaXMuZ2V0U2V0dGluZ3NQcm9wZXJ0eSgnc3ViamVjdF9sb3N0X3Bhc3N3b3JkJywgJycpXSxcbiAgICAgIHN1YmplY3RfY2hhbmdlX2VtYWlsOiBbdGhpcy5nZXRTZXR0aW5nc1Byb3BlcnR5KCdzdWJqZWN0X2NoYW5nZV9lbWFpbCcsICcnKV0sXG4gICAgICB0ZW1wbGF0ZV9sb3N0X3Bhc3N3b3JkOiBbXG4gICAgICAgIHRoaXMuZ2V0U2V0dGluZ3NQcm9wZXJ0eSgndGVtcGxhdGVfbG9zdF9wYXNzd29yZCcsICcnKVxuICAgICAgXSxcbiAgICAgIHJlZGlyZWN0X2xvc3RfcGFzc3dvcmQ6IFtcbiAgICAgICAgdGhpcy5nZXRTZXR0aW5nc1Byb3BlcnR5KCdyZWRpcmVjdF9sb3N0X3Bhc3N3b3JkJywgJycpXG4gICAgICBdLFxuICAgICAgdGVtcGxhdGVfY2hhbmdlX2VtYWlsOiBbXG4gICAgICAgIHRoaXMuZ2V0U2V0dGluZ3NQcm9wZXJ0eSgndGVtcGxhdGVfY2hhbmdlX2VtYWlsJywgJycpXG4gICAgICBdLFxuICAgICAgcmVkaXJlY3RfY2hhbmdlX2VtYWlsOiBbXG4gICAgICAgIHRoaXMuZ2V0U2V0dGluZ3NQcm9wZXJ0eSgncmVkaXJlY3RfY2hhbmdlX2VtYWlsJywgJycpXG4gICAgICBdXG4gICAgfSk7XG5cbiAgICB0aGlzLnJlZnJlc2hUZW1wbGF0ZXMoKTtcbiAgfVxuXG4gIHJlZnJlc2hUZW1wbGF0ZXMoKSB7XG4gICAgaWYgKHRoaXMuc2V0dGluZ3MuZW1haWxfYWRkb24gPT09ICdAbWF0ZXJpYS9tYWlsamV0Jykge1xuICAgICAgdGhpcy5odHRwXG4gICAgICAgIC5wb3N0PGFueT4oYCR7dGhpcy5iYXNlVXJsfS9lbnRpdGllcy9tYWlsamV0X3RlbXBsYXRlL3F1ZXJpZXMvbGlzdGAsIHtsaW1pdDogMTAwMH0pXG4gICAgICAgIC5zdWJzY3JpYmUoZGF0YSA9PiB7XG4gICAgICAgICAgdGhpcy50ZW1wbGF0ZXMgPSBkYXRhLmRhdGFcbiAgICAgICAgICAgIC5maWx0ZXIocm93ID0+IHJvdy5Pd25lcklkICE9PSAxKVxuICAgICAgICAgICAgLm1hcChyb3cgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIG5hbWU6IHJvdy5OYW1lLFxuICAgICAgICAgICAgICAgIGlkOiByb3cuSURcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHRoaXMuc2V0dGluZ3MuZW1haWxfYWRkb24gPT09ICdAbWF0ZXJpYS9zZW5kZ3JpZCcpIHtcbiAgICAgIHRoaXMuaHR0cFxuICAgICAgICAucG9zdDxhbnk+KFxuICAgICAgICAgIGAke3RoaXMuYmFzZVVybH0vZW50aXRpZXMvc2VuZGdyaWRfdGVtcGxhdGUvcXVlcmllcy9saXN0VGVtcGxhdGVzYCxcbiAgICAgICAgICB7fVxuICAgICAgICApXG4gICAgICAgIC5zdWJzY3JpYmUoZGF0YSA9PiB7XG4gICAgICAgICAgdGhpcy50ZW1wbGF0ZXMgPSBkYXRhICYmIGRhdGEuZGF0YSAmJiBkYXRhLmRhdGE7XG4gICAgICAgICAgLy8gVE9ETy4uLlxuICAgICAgICB9KTtcbiAgICB9XG4gIH1cbiAgc2F2ZUVtYWlsU2V0dGluZ3MoKSB7XG4gICAgaWYgKHRoaXMuZW1haWxGb3JtLnZhbGlkKSB7XG4gICAgICB0aGlzLnNhdmUuZW1pdCh0aGlzLmVtYWlsRm9ybS52YWx1ZSk7XG4gICAgfVxuICB9XG4gIGNhbmNlbCgpIHtcbiAgICB0aGlzLmhpZGUuZW1pdCgpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBOZ01vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydCB7IEZvcm1zTW9kdWxlLCBSZWFjdGl2ZUZvcm1zTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgRmxleExheW91dE1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2ZsZXgtbGF5b3V0JztcblxuaW1wb3J0IHtcbiAgTWF0QnV0dG9uTW9kdWxlLFxuICBNYXRSaXBwbGVNb2R1bGUsXG4gIE1hdFNuYWNrQmFyTW9kdWxlLFxuICBNYXRDYXJkTW9kdWxlLFxuICBNYXRJY29uTW9kdWxlLFxuICBNYXREaWFsb2dNb2R1bGUsXG4gIE1hdElucHV0TW9kdWxlLFxuICBNYXRMaXN0TW9kdWxlLFxuICBNYXRUb29sdGlwTW9kdWxlLFxuICBNYXRUb29sYmFyTW9kdWxlLFxuICBNYXREYXRlcGlja2VyTW9kdWxlLFxuICBNYXRFeHBhbnNpb25Nb2R1bGUsXG4gIE1hdE5hdGl2ZURhdGVNb2R1bGUsXG4gIE1hdFJhZGlvTW9kdWxlLFxuICBNYXRTdGVwcGVyTW9kdWxlLFxuICBNYXRTZWxlY3RNb2R1bGUsXG4gIE1hdENoZWNrYm94TW9kdWxlLFxuICBNYXRQcm9ncmVzc1NwaW5uZXJNb2R1bGVcbn0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwnO1xuXG5pbXBvcnQgeyBBZGRvbiB9IGZyb20gJ0BtYXRlcmlhL2FkZG9ucyc7XG5cbmltcG9ydCB7IFVzZXJNYW5hZ2VtZW50Vmlld0NvbXBvbmVudCB9IGZyb20gJy4vdXNlci1tYW5hZ2VtZW50L3VzZXItbWFuYWdlbWVudC5jb21wb25lbnQnO1xuaW1wb3J0IHsgSHR0cENsaWVudE1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IFNpZ251cEZvcm1Db21wb25lbnQgfSBmcm9tICcuL3NpZ251cC1mb3JtL3NpZ251cC1mb3JtLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBVc2VyTWFuYWdlbWVudFNldHVwQ29tcG9uZW50IH0gZnJvbSAnLi91c2VyLW1hbmFnZW1lbnQtc2V0dXAvdXNlci1tYW5hZ2VtZW50LXNldHVwLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBQYXJhbUlucHV0Q29tcG9uZW50IH0gZnJvbSAnLi9wYXJhbS1pbnB1dC9wYXJhbS1pbnB1dC5jb21wb25lbnQnO1xuaW1wb3J0IHsgRW1haWxTZXR0aW5nc0NvbXBvbmVudCB9IGZyb20gJy4vZW1haWxzLXNldHRpbmdzL2VtYWlsLXNldHRpbmdzLmNvbXBvbmVudCc7XG5cbkBBZGRvbignQG1hdGVyaWEvdXNlcnMnKVxuQE5nTW9kdWxlKHtcbiAgaW1wb3J0czogW1xuICAgIENvbW1vbk1vZHVsZSxcbiAgICBGb3Jtc01vZHVsZSxcbiAgICBSZWFjdGl2ZUZvcm1zTW9kdWxlLFxuICAgIEh0dHBDbGllbnRNb2R1bGUsXG4gICAgRmxleExheW91dE1vZHVsZSxcbiAgICBNYXRSaXBwbGVNb2R1bGUsXG4gICAgTWF0QnV0dG9uTW9kdWxlLFxuICAgIE1hdFNuYWNrQmFyTW9kdWxlLFxuICAgIE1hdENhcmRNb2R1bGUsXG4gICAgTWF0SWNvbk1vZHVsZSxcbiAgICBNYXREaWFsb2dNb2R1bGUsXG4gICAgTWF0SW5wdXRNb2R1bGUsXG4gICAgTWF0VG9vbHRpcE1vZHVsZSxcbiAgICBNYXRDaGVja2JveE1vZHVsZSxcbiAgICBNYXRTZWxlY3RNb2R1bGUsXG4gICAgTWF0VG9vbGJhck1vZHVsZSxcbiAgICBNYXREYXRlcGlja2VyTW9kdWxlLFxuICAgIE1hdE5hdGl2ZURhdGVNb2R1bGUsXG4gICAgTWF0RXhwYW5zaW9uTW9kdWxlLFxuICAgIE1hdExpc3RNb2R1bGUsXG4gICAgTWF0UmFkaW9Nb2R1bGUsXG4gICAgTWF0U3RlcHBlck1vZHVsZSxcbiAgICBNYXRQcm9ncmVzc1NwaW5uZXJNb2R1bGVcbiAgXSxcbiAgZGVjbGFyYXRpb25zOiBbXG4gICAgVXNlck1hbmFnZW1lbnRWaWV3Q29tcG9uZW50LFxuICAgIEVtYWlsU2V0dGluZ3NDb21wb25lbnQsXG4gICAgVXNlck1hbmFnZW1lbnRTZXR1cENvbXBvbmVudCxcbiAgICBTaWdudXBGb3JtQ29tcG9uZW50LFxuICAgIFBhcmFtSW5wdXRDb21wb25lbnRcbiAgXSxcbiAgZXhwb3J0czogW1VzZXJNYW5hZ2VtZW50Vmlld0NvbXBvbmVudF0sXG4gIGVudHJ5Q29tcG9uZW50czogW11cbn0pXG5leHBvcnQgY2xhc3MgVXNlck1hbmFnZW1lbnRNb2R1bGUge31cbiJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7O0FBQUE7SUFpREUsNkJBQW9CLEVBQWU7UUFBZixPQUFFLEdBQUYsRUFBRSxDQUFhO3NCQVRHLElBQUksWUFBWSxFQUFFO3NCQUNqQixJQUFJLFlBQVksRUFBRTtLQVFsQjs7Ozs7SUFFdkMseUNBQVc7Ozs7SUFBWCxVQUFZLE9BQU87UUFDakIsSUFBSSxPQUFPLENBQUMsYUFBYSxJQUFJLE9BQU8sQ0FBQyxhQUFhLENBQUMsWUFBWSxFQUFFO1lBQy9ELElBQUksQ0FBQyxRQUFRLEVBQUUsQ0FBQztTQUNqQjtLQUNGOzs7O0lBQ08sc0NBQVE7Ozs7UUFDZCxJQUFJLENBQUMsVUFBVSxHQUFHLElBQUksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxNQUFNLENBQUMsRUFBRSxFQUFFO1lBQ2hELEtBQUssRUFBRSxDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsUUFBUSxDQUFDO1lBQ2hDLFFBQVEsRUFBRSxDQUFDLEVBQUUsRUFBRSxVQUFVLENBQUMsUUFBUSxDQUFDO1NBQ3BDLEVBQUUsSUFBSSxDQUFDLG1CQUFtQixFQUFFLENBQUMsQ0FBQyxDQUFDOzs7OztJQUcxQixpREFBbUI7Ozs7UUFDekIsSUFBSSxDQUFFLElBQUksQ0FBQyxhQUFhLEVBQUU7WUFBRSxPQUFPLEVBQUUsQ0FBQztTQUFFO1FBQ3hDLHFCQUFNLE1BQU0sR0FBUSxFQUFFLENBQUM7UUFDdkIsSUFBSSxDQUFDLGFBQWEsQ0FBQyxPQUFPLENBQUMsVUFBQSxLQUFLO1lBQzlCLElBQUksS0FBSyxDQUFDLFFBQVEsRUFBRTtnQkFDbEIs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