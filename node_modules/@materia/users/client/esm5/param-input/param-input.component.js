/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes} checked by tsc
 */
import { Component, Input, Output, EventEmitter } from '@angular/core';
import { FormGroup } from '@angular/forms';
var /** @type {?} */ DefaultComponent = Object.freeze({
    text: 'text',
    number: 'text',
    date: 'date',
    float: 'text',
    boolean: 'switch'
});
var ParamInputComponent = /** @class */ (function () {
    function ParamInputComponent() {
        this.showAsterisk = true;
        this.showCheckbox = true;
        this.changed = new EventEmitter();
    }
    Object.defineProperty(ParamInputComponent.prototype, "requiredError", {
        get: /**
         * @return {?}
         */
        function () {
            return (this.form.get(this.param.name) &&
                this.form.get(this.param.name).hasError('required'));
        },
        enumerable: true,
        configurable: true
    });
    Object.defineProperty(ParamInputComponent.prototype, "checkboxName", {
        get: /**
         * @return {?}
         */
        function () {
            return this.param.name + "_check";
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    ParamInputComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.type = this.param.type;
        if (!this.label) {
            this.label = this.param.name;
            if (this.param.required && this.showAsterisk) {
                this.label += '*';
            }
        }
        if (this.param && this.param.component) {
            if (this.param.component === 'input') {
                if (this.param.type === 'text' || this.param.type === 'string') {
                    this.actualComponent = 'text';
                }
                else if (this.param.type === 'number') {
                    this.actualComponent = 'number';
                }
                else {
                    this.actualComponent = this.param.component;
                }
            }
            else {
                if (this.param.component === 'datePicker') {
                    this.actualComponent = 'date';
                }
                else if (this.param.component === 'timePicker') {
                    this.actualComponent = 'time';
                }
                else if (this.param.component === 'dateTimePicker') {
                    this.actualComponent = 'datetime-local';
                }
                else {
                    this.actualComponent = this.param.component;
                }
            }
        }
        else {
            this.actualComponent = DefaultComponent[this.type];
        }
        if (this.showCheckbox && !this.param.required) {
            this.form.get(this.param.name).valueChanges.subscribe(function (val) {
                if (val) {
                    _this.form.get(_this.checkboxName).setValue(true);
                }
                else {
                    _this.form.get(_this.checkboxName).setValue(false);
                }
            });
        }
    };
    ParamInputComponent.decorators = [
        { type: Component, args: [{
                    selector: 'materia-param-input',
                    template: "<div [formGroup]=\"form\" fxLayout=\"row\">\n\t<div fxLayout=\"row\" fxFlex>\n\t\t<mat-checkbox [formControlName]=\"checkboxName\" *ngIf=\" ! param.required && showCheckbox && type !== 'boolean'\">\n\t\t</mat-checkbox>\n\t\t<mat-form-field *ngIf=\"type != 'boolean' && actualComponent != 'markdown' && actualComponent != 'article'\" fxFlex>\n\t\t\t<input *ngIf=\"type != 'boolean' && type != 'date' && type != 'float' && actualComponent != 'textarea'\" tabindex=\"0\" matInput\n\t\t\t [formControlName]=\"param.name\" [placeholder]=\"label\" [type]=\"actualComponent\" />\n\t\t\t<input *ngIf=\"type == 'float'\" matInput tabindex=\"0\" type=\"number\" step=\"any\" [placeholder]=\"label\" [formControlName]=\"param.name\"\n\t\t\t/>\n\t\t\t<textarea *ngIf=\"actualComponent == 'textarea'\" tabindex=\"0\" matInput [placeholder]=\"label\" [formControlName]=\"param.name\"></textarea>\n\t\t\t<input *ngIf=\"type == 'date'\" matInput tabindex=\"0\" [formControlName]=\"param.name\" [matDatepicker]=\"picker\" [placeholder]=\"param.name\">\n\t\t\t<mat-datepicker-toggle *ngIf=\"type == 'date'\" matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n\t\t\t<mat-datepicker #picker></mat-datepicker>\n\t\t\t<mat-error *ngIf=\"requiredError\">\n\t\t\t\t{{param.name}} is\n\t\t\t\t<strong>required</strong>\n\t\t\t</mat-error>\n\t\t</mat-form-field>\n\t\t<mat-checkbox *ngIf=\"type == 'boolean'\" tabindex=\"0\" [formControlName]=\"param.name\" style=\"top: 0;\">{{label}}</mat-checkbox>\n\t\t<div class=\"markdown\" *ngIf=\"actualComponent == 'markdown'\" fxLayout=\"column\" fxFlex>\n\t\t\t<label>{{label}}</label>\n\t\t\t<textarea tabindex=\"0\" [formControlName]=\"param.name\" simplemde=\"{spellChecker: false, toolbar: ['bold', 'italic', 'heading', '|', 'quote', 'unordered-list', 'ordered-list', '|', 'link', 'image', 'table']}\"></textarea>\n\t\t</div>\n\t</div>\n</div>",
                    styles: [""]
                },] },
    ];
    /** @nocollapse */
    ParamInputComponent.ctorParameters = function () { return []; };
    ParamInputComponent.propDecorators = {
        "param": [{ type: Input },],
        "disabled": [{ type: Input },],
        "form": [{ type: Input },],
        "label": [{ type: Input },],
        "showAsterisk": [{ type: Input },],
        "showCheckbox": [{ type: Input },],
        "changed": [{ type: Output },],
    };
    return ParamInputComponent;
}());
export { ParamInputComponent };
function ParamInputComponent_tsickle_Closure_declarations() {
    /** @type {!Array<{type: !Function, args: (undefined|!Array<?>)}>} */
    ParamInputComponent.decorators;
    /**
     * @nocollapse
     * @type {function(): !Array<(null|{type: ?, decorators: (undefined|!Array<{type: !Function, args: (undefined|!Array<?>)}>)})>}
     */
    ParamInputComponent.ctorParameters;
    /** @type {!Object<string,!Array<{type: !Function, args: (undefined|!Array<?>)}>>} */
    ParamInputComponent.propDecorators;
    /** @type {?} */
    ParamInputComponent.prototype.param;
    /** @type {?} */
    ParamInputComponent.prototype.disabled;
    /** @type {?} */
    ParamInputComponent.prototype.form;
    /** @type {?} */
    ParamInputComponent.prototype.label;
    /** @type {?} */
    ParamInputComponent.prototype.showAsterisk;
    /** @type {?} */
    ParamInputComponent.prototype.showCheckbox;
    /** @type {?} */
    ParamInputComponent.prototype.type;
    /** @type {?} */
    ParamInputComponent.prototype.actualComponent;
    /** @type {?} */
    ParamInputComponent.prototype.changed;
}

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFyYW0taW5wdXQuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6Im5nOi8vQG1hdGVyaWEvdXNlcnMvIiwic291cmNlcyI6WyJwYXJhbS1pbnB1dC9wYXJhbS1pbnB1dC5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7OztBQUFBLE9BQU8sRUFBRSxTQUFTLEVBQUUsS0FBSyxFQUFVLE1BQU0sRUFBRSxZQUFZLEVBQUUsTUFBTSxlQUFlLENBQUM7QUFFL0UsT0FBTyxFQUFFLFNBQVMsRUFBRSxNQUFNLGdCQUFnQixDQUFDO0FBRTNDLHFCQUFNLGdCQUFnQixHQUFHLE1BQU0sQ0FBQyxNQUFNLENBQUM7SUFDckMsSUFBSSxFQUFFLE1BQU07SUFDWixNQUFNLEVBQUUsTUFBTTtJQUNkLElBQUksRUFBRSxNQUFNO0lBQ1osS0FBSyxFQUFFLE1BQU07SUFDYixPQUFPLEVBQUUsUUFBUTtDQUNsQixDQUFDLENBQUM7O0lBeUREOzRCQW5Cd0IsSUFBSTs0QkFDSixJQUFJO3VCQUtSLElBQUksWUFBWSxFQUFPO0tBYTNCO0lBWGhCLHNCQUFJLDhDQUFhOzs7O1FBQWpCO1lBQ0UsTUFBTSxDQUFDLENBQ0wsSUFBSSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUM7Z0JBQzlCLElBQUksQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLENBQUMsUUFBUSxDQUFDLFVBQVUsQ0FBQyxDQUNwRCxDQUFDO1NBQ0g7OztPQUFBO0lBRUQsc0JBQUksNkNBQVk7Ozs7UUFBaEI7WUFDRSxNQUFNLENBQUksSUFBSSxDQUFDLEtBQUssQ0FBQyxJQUFJLFdBQVEsQ0FBQztTQUNuQzs7O09BQUE7Ozs7SUFJRCxzQ0FBUTs7O0lBQVI7UUFBQSxpQkEyQ0M7UUExQ0MsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQztRQUU1QixF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QUFDO29CQUNULFFBQVEsRUFBRSxxQkFBcUI7b0JBQy9CLFFBQVEsRUFBRSw2MERBd0JMO29CQUNMLE1BQU0sRUFBRSxDQUFDLEVBQUUsQ0FBQztpQkFDYjs7Ozs7MEJBRUUsS0FBSzs2QkFDTCxLQUFLO3lCQUVMLEtBQUs7MEJBQ0wsS0FBSztpQ0FFTCxLQUFLO2lDQUNMLEtBQUs7NEJBS0wsTUFBTTs7OEJBdERUOztTQXlDYSxtQkFBbUIiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPbkluaXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IEZvcm1Hcm91cCB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcblxuY29uc3QgRGVmYXVsdENvbXBvbmVudCA9IE9iamVjdC5mcmVlemUoe1xuICB0ZXh0OiAndGV4dCcsXG4gIG51bWJlcjogJ3RleHQnLFxuICBkYXRlOiAnZGF0ZScsXG4gIGZsb2F0OiAndGV4dCcsXG4gIGJvb2xlYW46ICdzd2l0Y2gnXG59KTtcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbWF0ZXJpYS1wYXJhbS1pbnB1dCcsXG4gIHRlbXBsYXRlOiBgPGRpdiBbZm9ybUdyb3VwXT1cImZvcm1cIiBmeExheW91dD1cInJvd1wiPlxuXHQ8ZGl2IGZ4TGF5b3V0PVwicm93XCIgZnhGbGV4PlxuXHRcdDxtYXQtY2hlY2tib3ggW2Zvcm1Db250cm9sTmFtZV09XCJjaGVja2JveE5hbWVcIiAqbmdJZj1cIiAhIHBhcmFtLnJlcXVpcmVkICYmIHNob3dDaGVja2JveCAmJiB0eXBlICE9PSAnYm9vbGVhbidcIj5cblx0XHQ8L21hdC1jaGVja2JveD5cblx0XHQ8bWF0LWZvcm0tZmllbGQgKm5nSWY9XCJ0eXBlICE9ICdib29sZWFuJyAmJiBhY3R1YWxDb21wb25lbnQgIT0gJ21hcmtkb3duJyAmJiBhY3R1YWxDb21wb25lbnQgIT0gJ2FydGljbGUnXCIgZnhGbGV4PlxuXHRcdFx0PGlucHV0ICpuZ0lmPVwidHlwZSAhPSAnYm9vbGVhbicgJiYgdHlwZSAhPSAnZGF0ZScgJiYgdHlwZSAhPSAnZmxvYXQnICYmIGFjdHVhbENvbXBvbmVudCAhPSAndGV4dGFyZWEnXCIgdGFiaW5kZXg9XCIwXCIgbWF0SW5wdXRcblx0XHRcdCBbZm9ybUNvbnRyb2xOYW1lXT1cInBhcmFtLm5hbWVcIiBbcGxhY2Vob2xkZXJdPVwibGFiZWxcIiBbdHlwZV09XCJhY3R1YWxDb21wb25lbnRcIiAvPlxuXHRcdFx0PGlucHV0ICpuZ0lmPVwidHlwZSA9PSAnZmxvYXQnXCIgbWF0SW5wdXQgdGFiaW5kZXg9XCIwXCIgdHlwZT1cIm51bWJlclwiIHN0ZXA9XCJhbnlcIiBbcGxhY2Vob2xkZXJdPVwibGFiZWxcIiBbZm9ybUNvbnRyb2xOYW1lXT1cInBhcmFtLm5hbWVcIlxuXHRcdFx0Lz5cblx0XHRcdDx0ZXh0YXJlYSAqbmdJZj1cImFjdHVhbENvbXBvbmVudCA9PSAndGV4dGFyZWEnXCIgdGFiaW5kZXg9XCIwXCIgbWF0SW5wdXQgW3BsYWNlaG9sZGVyXT1cImxhYmVsXCIgW2Zvcm1Db250cm9sTmFtZV09XCJwYXJhbS5uYW1lXCI+PC90ZXh0YXJlYT5cblx0XHRcdDxpbnB1dCAqbmdJZj1cInR5cGUgPT0gJ2RhdGUnXCIgbWF0SW5wdXQgdGFiaW5kZXg9XCIwXCIgW2Zvcm1Db250cm9sTmFtZV09XCJwYXJhbS5uYW1lXCIgW21hdERhdGVwaWNrZXJdPVwicGlja2VyXCIgW3BsYWNlaG9sZGVyXT1cInBhcmFtLm5hbWVcIj5cblx0XHRcdDxtYXQtZGF0ZXBpY2tlci10b2dnbGUgKm5nSWY9XCJ0eXBlID09ICdkYXRlJ1wiIG1hdFN1ZmZpeCBbZm9yXT1cInBpY2tlclwiPjwvbWF0LWRhdGVwaWNrZXItdG9nZ2xlPlxuXHRcdFx0PG1hdC1kYXRlcGlja2VyICNwaWNrZXI+PC9tYXQtZGF0ZXBpY2tlcj5cblx0XHRcdDxtYXQtZXJyb3IgKm5nSWY9XCJyZXF1aXJlZEVycm9yXCI+XG5cdFx0XHRcdHt7cGFyYW0ubmFtZX19IGlzXG5cdFx0XHRcdDxzdHJvbmc+cmVxdWlyZWQ8L3N0cm9uZz5cblx0XHRcdDwvbWF0LWVycm9yPlxuXHRcdDwvbWF0LWZvcm0tZmllbGQ+XG5cdFx0PG1hdC1jaGVja2JveCAqbmdJZj1cInR5cGUgPT0gJ2Jvb2xlYW4nXCIgdGFiaW5kZXg9XCIwXCIgW2Zvcm1Db250cm9sTmFtZV09XCJwYXJhbS5uYW1lXCIgc3R5bGU9XCJ0b3A6IDA7XCI+e3tsYWJlbH19PC9tYXQtY2hlY2tib3g+XG5cdFx0PGRpdiBjbGFzcz1cIm1hcmtkb3duXCIgKm5nSWY9XCJhY3R1YWxDb21wb25lbnQgPT0gJ21hcmtkb3duJ1wiIGZ4TGF5b3V0PVwiY29sdW1uXCIgZnhGbGV4PlxuXHRcdFx0PGxhYmVsPnt7bGFiZWx9fTwvbGFiZWw+XG5cdFx0XHQ8dGV4dGFyZWEgdGFiaW5kZXg9XCIwXCIgW2Zvcm1Db250cm9sTmFtZV09XCJwYXJhbS5uYW1lXCIgc2ltcGxlbWRlPVwie3NwZWxsQ2hlY2tlcjogZmFsc2UsIHRvb2xiYXI6IFsnYm9sZCcsICdpdGFsaWMnLCAnaGVhZGluZycsICd8JywgJ3F1b3RlJywgJ3Vub3JkZXJlZC1saXN0JywgJ29yZGVyZWQtbGlzdCcsICd8JywgJ2xpbmsnLCAnaW1hZ2UnLCAndGFibGUnXX1cIj48L3RleHRhcmVhPlxuXHRcdDwvZGl2PlxuXHQ8L2Rpdj5cbjwvZGl2PmAsXG4gIHN0eWxlczogW2BgXVxufSlcbmV4cG9ydCBjbGFzcyBQYXJhbUlucHV0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KCkgcGFyYW06IGFueTtcbiAgQElucHV0KCkgZGlzYWJsZWQ6IGJvb2xlYW47XG5cbiAgQElucHV0KCkgZm9ybTogRm9ybUdyb3VwO1xuICBASW5wdXQoKSBsYWJlbDogc3RyaW5nO1xuXG4gIEBJbnB1dCgpIHNob3dBc3RlcmlzayA9IHRydWU7XG4gIEBJbnB1dCgpIHNob3dDaGVja2JveCA9IHRydWU7XG5cbiAgdHlwZTogc3RyaW5nO1xuICBhY3R1YWxDb21wb25lbnQ6IHN0cmluZztcblxuICBAT3V0cHV0KCkgY2hhbmdlZCA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIGdldCByZXF1aXJlZEVycm9yKCkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmZvcm0uZ2V0KHRoaXMucGFyYW0ubmFtZSkgJiZcbiAgICAgIHRoaXMuZm9ybS5nZXQodGhpcy5wYXJhbS5uYW1lKS5oYXNFcnJvcigncmVxdWlyZWQnKVxuICAgICk7XG4gIH1cblxuICBnZXQgY2hlY2tib3hOYW1lKCkge1xuICAgIHJldHVybiBgJHt0aGlzLnBhcmFtLm5hbWV9X2NoZWNrYDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge31cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnR5cGUgPSB0aGlzLnBhcmFtLnR5cGU7XG5cbiAgICBpZiAoIXRoaXMubGFiZWwpIHtcbiAgICAgIHRoaXMubGFiZWwgPSB0aGlzLnBhcmFtLm5hbWU7XG4gICAgICBpZiAodGhpcy5wYXJhbS5yZXF1aXJlZCAmJiB0aGlzLnNob3dBc3Rlcmlzaykge1xuICAgICAgICB0aGlzLmxhYmVsICs9ICcqJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5wYXJhbSAmJiB0aGlzLnBhcmFtLmNvbXBvbmVudCkge1xuICAgICAgaWYgKHRoaXMucGFyYW0uY29tcG9uZW50ID09PSAnaW5wdXQnKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmFtLnR5cGUgPT09ICd0ZXh0JyB8fCB0aGlzLnBhcmFtLnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdGhpcy5hY3R1YWxDb21wb25lbnQgPSAndGV4dCc7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wYXJhbS50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHRoaXMuYWN0dWFsQ29tcG9uZW50ID0gJ251bWJlcic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5hY3R1YWxDb21wb25lbnQgPSB0aGlzLnBhcmFtLmNvbXBvbmVudDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMucGFyYW0uY29tcG9uZW50ID09PSAnZGF0ZVBpY2tlcicpIHtcbiAgICAgICAgICB0aGlzLmFjdHVhbENvbXBvbmVudCA9ICdkYXRlJztcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBhcmFtLmNvbXBvbmVudCA9PT0gJ3RpbWVQaWNrZXInKSB7XG4gICAgICAgICAgdGhpcy5hY3R1YWxDb21wb25lbnQgPSAndGltZSc7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wYXJhbS5jb21wb25lbnQgPT09ICdkYXRlVGltZVBpY2tlcicpIHtcbiAgICAgICAgICB0aGlzLmFjdHVhbENvbXBvbmVudCA9ICdkYXRldGltZS1sb2NhbCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5hY3R1YWxDb21wb25lbnQgPSB0aGlzLnBhcmFtLmNvbXBvbmVudDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFjdHVhbENvbXBvbmVudCA9IERlZmF1bHRDb21wb25lbnRbdGhpcy50eXBlXTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zaG93Q2hlY2tib3ggJiYgIXRoaXMucGFyYW0ucmVxdWlyZWQpIHtcbiAgICAgIHRoaXMuZm9ybS5nZXQodGhpcy5wYXJhbS5uYW1lKS52YWx1ZUNoYW5nZXMuc3Vic2NyaWJlKHZhbCA9PiB7XG4gICAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgICB0aGlzLmZvcm0uZ2V0KHRoaXMuY2hlY2tib3hOYW1lKS5zZXRWYWx1ZSh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmZvcm0uZ2V0KHRoaXMuY2hlY2tib3hOYW1lKS5zZXRWYWx1ZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIl19