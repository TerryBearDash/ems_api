(function (global, factory) {
    typeof exports === 'object' && typeof module !== 'undefined' ? factory(exports, require('@angular/core'), require('@angular/forms'), require('@angular/material'), require('@materia/addons'), require('@angular/common/http'), require('@angular/common'), require('@angular/flex-layout')) :
    typeof define === 'function' && define.amd ? define('@materia/users', ['exports', '@angular/core', '@angular/forms', '@angular/material', '@materia/addons', '@angular/common/http', '@angular/common', '@angular/flex-layout'], factory) :
    (factory((global.materia = global.materia || {}, global.materia.users = {}),global.ng.core,global.ng.forms,global.ng.material,null,global.ng.common.http,global.ng.common,global.ng['flex-layout']));
}(this, (function (exports,core,forms,material,addons,http,common,flexLayout) { 'use strict';

    /*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */
    function __decorate(decorators, target, key, desc) {
        var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
        if (typeof Reflect === "object" && typeof Reflect.decorate === "function")
            r = Reflect.decorate(decorators, target, key, desc);
        else
            for (var i = decorators.length - 1; i >= 0; i--)
                if (d = decorators[i])
                    r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;
        return c > 3 && r && Object.defineProperty(target, key, r), r;
    }
    function __metadata(metadataKey, metadataValue) {
        if (typeof Reflect === "object" && typeof Reflect.metadata === "function")
            return Reflect.metadata(metadataKey, metadataValue);
    }

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var SignupFormComponent = (function () {
        function SignupFormComponent(fb) {
            this.fb = fb;
            this.signup = new core.EventEmitter();
            this.cancel = new core.EventEmitter();
        }
        /**
         * @param {?} changes
         * @return {?}
         */
        SignupFormComponent.prototype.ngOnChanges = /**
         * @param {?} changes
         * @return {?}
         */
            function (changes) {
                if (changes.profileFields && changes.profileFields.currentValue) {
                    this.initForm();
                }
            };
        /**
         * @return {?}
         */
        SignupFormComponent.prototype.initForm = /**
         * @return {?}
         */
            function () {
                this.signupForm = this.fb.group(Object.assign({}, {
                    email: ['', forms.Validators.required],
                    password: ['', forms.Validators.required]
                }, this.getProfileFormGroup()));
            };
        /**
         * @return {?}
         */
        SignupFormComponent.prototype.getProfileFormGroup = /**
         * @return {?}
         */
            function () {
                if (!this.profileFields) {
                    return {};
                }
                var /** @type {?} */ result = {};
                this.profileFields.forEach(function (field) {
                    if (field.required) {
                        result[field.name] = ['', forms.Validators.required];
                    }
                    else {
                        result[field.name] = '';
                    }
                });
                return result;
            };
        /**
         * @return {?}
         */
        SignupFormComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.initForm();
            };
        /**
         * @return {?}
         */
        SignupFormComponent.prototype.signupClick = /**
         * @return {?}
         */
            function () {
                this.signup.emit(this.signupForm.value);
            };
        SignupFormComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'materia-signup-form',
                        template: "<ng-template #template>\n\t<mat-card fxLayout=\"column\">\n\t\t<mat-toolbar>Create a new user</mat-toolbar>\n\t\n\t\t<form [formGroup]=\"signupForm\" fxLayout=\"column\" style=\"padding: 24px;\">\n\t\t\t<mat-form-field>\n\t\t\t\t<input formControlName=\"email\" matInput placeholder=\"Email\" required type=\"email\" name=\"email\">\n\t\t\t</mat-form-field>\n\t\n\t\t\t<mat-form-field>\n\t\t\t\t<input formControlName=\"password\" matInput placeholder=\"Password\" required type=\"password\" name=\"password\">\n\t\t\t</mat-form-field>\n\t\t\t<div *ngIf=\"profileFields.length > 0\">\n\t\t\t\t<materia-param-input [showCheckbox]=\"false\" [form]=\"signupForm\" [param]=\"param\" *ngFor=\"let param of profileFields\"></materia-param-input>\n\t\t\t</div>\n\n\t\t\t<div>\n\t\t\t\t<button (click)=\"signup.emit(signupForm.value)\" mat-raised-button color=\"primary\">Create</button>\n\t\t\t\t<button (click)=\"cancel.emit()\" mat-raised-button>Cancel</button>\n\t\t\t</div>\n\t\t</form>\n\t</mat-card>\n</ng-template>",
                        styles: ["mat-card{width:300px;margin:0p;padding:0}"]
                    },] },
        ];
        /** @nocollapse */
        SignupFormComponent.ctorParameters = function () {
            return [
                { type: forms.FormBuilder, },
            ];
        };
        SignupFormComponent.propDecorators = {
            "signup": [{ type: core.Output },],
            "cancel": [{ type: core.Output },],
            "template": [{ type: core.ViewChild, args: ['template',] },],
            "profileFields": [{ type: core.Input },],
        };
        return SignupFormComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var UserManagementViewComponent = (function () {
        function UserManagementViewComponent(dialog, http$$1, snackbar) {
            this.dialog = dialog;
            this.http = http$$1;
            this.snackbar = snackbar;
            this.openSetup = new core.EventEmitter();
            this.loading = true;
            this.users = [];
            this.nbUsers = 0;
        }
        /**
         * @return {?}
         */
        UserManagementViewComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.refreshList();
                this.refreshConnectedUser();
                this.getProfileParams();
            };
        /**
         * @return {?}
         */
        UserManagementViewComponent.prototype.getProfileParams = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.settings &&
                    this.settings.user_profile_enabled &&
                    this.settings.user_profile_entity) {
                    return this.http
                        .get(this.baseUrl + "/infos")
                        .toPromise()
                        .then(function (res) {
                        var /** @type {?} */ profileEntity = res.entities.find(function (entity) { return entity.name === _this.settings.user_profile_entity; });
                        _this.profileFields = profileEntity.fields.filter(function (field) {
                            return field.name !== 'id_user' &&
                                (!field.primary || (field.primary && !field.autoIncrement));
                        });
                    })
                        .catch(function (e) {
                        _this.profileFields = [];
                    });
                }
                else {
                    this.profileFields = [];
                    return Promise.resolve();
                }
            };
        /**
         * @return {?}
         */
        UserManagementViewComponent.prototype.refreshList = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.loading = true;
                this.http
                    .post(this.baseUrl + "/entities/user/queries/listWithGravatar", {})
                    .subscribe(function (res) {
                    _this.users = res.data;
                    _this.nbUsers = res.count;
                    _this.loading = false;
                });
            };
        /**
         * @return {?}
         */
        UserManagementViewComponent.prototype.refreshConnectedUser = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.http.get(this.apiUrl + "/user/me").subscribe(function (res) {
                    _this.me = res;
                }, function () { return (_this.me = null); });
            };
        /**
         * @return {?}
         */
        UserManagementViewComponent.prototype.configureEmails = /**
         * @return {?}
         */
            function () {
                this.displayEmailSettings = true;
            };
        /**
         * @return {?}
         */
        UserManagementViewComponent.prototype.hideEmailSettings = /**
         * @return {?}
         */
            function () {
                this.displayEmailSettings = false;
            };
        /**
         * @return {?}
         */
        UserManagementViewComponent.prototype.openSignupDialog = /**
         * @return {?}
         */
            function () {
                this.signupDialog = this.dialog.open(this.signupDialogComp.template, {
                    panelClass: 'no-padding'
                });
            };
        /**
         * @param {?} settings
         * @return {?}
         */
        UserManagementViewComponent.prototype.saveEmailSettings = /**
         * @param {?} settings
         * @return {?}
         */
            function (settings) {
                var _this = this;
                this.http
                    .post(this.baseUrl + "/addons/@materia/users/setup", settings)
                    .subscribe(function (res) {
                    _this.snackbar.open('Settings saved!', null, {
                        duration: 3000
                    });
                    _this.hideEmailSettings();
                    _this.settings = settings;
                });
            };
        /**
         * @return {?}
         */
        UserManagementViewComponent.prototype.closeSignupDialog = /**
         * @return {?}
         */
            function () {
                this.signupDialog.close();
            };
        /**
         * @param {?} user
         * @return {?}
         */
        UserManagementViewComponent.prototype.signup = /**
         * @param {?} user
         * @return {?}
         */
            function (user) {
                var _this = this;
                this.http.post(this.apiUrl + "/user/signup", user).subscribe(function () {
                    _this.closeSignupDialog();
                    _this.refreshList();
                    _this.refreshConnectedUser();
                });
            };
        /**
         * @return {?}
         */
        UserManagementViewComponent.prototype.logout = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.http.post(this.apiUrl + "/user/logout", {}).subscribe(function () {
                    _this.refreshConnectedUser();
                }, function () { return _this.refreshConnectedUser(); });
            };
        UserManagementViewComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'materia-user-management',
                        template: "<div fxLayout=\"column\" fxFlex>\n\t<div *ngIf=\"me\" style=\"padding: 8px 16px; background-color: #4CAF50; color: white;\">\n\t\tCurrently connected as {{me.email}} (<a style=\"text-decoration: underline; cursor: pointer;\" (click)=\"logout()\">Logout</a>)\n\t</div>\n\t<div fxLayout=\"row\" fxFlex>\n\t\t<mat-card fxLayout=\"column\" fxFlex *ngIf=\"!loading; else loadingUsers\">\n\t\t\t<mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"start center\">\n\t\t\t\t<mat-icon>people</mat-icon>\n\t\t\t\t<span>\n\t\t\t\t\tUsers\n\t\t\t\t</span>\n\t\t\t\t<span fxFlex></span>\n\t\t\t\t<button *ngIf=\"!displayEmailSettings && settings.email_verification && settings.email_addon\" style=\"margin-right: 8px;\" (click)=\"configureEmails()\" mat-button>Configure emails</button>\n\t\t\t\t<button mat-mini-fab (click)=\"openSignupDialog()\" matTooltip=\"New User\" matTooltipPosition=\"left\" style=\"width: 31px; height: 31px;\">\n\t\t\t\t\t<mat-icon style=\"position: relative; top: -6px; left: -4px;\">add</mat-icon>\n\t\t\t\t</button>\n\t\t\t</mat-toolbar>\n\t\t\t<div *ngIf=\"users && users.length; else noUser\" style=\"border-top: 1px solid #EEE; overflow-y: auto;\" fxLayout=\"column\" fxFlex>\n\t\t\t\t<div fxLayout=\"row\" fxLayoutAlign=\"start center\" *ngFor=\"let user of users\" style=\"border-bottom: 1px solid #EEE; cursor: pointer;min-height: 40px\">\n\t\t\t\t\t<img [src]=\"user.gravatar\" class=\"avatar\" style=\"margin: 0 8px; width:32px; height:32px;border-radius: 100%\" />\n\t\t\t\t\t<div style=\"color: #999; padding-top: 0\">{{user.email}}</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t\t<ng-template #noUser>\n\t\t\t\t<div fxFlex fxLayout=\"column\" fxLayoutAlign=\"center center\" class=\"no-users\">\n\t\t\t\t\t<span>There is no users registered yet</span>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<button (click)=\"openSignupDialog()\" mat-raised-button color=\"primary\" [style.margin]=\"'15px'\" [style.color]=\"'white'\">Create\n\t\t\t\t\t\t\ta user</button>\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</ng-template>\n\t\t</mat-card>\n\t\t<ng-template #loadingUsers>\n\t\t\t<mat-card fxLayout=\"column\" fxFlex fxLayoutAlign=\"center center\">\n\t\t\t\t<mat-spinner></mat-spinner>\n\t\t\t</mat-card>\n\t\t</ng-template>\n\t\t<div style=\"margin: 8px;\" *ngIf=\"displayEmailSettings\" fxLayout=\"column\" fxFlex>\n\t\t\t<mat-toolbar fxLayout=\"row\" fxLayoutAlign=\"start center\">\n\t\t\t\t<button mat-icon-button (click)=\"hideEmailSettings()\" matTooltip=\"Hide email settings\" matTooltipPosition=\"right\">\n\t\t\t\t\t<mat-icon>arrow_back</mat-icon>\n\t\t\t\t</button>\n\t\t\t\t<mat-icon>mail</mat-icon>\n\t\t\t\t<span>\n\t\t\t\t\tEmails\n\t\t\t\t</span>\n\t\t\t\t<span fxFlex></span>\n\t\t\t</mat-toolbar>\n\t\t\t<materia-user-management-email-settings [settings]=\"settings\" [baseUrl]=\"baseUrl\"\n\t\t\t\t(hide)=\"hideEmailSettings()\" (save)=\"saveEmailSettings($event)\" fxFlex style=\"overflow-y: auto;\">\n\t\t\t</materia-user-management-email-settings>\n\t\t</div>\n\t</div>\n</div>\n<materia-signup-form #signupFormTemplate [profileFields]=\"profileFields\" (signup)=\"signup($event)\" (cancel)=\"closeSignupDialog()\"></materia-signup-form>",
                        styles: [":host{flex:1 1 0}mat-card{margin:8px;padding:0}mat-icon{margin:2px 8px}.no-users{font-style:italic}"],
                        providers: []
                    },] },
        ];
        /** @nocollapse */
        UserManagementViewComponent.ctorParameters = function () {
            return [
                { type: material.MatDialog, },
                { type: http.HttpClient, },
                { type: material.MatSnackBar, },
            ];
        };
        UserManagementViewComponent.propDecorators = {
            "app": [{ type: core.Input },],
            "settings": [{ type: core.Input },],
            "baseUrl": [{ type: core.Input },],
            "apiUrl": [{ type: core.Input },],
            "openSetup": [{ type: core.Output },],
            "signupDialogComp": [{ type: core.ViewChild, args: [SignupFormComponent,] },],
        };
        UserManagementViewComponent = __decorate([
            addons.AddonView('@materia/users'),
            __metadata("design:paramtypes", [material.MatDialog,
                http.HttpClient,
                material.MatSnackBar])
        ], UserManagementViewComponent);
        return UserManagementViewComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var UserManagementSetupComponent = (function () {
        function UserManagementSetupComponent(fb, http$$1) {
            this.fb = fb;
            this.http = http$$1;
            this.save = new core.EventEmitter();
            this.cancel = new core.EventEmitter();
            this.emailAddons = [];
        }
        /**
         * @param {?} property
         * @param {?} defaultValue
         * @return {?}
         */
        UserManagementSetupComponent.prototype.getSettingsProperty = /**
         * @param {?} property
         * @param {?} defaultValue
         * @return {?}
         */
            function (property, defaultValue) {
                return (this.settings && this.settings[property]) || defaultValue;
            };
        /**
         * @return {?}
         */
        UserManagementSetupComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.http
                    .get(this.baseUrl + '/infos')
                    .toPromise()
                    .then(function (res) {
                    _this.loginForm = _this.fb.group({
                        method: [
                            _this.getSettingsProperty('method', 'session'),
                            forms.Validators.required
                        ],
                        user_profile_enabled: [
                            _this.getSettingsProperty('user_profile_enabled', false)
                        ],
                        user_profile_entity: [
                            _this.getSettingsProperty('user_profile_entity', null)
                        ],
                        email_verification: [
                            _this.getSettingsProperty('email_verification', false)
                        ],
                        email_addon: [_this.getSettingsProperty('email_addon', false)],
                    });
                    _this.entities = res.entities.filter(function (entity) { return !entity.fromAddon; });
                    _this.emailAddons = res.addons.filter(function (addon) {
                        return addon.package === '@materia/sendgrid' ||
                            addon.package === '@materia/mailjet';
                    });
                    if (_this.emailAddons.length === 0) {
                        _this.loginForm.get('email_verification').disable();
                        _this.loginForm.get('email_addon').disable();
                    }
                    if (!_this.settings || !_this.settings.email_verification) {
                        _this.loginForm.get('email_addon').disable();
                    }
                    if (!_this.settings || !_this.settings.user_profile_enabled) {
                        _this.loginForm.get('user_profile_entity').disable();
                    }
                    if (_this.entities.length === 0) {
                        _this.loginForm.get('user_profile_enabled').setValue(false);
                        _this.loginForm.get('user_profile_entity').setValue(null);
                        _this.loginForm.get('user_profile_enabled').disable();
                        _this.loginForm.get('user_profile_entity').disable();
                    }
                    _this.loginForm
                        .get('user_profile_enabled')
                        .valueChanges.subscribe(function (val) {
                        if (val) {
                            _this.loginForm.get('user_profile_entity').enable();
                        }
                        else {
                            _this.loginForm.get('user_profile_entity').disable();
                        }
                    });
                    _this.loginForm.get('email_verification').valueChanges.subscribe(function (val) {
                        if (val) {
                            _this.loginForm.get('email_addon').enable();
                        }
                        else {
                            _this.loginForm.get('email_addon').disable();
                        }
                    });
                });
            };
        /**
         * @return {?}
         */
        UserManagementSetupComponent.prototype.finish = /**
         * @return {?}
         */
            function () {
                if (this.loginForm.valid) {
                    this.save.emit(this.loginForm.value);
                }
            };
        /**
         * @return {?}
         */
        UserManagementSetupComponent.prototype.close = /**
         * @return {?}
         */
            function () {
                this.cancel.emit();
            };
        UserManagementSetupComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'materia-user-management-setup',
                        template: "<form *ngIf=\"loginForm\" [formGroup]=\"loginForm\" style=\"max-width: 400px\">\n\t<h2 mat-dialog-title fxLayout=\"row\">\n\t\t<span fxFlex style=\"position: relative; top: 3px; left: 5px;\">User Management - Setup</span>\n\t\t<button (click)=\"close()\" tabindex=\"-1\" mat-icon-button>\n\t\t\t<mat-icon>close</mat-icon>\n\t\t</button>\n\t</h2>\n\t<mat-dialog-content>\n\t\t<div fxLayout=\"column\">\n\t\t\t<h3>\n\t\t\t\tAuthentication method\n\t\t\t</h3>\n\t\t\t<mat-radio-group formControlName=\"method\" fxLayout=\"column\">\n\t\t\t\t<mat-radio-button value=\"token\">Token based authentication (mobile ready)</mat-radio-button>\n\t\t\t\t<mat-radio-button value=\"session\">Session based authentication</mat-radio-button>\n\t\t\t</mat-radio-group>\n\t\t\t\n\t\t\t<h3>\n\t\t\t\t<mat-checkbox formControlName=\"user_profile_enabled\">User profile</mat-checkbox>\n\t\t\t</h3>\n\t\t\t<mat-form-field *ngIf=\"entities && entities.length > 0; else noEntities\">\n\t\t\t\t<mat-select placeholder=\"Select the user profile entity\" formControlName=\"user_profile_entity\">\n\t\t\t\t\t<mat-option *ngFor=\"let e of entities\" [value]=\"e.name\">{{ e.name }}</mat-option>\n\t\t\t\t</mat-select>\n\t\t\t</mat-form-field>\n\t\t\t<ng-template #noEntities>\n\t\t\t\t<div class=\"warning\">\n\t\t\t\t\tNo entity found. You need an entity to add custom fields to your users.\n\t\t\t\t</div>\n\t\t\t</ng-template>\n\t\t\n\t\t\t<h3>\n\t\t\t\t<mat-checkbox formControlName=\"email_verification\">Emails enabled</mat-checkbox>\n\t\t\t</h3>\n\n\t\t\t<mat-form-field *ngIf=\"emailAddons && emailAddons.length > 0; else noEmailAddon\">\n\t\t\t\t<mat-select placeholder=\"Select your emailing addon\" formControlName=\"email_addon\">\n\t\t\t\t\t<mat-option *ngFor=\"let e of emailAddons\" [value]=\"e.package\">{{ e.name }}</mat-option>\n\t\t\t\t</mat-select>\n\t\t\t</mat-form-field>\n\n\t\t\t<ng-template #noEmailAddon>\n\t\t\t\t<div class=\"warning\">You need\n\t\t\t\t\t<strong>Sendgrid</strong> or\n\t\t\t\t\t<strong>Mailjet</strong> addon installed\n\t\t\t\t\t<br>to send email from your Materia Application such as a signup email</div>\n\t\t\t</ng-template>\n\t\t</div>\n\t</mat-dialog-content>\n\t<mat-dialog-actions>\n\t\t<button mat-raised-button color=\"primary\" (click)=\"finish()\">Save</button>\n\t\t<button mat-raised-button (click)=\"close()\">Cancel</button>\n\t</mat-dialog-actions>\n</form>",
                        styles: ["mat-form-field{width:100%;margin:0 5px}.mat-dialog-content{margin:0;padding:0 24px}.mat-dialog-actions{padding:12px 24px}h3{margin-top:16px;margin-bottom:8px}.warning{margin:16px 0;padding:8px;border:1px solid #f44336;color:#f44336}"],
                        providers: [forms.FormBuilder]
                    },] },
        ];
        /** @nocollapse */
        UserManagementSetupComponent.ctorParameters = function () {
            return [
                { type: forms.FormBuilder, },
                { type: http.HttpClient, },
            ];
        };
        UserManagementSetupComponent.propDecorators = {
            "app": [{ type: core.Input },],
            "settings": [{ type: core.Input },],
            "baseUrl": [{ type: core.Input },],
            "token": [{ type: core.Input },],
            "save": [{ type: core.Output },],
            "cancel": [{ type: core.Output },],
        };
        UserManagementSetupComponent = __decorate([
            addons.AddonSetup('@materia/users'),
            __metadata("design:paramtypes", [forms.FormBuilder, http.HttpClient])
        ], UserManagementSetupComponent);
        return UserManagementSetupComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var /** @type {?} */ DefaultComponent = Object.freeze({
        text: 'text',
        number: 'text',
        date: 'date',
        float: 'text',
        boolean: 'switch'
    });
    var ParamInputComponent = (function () {
        function ParamInputComponent() {
            this.showAsterisk = true;
            this.showCheckbox = true;
            this.changed = new core.EventEmitter();
        }
        Object.defineProperty(ParamInputComponent.prototype, "requiredError", {
            get: /**
             * @return {?}
             */ function () {
                return (this.form.get(this.param.name) &&
                    this.form.get(this.param.name).hasError('required'));
            },
            enumerable: true,
            configurable: true
        });
        Object.defineProperty(ParamInputComponent.prototype, "checkboxName", {
            get: /**
             * @return {?}
             */ function () {
                return this.param.name + "_check";
            },
            enumerable: true,
            configurable: true
        });
        /**
         * @return {?}
         */
        ParamInputComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                var _this = this;
                this.type = this.param.type;
                if (!this.label) {
                    this.label = this.param.name;
                    if (this.param.required && this.showAsterisk) {
                        this.label += '*';
                    }
                }
                if (this.param && this.param.component) {
                    if (this.param.component === 'input') {
                        if (this.param.type === 'text' || this.param.type === 'string') {
                            this.actualComponent = 'text';
                        }
                        else if (this.param.type === 'number') {
                            this.actualComponent = 'number';
                        }
                        else {
                            this.actualComponent = this.param.component;
                        }
                    }
                    else {
                        if (this.param.component === 'datePicker') {
                            this.actualComponent = 'date';
                        }
                        else if (this.param.component === 'timePicker') {
                            this.actualComponent = 'time';
                        }
                        else if (this.param.component === 'dateTimePicker') {
                            this.actualComponent = 'datetime-local';
                        }
                        else {
                            this.actualComponent = this.param.component;
                        }
                    }
                }
                else {
                    this.actualComponent = DefaultComponent[this.type];
                }
                if (this.showCheckbox && !this.param.required) {
                    this.form.get(this.param.name).valueChanges.subscribe(function (val) {
                        if (val) {
                            _this.form.get(_this.checkboxName).setValue(true);
                        }
                        else {
                            _this.form.get(_this.checkboxName).setValue(false);
                        }
                    });
                }
            };
        ParamInputComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'materia-param-input',
                        template: "<div [formGroup]=\"form\" fxLayout=\"row\">\n\t<div fxLayout=\"row\" fxFlex>\n\t\t<mat-checkbox [formControlName]=\"checkboxName\" *ngIf=\" ! param.required && showCheckbox && type !== 'boolean'\">\n\t\t</mat-checkbox>\n\t\t<mat-form-field *ngIf=\"type != 'boolean' && actualComponent != 'markdown' && actualComponent != 'article'\" fxFlex>\n\t\t\t<input *ngIf=\"type != 'boolean' && type != 'date' && type != 'float' && actualComponent != 'textarea'\" tabindex=\"0\" matInput\n\t\t\t [formControlName]=\"param.name\" [placeholder]=\"label\" [type]=\"actualComponent\" />\n\t\t\t<input *ngIf=\"type == 'float'\" matInput tabindex=\"0\" type=\"number\" step=\"any\" [placeholder]=\"label\" [formControlName]=\"param.name\"\n\t\t\t/>\n\t\t\t<textarea *ngIf=\"actualComponent == 'textarea'\" tabindex=\"0\" matInput [placeholder]=\"label\" [formControlName]=\"param.name\"></textarea>\n\t\t\t<input *ngIf=\"type == 'date'\" matInput tabindex=\"0\" [formControlName]=\"param.name\" [matDatepicker]=\"picker\" [placeholder]=\"param.name\">\n\t\t\t<mat-datepicker-toggle *ngIf=\"type == 'date'\" matSuffix [for]=\"picker\"></mat-datepicker-toggle>\n\t\t\t<mat-datepicker #picker></mat-datepicker>\n\t\t\t<mat-error *ngIf=\"requiredError\">\n\t\t\t\t{{param.name}} is\n\t\t\t\t<strong>required</strong>\n\t\t\t</mat-error>\n\t\t</mat-form-field>\n\t\t<mat-checkbox *ngIf=\"type == 'boolean'\" tabindex=\"0\" [formControlName]=\"param.name\" style=\"top: 0;\">{{label}}</mat-checkbox>\n\t\t<div class=\"markdown\" *ngIf=\"actualComponent == 'markdown'\" fxLayout=\"column\" fxFlex>\n\t\t\t<label>{{label}}</label>\n\t\t\t<textarea tabindex=\"0\" [formControlName]=\"param.name\" simplemde=\"{spellChecker: false, toolbar: ['bold', 'italic', 'heading', '|', 'quote', 'unordered-list', 'ordered-list', '|', 'link', 'image', 'table']}\"></textarea>\n\t\t</div>\n\t</div>\n</div>",
                        styles: [""]
                    },] },
        ];
        /** @nocollapse */
        ParamInputComponent.ctorParameters = function () { return []; };
        ParamInputComponent.propDecorators = {
            "param": [{ type: core.Input },],
            "disabled": [{ type: core.Input },],
            "form": [{ type: core.Input },],
            "label": [{ type: core.Input },],
            "showAsterisk": [{ type: core.Input },],
            "showCheckbox": [{ type: core.Input },],
            "changed": [{ type: core.Output },],
        };
        return ParamInputComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var EmailSettingsComponent = (function () {
        function EmailSettingsComponent(http$$1, form) {
            this.http = http$$1;
            this.form = form;
            this.hide = new core.EventEmitter();
            this.save = new core.EventEmitter();
        }
        /**
         * @param {?} property
         * @param {?} defaultValue
         * @return {?}
         */
        EmailSettingsComponent.prototype.getSettingsProperty = /**
         * @param {?} property
         * @param {?} defaultValue
         * @return {?}
         */
            function (property, defaultValue) {
                return (this.settings && this.settings[property]) || defaultValue;
            };
        /**
         * @return {?}
         */
        EmailSettingsComponent.prototype.ngOnInit = /**
         * @return {?}
         */
            function () {
                this.emailForm = this.form.group({
                    method: [
                        this.getSettingsProperty('method', 'session'),
                        forms.Validators.required
                    ],
                    static_salt: [
                        this.getSettingsProperty('static_salt', ''),
                        forms.Validators.required
                    ],
                    user_profile_enabled: [
                        this.getSettingsProperty('user_profile_enabled', 'false')
                    ],
                    user_profile_entity: [
                        this.getSettingsProperty('user_profile_entity', '')
                    ],
                    email_verification: [
                        this.getSettingsProperty('email_verification', false)
                    ],
                    email_addon: [this.getSettingsProperty('email_addon', false)],
                    template_signup: [this.getSettingsProperty('template_signup', '')],
                    redirect_signup: [this.getSettingsProperty('redirect_signup', '')],
                    subject_signup: [this.getSettingsProperty('subject_signup', '')],
                    subject_lost_password: [this.getSettingsProperty('subject_lost_password', '')],
                    subject_change_email: [this.getSettingsProperty('subject_change_email', '')],
                    template_lost_password: [
                        this.getSettingsProperty('template_lost_password', '')
                    ],
                    redirect_lost_password: [
                        this.getSettingsProperty('redirect_lost_password', '')
                    ],
                    template_change_email: [
                        this.getSettingsProperty('template_change_email', '')
                    ],
                    redirect_change_email: [
                        this.getSettingsProperty('redirect_change_email', '')
                    ]
                });
                this.refreshTemplates();
            };
        /**
         * @return {?}
         */
        EmailSettingsComponent.prototype.refreshTemplates = /**
         * @return {?}
         */
            function () {
                var _this = this;
                if (this.settings.email_addon === '@materia/mailjet') {
                    this.http
                        .post(this.baseUrl + "/entities/mailjet_template/queries/list", { limit: 1000 })
                        .subscribe(function (data) {
                        _this.templates = data.data
                            .filter(function (row) { return row.OwnerId !== 1; })
                            .map(function (row) {
                            return {
                                name: row.Name,
                                id: row.ID
                            };
                        });
                    });
                }
                else if (this.settings.email_addon === '@materia/sendgrid') {
                    this.http
                        .post(this.baseUrl + "/entities/sendgrid_template/queries/listTemplates", {})
                        .subscribe(function (data) {
                        _this.templates = data && data.data && data.data;
                        // TODO...
                    });
                }
            };
        /**
         * @return {?}
         */
        EmailSettingsComponent.prototype.saveEmailSettings = /**
         * @return {?}
         */
            function () {
                if (this.emailForm.valid) {
                    this.save.emit(this.emailForm.value);
                }
            };
        /**
         * @return {?}
         */
        EmailSettingsComponent.prototype.cancel = /**
         * @return {?}
         */
            function () {
                this.hide.emit();
            };
        EmailSettingsComponent.decorators = [
            { type: core.Component, args: [{
                        selector: 'materia-user-management-email-settings',
                        template: "<form [formGroup]=\"emailForm\">\n\t<mat-accordion>\n\t\t<mat-expansion-panel #signupPanel [expanded]=\"true\" fxLayout=\"column\">\n\t\t\t<mat-expansion-panel-header>\n\t\t\t\tSignup\n\t\t\t</mat-expansion-panel-header>\n\n\t\t\t<div class=\"panel-content\" fxLayout=\"column\">\n\t\t\t\t<mat-form-field>\n\t\t\t\t\t<input matInput placeholder=\"Subject\" formControlName=\"subject_signup\">\n\t\t\t\t</mat-form-field>\n\n\t\t\t\t<mat-form-field>\n\t\t\t\t\t<mat-select placeholder=\"Template\" formControlName=\"template_signup\">\n\t\t\t\t\t\t<mat-option *ngFor=\"let t of templates\" [value]=\"t.id\">{{ t.name }} ({{t.id}})</mat-option>\n\t\t\t\t\t</mat-select>\n\t\t\t\t</mat-form-field>\n\t\t\t\t<mat-form-field>\n\t\t\t\t\t<input matInput placeholder=\"Redirect URL\" formControlName=\"redirect_signup\">\n\t\t\t\t</mat-form-field>\n\t\t\t</div>\n\t\t</mat-expansion-panel>\n\n\t\t<mat-expansion-panel #changeEmailPanel>\n\t\t\t<mat-expansion-panel-header>\n\t\t\t\tChange email\n\t\t\t</mat-expansion-panel-header>\n\n\t\t\t<div class=\"panel-content\" fxLayout=\"column\">\n\t\t\t\t<mat-form-field>\n\t\t\t\t\t<input matInput placeholder=\"Subject\" formControlName=\"subject_change_email\">\n\t\t\t\t</mat-form-field>\n\n\t\t\t\t<mat-form-field>\n\t\t\t\t\t<mat-select placeholder=\"Template\" formControlName=\"template_change_email\">\n\t\t\t\t\t\t<mat-option *ngFor=\"let t of templates\" [value]=\"t.id\">{{ t.name }} ({{t.id}})</mat-option>\n\t\t\t\t\t</mat-select>\n\t\t\t\t</mat-form-field>\n\t\t\t\t<mat-form-field>\n\t\t\t\t\t<input matInput placeholder=\"Redirect URL\" formControlName=\"redirect_change_email\">\n\t\t\t\t</mat-form-field>\n\t\t\t</div>\n\t\t</mat-expansion-panel>\n\n\t\t<mat-expansion-panel #lostPasswordPanel fxLayout=\"column\">\n\t\t\t<mat-expansion-panel-header>\n\t\t\t\tLost password\n\t\t\t</mat-expansion-panel-header>\n\t\t\t<div class=\"panel-content\" fxLayout=\"column\">\n\n\t\t\t\t<mat-form-field>\n\t\t\t\t\t<input matInput placeholder=\"Subject\" formControlName=\"subject_lost_password\">\n\t\t\t\t</mat-form-field>\n\t\t\t\t<mat-form-field>\n\t\t\t\t\t<mat-select placeholder=\"Template\" formControlName=\"template_lost_password\">\n\t\t\t\t\t\t<mat-option *ngFor=\"let t of templates\" [value]=\"t.id\">{{ t.name }} ({{t.id}})</mat-option>\n\t\t\t\t\t</mat-select>\n\t\t\t\t</mat-form-field>\n\t\t\t\t<mat-form-field>\n\t\t\t\t\t<input matInput placeholder=\"Redirect URL\" formControlName=\"redirect_lost_password\">\n\t\t\t\t</mat-form-field>\n\t\t\t</div>\n\t\t</mat-expansion-panel>\n\t</mat-accordion>\n\t<div style=\"margin: 16px 0; text-align: center;\">\n\t\t<button mat-raised-button color=\"primary\" (click)=\"saveEmailSettings()\" style=\"margin-right: 8px\">Save</button>\n\t\t<button mat-raised-button (click)=\"hide.emit()\">Cancel</button>\n\t</div>\n</form>",
                        styles: [".panel-content{margin:0 24px!important}"]
                    },] },
        ];
        /** @nocollapse */
        EmailSettingsComponent.ctorParameters = function () {
            return [
                { type: http.HttpClient, },
                { type: forms.FormBuilder, },
            ];
        };
        EmailSettingsComponent.propDecorators = {
            "settings": [{ type: core.Input },],
            "baseUrl": [{ type: core.Input },],
            "hide": [{ type: core.Output },],
            "save": [{ type: core.Output },],
            "signupPanel": [{ type: core.ViewChild, args: ['signupPanel',] },],
            "changeEmailPanel": [{ type: core.ViewChild, args: ['changeEmailPanel',] },],
            "lostPasswordPanel": [{ type: core.ViewChild, args: ['lostPasswordPanel',] },],
        };
        return EmailSettingsComponent;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */
    var UserManagementModule = (function () {
        function UserManagementModule() {
        }
        UserManagementModule.decorators = [
            { type: core.NgModule, args: [{
                        imports: [
                            common.CommonModule,
                            forms.FormsModule,
                            forms.ReactiveFormsModule,
                            http.HttpClientModule,
                            flexLayout.FlexLayoutModule,
                            material.MatRippleModule,
                            material.MatButtonModule,
                            material.MatSnackBarModule,
                            material.MatCardModule,
                            material.MatIconModule,
                            material.MatDialogModule,
                            material.MatInputModule,
                            material.MatTooltipModule,
                            material.MatCheckboxModule,
                            material.MatSelectModule,
                            material.MatToolbarModule,
                            material.MatDatepickerModule,
                            material.MatNativeDateModule,
                            material.MatExpansionModule,
                            material.MatListModule,
                            material.MatRadioModule,
                            material.MatStepperModule,
                            material.MatProgressSpinnerModule
                        ],
                        declarations: [
                            UserManagementViewComponent,
                            EmailSettingsComponent,
                            UserManagementSetupComponent,
                            SignupFormComponent,
                            ParamInputComponent
                        ],
                        exports: [UserManagementViewComponent],
                        entryComponents: []
                    },] },
        ];
        UserManagementModule = __decorate([
            addons.Addon('@materia/users')
        ], UserManagementModule);
        return UserManagementModule;
    }());

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    /**
     * @fileoverview added by tsickle
     * @suppress {checkTypes} checked by tsc
     */

    exports.UserManagementViewComponent = UserManagementViewComponent;
    exports.UserManagementModule = UserManagementModule;
    exports.ɵb = EmailSettingsComponent;
    exports.ɵd = ParamInputComponent;
    exports.ɵa = SignupFormComponent;
    exports.ɵc = UserManagementSetupComponent;

    Object.defineProperty(exports, '__esModule', { value: true });

})));

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWF0ZXJpYS11c2Vycy51bWQuanMubWFwIiwic291cmNlcyI6W251bGwsIm5nOi8vQG1hdGVyaWEvdXNlcnMvc2lnbnVwLWZvcm0vc2lnbnVwLWZvcm0uY29tcG9uZW50LnRzIiwibmc6Ly9AbWF0ZXJpYS91c2Vycy91c2VyLW1hbmFnZW1lbnQvdXNlci1tYW5hZ2VtZW50LmNvbXBvbmVudC50cyIsIm5nOi8vQG1hdGVyaWEvdXNlcnMvdXNlci1tYW5hZ2VtZW50LXNldHVwL3VzZXItbWFuYWdlbWVudC1zZXR1cC5jb21wb25lbnQudHMiLCJuZzovL0BtYXRlcmlhL3VzZXJzL3BhcmFtLWlucHV0L3BhcmFtLWlucHV0LmNvbXBvbmVudC50cyIsIm5nOi8vQG1hdGVyaWEvdXNlcnMvZW1haWxzLXNldHRpbmdzL2VtYWlsLXNldHRpbmdzLmNvbXBvbmVudC50cyIsIm5nOi8vQG1hdGVyaWEvdXNlcnMvdXNlci1tYW5hZ2VtZW50Lm1vZHVsZS50cyJdLCJzb3VyY2VzQ29udGVudCI6WyIvKiEgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKipcclxuQ29weXJpZ2h0IChjKSBNaWNyb3NvZnQgQ29ycG9yYXRpb24uIEFsbCByaWdodHMgcmVzZXJ2ZWQuXHJcbkxpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZVxyXG50aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS4gWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZVxyXG5MaWNlbnNlIGF0IGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG5cclxuVEhJUyBDT0RFIElTIFBST1ZJREVEIE9OIEFOICpBUyBJUyogQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxyXG5LSU5ELCBFSVRIRVIgRVhQUkVTUyBPUiBJTVBMSUVELCBJTkNMVURJTkcgV0lUSE9VVCBMSU1JVEFUSU9OIEFOWSBJTVBMSUVEXHJcbldBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBUSVRMRSwgRklUTkVTUyBGT1IgQSBQQVJUSUNVTEFSIFBVUlBPU0UsXHJcbk1FUkNIQU5UQUJMSVRZIE9SIE5PTi1JTkZSSU5HRU1FTlQuXHJcblxyXG5TZWUgdGhlIEFwYWNoZSBWZXJzaW9uIDIuMCBMaWNlbnNlIGZvciBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnNcclxuYW5kIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKiAqL1xyXG4vKiBnbG9iYWwgUmVmbGVjdCwgUHJvbWlzZSAqL1xyXG5cclxudmFyIGV4dGVuZFN0YXRpY3MgPSBmdW5jdGlvbihkLCBiKSB7XHJcbiAgICBleHRlbmRTdGF0aWNzID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8XHJcbiAgICAgICAgKHsgX19wcm90b19fOiBbXSB9IGluc3RhbmNlb2YgQXJyYXkgJiYgZnVuY3Rpb24gKGQsIGIpIHsgZC5fX3Byb3RvX18gPSBiOyB9KSB8fFxyXG4gICAgICAgIGZ1bmN0aW9uIChkLCBiKSB7IGZvciAodmFyIHAgaW4gYikgaWYgKGIuaGFzT3duUHJvcGVydHkocCkpIGRbcF0gPSBiW3BdOyB9O1xyXG4gICAgcmV0dXJuIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19leHRlbmRzKGQsIGIpIHtcclxuICAgIGV4dGVuZFN0YXRpY3MoZCwgYik7XHJcbiAgICBmdW5jdGlvbiBfXygpIHsgdGhpcy5jb25zdHJ1Y3RvciA9IGQ7IH1cclxuICAgIGQucHJvdG90eXBlID0gYiA9PT0gbnVsbCA/IE9iamVjdC5jcmVhdGUoYikgOiAoX18ucHJvdG90eXBlID0gYi5wcm90b3R5cGUsIG5ldyBfXygpKTtcclxufVxyXG5cclxuZXhwb3J0IHZhciBfX2Fzc2lnbiA9IGZ1bmN0aW9uKCkge1xyXG4gICAgX19hc3NpZ24gPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uIF9fYXNzaWduKHQpIHtcclxuICAgICAgICBmb3IgKHZhciBzLCBpID0gMSwgbiA9IGFyZ3VtZW50cy5sZW5ndGg7IGkgPCBuOyBpKyspIHtcclxuICAgICAgICAgICAgcyA9IGFyZ3VtZW50c1tpXTtcclxuICAgICAgICAgICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApKSB0W3BdID0gc1twXTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHQ7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX19hc3NpZ24uYXBwbHkodGhpcywgYXJndW1lbnRzKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fcmVzdChzLCBlKSB7XHJcbiAgICB2YXIgdCA9IHt9O1xyXG4gICAgZm9yICh2YXIgcCBpbiBzKSBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMsIHApICYmIGUuaW5kZXhPZihwKSA8IDApXHJcbiAgICAgICAgdFtwXSA9IHNbcF07XHJcbiAgICBpZiAocyAhPSBudWxsICYmIHR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzID09PSBcImZ1bmN0aW9uXCIpXHJcbiAgICAgICAgZm9yICh2YXIgaSA9IDAsIHAgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHMpOyBpIDwgcC5sZW5ndGg7IGkrKykgaWYgKGUuaW5kZXhPZihwW2ldKSA8IDApXHJcbiAgICAgICAgICAgIHRbcFtpXV0gPSBzW3BbaV1dO1xyXG4gICAgcmV0dXJuIHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2RlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKSB7XHJcbiAgICB2YXIgYyA9IGFyZ3VtZW50cy5sZW5ndGgsIHIgPSBjIDwgMyA/IHRhcmdldCA6IGRlc2MgPT09IG51bGwgPyBkZXNjID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0YXJnZXQsIGtleSkgOiBkZXNjLCBkO1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0LmRlY29yYXRlID09PSBcImZ1bmN0aW9uXCIpIHIgPSBSZWZsZWN0LmRlY29yYXRlKGRlY29yYXRvcnMsIHRhcmdldCwga2V5LCBkZXNjKTtcclxuICAgIGVsc2UgZm9yICh2YXIgaSA9IGRlY29yYXRvcnMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIGlmIChkID0gZGVjb3JhdG9yc1tpXSkgciA9IChjIDwgMyA/IGQocikgOiBjID4gMyA/IGQodGFyZ2V0LCBrZXksIHIpIDogZCh0YXJnZXQsIGtleSkpIHx8IHI7XHJcbiAgICByZXR1cm4gYyA+IDMgJiYgciAmJiBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBrZXksIHIpLCByO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19wYXJhbShwYXJhbUluZGV4LCBkZWNvcmF0b3IpIHtcclxuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0LCBrZXkpIHsgZGVjb3JhdG9yKHRhcmdldCwga2V5LCBwYXJhbUluZGV4KTsgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19tZXRhZGF0YShtZXRhZGF0YUtleSwgbWV0YWRhdGFWYWx1ZSkge1xyXG4gICAgaWYgKHR5cGVvZiBSZWZsZWN0ID09PSBcIm9iamVjdFwiICYmIHR5cGVvZiBSZWZsZWN0Lm1ldGFkYXRhID09PSBcImZ1bmN0aW9uXCIpIHJldHVybiBSZWZsZWN0Lm1ldGFkYXRhKG1ldGFkYXRhS2V5LCBtZXRhZGF0YVZhbHVlKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXdhaXRlcih0aGlzQXJnLCBfYXJndW1lbnRzLCBQLCBnZW5lcmF0b3IpIHtcclxuICAgIHJldHVybiBuZXcgKFAgfHwgKFAgPSBQcm9taXNlKSkoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkge1xyXG4gICAgICAgIGZ1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiByZWplY3RlZCh2YWx1ZSkgeyB0cnkgeyBzdGVwKGdlbmVyYXRvcltcInRocm93XCJdKHZhbHVlKSk7IH0gY2F0Y2ggKGUpIHsgcmVqZWN0KGUpOyB9IH1cclxuICAgICAgICBmdW5jdGlvbiBzdGVwKHJlc3VsdCkgeyByZXN1bHQuZG9uZSA/IHJlc29sdmUocmVzdWx0LnZhbHVlKSA6IG5ldyBQKGZ1bmN0aW9uIChyZXNvbHZlKSB7IHJlc29sdmUocmVzdWx0LnZhbHVlKTsgfSkudGhlbihmdWxmaWxsZWQsIHJlamVjdGVkKTsgfVxyXG4gICAgICAgIHN0ZXAoKGdlbmVyYXRvciA9IGdlbmVyYXRvci5hcHBseSh0aGlzQXJnLCBfYXJndW1lbnRzIHx8IFtdKSkubmV4dCgpKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19nZW5lcmF0b3IodGhpc0FyZywgYm9keSkge1xyXG4gICAgdmFyIF8gPSB7IGxhYmVsOiAwLCBzZW50OiBmdW5jdGlvbigpIHsgaWYgKHRbMF0gJiAxKSB0aHJvdyB0WzFdOyByZXR1cm4gdFsxXTsgfSwgdHJ5czogW10sIG9wczogW10gfSwgZiwgeSwgdCwgZztcclxuICAgIHJldHVybiBnID0geyBuZXh0OiB2ZXJiKDApLCBcInRocm93XCI6IHZlcmIoMSksIFwicmV0dXJuXCI6IHZlcmIoMikgfSwgdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIChnW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHsgcmV0dXJuIHRoaXM7IH0pLCBnO1xyXG4gICAgZnVuY3Rpb24gdmVyYihuKSB7IHJldHVybiBmdW5jdGlvbiAodikgeyByZXR1cm4gc3RlcChbbiwgdl0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzdGVwKG9wKSB7XHJcbiAgICAgICAgaWYgKGYpIHRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO1xyXG4gICAgICAgIHdoaWxlIChfKSB0cnkge1xyXG4gICAgICAgICAgICBpZiAoZiA9IDEsIHkgJiYgKHQgPSBvcFswXSAmIDIgPyB5W1wicmV0dXJuXCJdIDogb3BbMF0gPyB5W1widGhyb3dcIl0gfHwgKCh0ID0geVtcInJldHVyblwiXSkgJiYgdC5jYWxsKHkpLCAwKSA6IHkubmV4dCkgJiYgISh0ID0gdC5jYWxsKHksIG9wWzFdKSkuZG9uZSkgcmV0dXJuIHQ7XHJcbiAgICAgICAgICAgIGlmICh5ID0gMCwgdCkgb3AgPSBbb3BbMF0gJiAyLCB0LnZhbHVlXTtcclxuICAgICAgICAgICAgc3dpdGNoIChvcFswXSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwOiBjYXNlIDE6IHQgPSBvcDsgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDQ6IF8ubGFiZWwrKzsgcmV0dXJuIHsgdmFsdWU6IG9wWzFdLCBkb25lOiBmYWxzZSB9O1xyXG4gICAgICAgICAgICAgICAgY2FzZSA1OiBfLmxhYmVsKys7IHkgPSBvcFsxXTsgb3AgPSBbMF07IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgY2FzZSA3OiBvcCA9IF8ub3BzLnBvcCgpOyBfLnRyeXMucG9wKCk7IGNvbnRpbnVlO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBpZiAoISh0ID0gXy50cnlzLCB0ID0gdC5sZW5ndGggPiAwICYmIHRbdC5sZW5ndGggLSAxXSkgJiYgKG9wWzBdID09PSA2IHx8IG9wWzBdID09PSAyKSkgeyBfID0gMDsgY29udGludWU7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAob3BbMF0gPT09IDMgJiYgKCF0IHx8IChvcFsxXSA+IHRbMF0gJiYgb3BbMV0gPCB0WzNdKSkpIHsgXy5sYWJlbCA9IG9wWzFdOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChvcFswXSA9PT0gNiAmJiBfLmxhYmVsIDwgdFsxXSkgeyBfLmxhYmVsID0gdFsxXTsgdCA9IG9wOyBicmVhazsgfVxyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0ICYmIF8ubGFiZWwgPCB0WzJdKSB7IF8ubGFiZWwgPSB0WzJdOyBfLm9wcy5wdXNoKG9wKTsgYnJlYWs7IH1cclxuICAgICAgICAgICAgICAgICAgICBpZiAodFsyXSkgXy5vcHMucG9wKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXy50cnlzLnBvcCgpOyBjb250aW51ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBvcCA9IGJvZHkuY2FsbCh0aGlzQXJnLCBfKTtcclxuICAgICAgICB9IGNhdGNoIChlKSB7IG9wID0gWzYsIGVdOyB5ID0gMDsgfSBmaW5hbGx5IHsgZiA9IHQgPSAwOyB9XHJcbiAgICAgICAgaWYgKG9wWzBdICYgNSkgdGhyb3cgb3BbMV07IHJldHVybiB7IHZhbHVlOiBvcFswXSA/IG9wWzFdIDogdm9pZCAwLCBkb25lOiB0cnVlIH07XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2V4cG9ydFN0YXIobSwgZXhwb3J0cykge1xyXG4gICAgZm9yICh2YXIgcCBpbiBtKSBpZiAoIWV4cG9ydHMuaGFzT3duUHJvcGVydHkocCkpIGV4cG9ydHNbcF0gPSBtW3BdO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX192YWx1ZXMobykge1xyXG4gICAgdmFyIG0gPSB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb1tTeW1ib2wuaXRlcmF0b3JdLCBpID0gMDtcclxuICAgIGlmIChtKSByZXR1cm4gbS5jYWxsKG8pO1xyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBuZXh0OiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmIChvICYmIGkgPj0gby5sZW5ndGgpIG8gPSB2b2lkIDA7XHJcbiAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBvICYmIG9baSsrXSwgZG9uZTogIW8gfTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19yZWFkKG8sIG4pIHtcclxuICAgIHZhciBtID0gdHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIG9bU3ltYm9sLml0ZXJhdG9yXTtcclxuICAgIGlmICghbSkgcmV0dXJuIG87XHJcbiAgICB2YXIgaSA9IG0uY2FsbChvKSwgciwgYXIgPSBbXSwgZTtcclxuICAgIHRyeSB7XHJcbiAgICAgICAgd2hpbGUgKChuID09PSB2b2lkIDAgfHwgbi0tID4gMCkgJiYgIShyID0gaS5uZXh0KCkpLmRvbmUpIGFyLnB1c2goci52YWx1ZSk7XHJcbiAgICB9XHJcbiAgICBjYXRjaCAoZXJyb3IpIHsgZSA9IHsgZXJyb3I6IGVycm9yIH07IH1cclxuICAgIGZpbmFsbHkge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgIGlmIChyICYmICFyLmRvbmUgJiYgKG0gPSBpW1wicmV0dXJuXCJdKSkgbS5jYWxsKGkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmaW5hbGx5IHsgaWYgKGUpIHRocm93IGUuZXJyb3I7IH1cclxuICAgIH1cclxuICAgIHJldHVybiBhcjtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fc3ByZWFkKCkge1xyXG4gICAgZm9yICh2YXIgYXIgPSBbXSwgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspXHJcbiAgICAgICAgYXIgPSBhci5jb25jYXQoX19yZWFkKGFyZ3VtZW50c1tpXSkpO1xyXG4gICAgcmV0dXJuIGFyO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19hd2FpdCh2KSB7XHJcbiAgICByZXR1cm4gdGhpcyBpbnN0YW5jZW9mIF9fYXdhaXQgPyAodGhpcy52ID0gdiwgdGhpcykgOiBuZXcgX19hd2FpdCh2KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNHZW5lcmF0b3IodGhpc0FyZywgX2FyZ3VtZW50cywgZ2VuZXJhdG9yKSB7XHJcbiAgICBpZiAoIVN5bWJvbC5hc3luY0l0ZXJhdG9yKSB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3ltYm9sLmFzeW5jSXRlcmF0b3IgaXMgbm90IGRlZmluZWQuXCIpO1xyXG4gICAgdmFyIGcgPSBnZW5lcmF0b3IuYXBwbHkodGhpc0FyZywgX2FyZ3VtZW50cyB8fCBbXSksIGksIHEgPSBbXTtcclxuICAgIHJldHVybiBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobikgeyBpZiAoZ1tuXSkgaVtuXSA9IGZ1bmN0aW9uICh2KSB7IHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAoYSwgYikgeyBxLnB1c2goW24sIHYsIGEsIGJdKSA+IDEgfHwgcmVzdW1lKG4sIHYpOyB9KTsgfTsgfVxyXG4gICAgZnVuY3Rpb24gcmVzdW1lKG4sIHYpIHsgdHJ5IHsgc3RlcChnW25dKHYpKTsgfSBjYXRjaCAoZSkgeyBzZXR0bGUocVswXVszXSwgZSk7IH0gfVxyXG4gICAgZnVuY3Rpb24gc3RlcChyKSB7IHIudmFsdWUgaW5zdGFuY2VvZiBfX2F3YWl0ID8gUHJvbWlzZS5yZXNvbHZlKHIudmFsdWUudikudGhlbihmdWxmaWxsLCByZWplY3QpIDogc2V0dGxlKHFbMF1bMl0sIHIpOyB9XHJcbiAgICBmdW5jdGlvbiBmdWxmaWxsKHZhbHVlKSB7IHJlc3VtZShcIm5leHRcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiByZWplY3QodmFsdWUpIHsgcmVzdW1lKFwidGhyb3dcIiwgdmFsdWUpOyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUoZiwgdikgeyBpZiAoZih2KSwgcS5zaGlmdCgpLCBxLmxlbmd0aCkgcmVzdW1lKHFbMF1bMF0sIHFbMF1bMV0pOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2FzeW5jRGVsZWdhdG9yKG8pIHtcclxuICAgIHZhciBpLCBwO1xyXG4gICAgcmV0dXJuIGkgPSB7fSwgdmVyYihcIm5leHRcIiksIHZlcmIoXCJ0aHJvd1wiLCBmdW5jdGlvbiAoZSkgeyB0aHJvdyBlOyB9KSwgdmVyYihcInJldHVyblwiKSwgaVtTeW1ib2wuaXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaTtcclxuICAgIGZ1bmN0aW9uIHZlcmIobiwgZikgeyBpW25dID0gb1tuXSA/IGZ1bmN0aW9uICh2KSB7IHJldHVybiAocCA9ICFwKSA/IHsgdmFsdWU6IF9fYXdhaXQob1tuXSh2KSksIGRvbmU6IG4gPT09IFwicmV0dXJuXCIgfSA6IGYgPyBmKHYpIDogdjsgfSA6IGY7IH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIF9fYXN5bmNWYWx1ZXMobykge1xyXG4gICAgaWYgKCFTeW1ib2wuYXN5bmNJdGVyYXRvcikgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN5bWJvbC5hc3luY0l0ZXJhdG9yIGlzIG5vdCBkZWZpbmVkLlwiKTtcclxuICAgIHZhciBtID0gb1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0sIGk7XHJcbiAgICByZXR1cm4gbSA/IG0uY2FsbChvKSA6IChvID0gdHlwZW9mIF9fdmFsdWVzID09PSBcImZ1bmN0aW9uXCIgPyBfX3ZhbHVlcyhvKSA6IG9bU3ltYm9sLml0ZXJhdG9yXSgpLCBpID0ge30sIHZlcmIoXCJuZXh0XCIpLCB2ZXJiKFwidGhyb3dcIiksIHZlcmIoXCJyZXR1cm5cIiksIGlbU3ltYm9sLmFzeW5jSXRlcmF0b3JdID0gZnVuY3Rpb24gKCkgeyByZXR1cm4gdGhpczsgfSwgaSk7XHJcbiAgICBmdW5jdGlvbiB2ZXJiKG4pIHsgaVtuXSA9IG9bbl0gJiYgZnVuY3Rpb24gKHYpIHsgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNvbHZlLCByZWplY3QpIHsgdiA9IG9bbl0odiksIHNldHRsZShyZXNvbHZlLCByZWplY3QsIHYuZG9uZSwgdi52YWx1ZSk7IH0pOyB9OyB9XHJcbiAgICBmdW5jdGlvbiBzZXR0bGUocmVzb2x2ZSwgcmVqZWN0LCBkLCB2KSB7IFByb21pc2UucmVzb2x2ZSh2KS50aGVuKGZ1bmN0aW9uKHYpIHsgcmVzb2x2ZSh7IHZhbHVlOiB2LCBkb25lOiBkIH0pOyB9LCByZWplY3QpOyB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX21ha2VUZW1wbGF0ZU9iamVjdChjb29rZWQsIHJhdykge1xyXG4gICAgaWYgKE9iamVjdC5kZWZpbmVQcm9wZXJ0eSkgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoY29va2VkLCBcInJhd1wiLCB7IHZhbHVlOiByYXcgfSk7IH0gZWxzZSB7IGNvb2tlZC5yYXcgPSByYXc7IH1cclxuICAgIHJldHVybiBjb29rZWQ7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gX19pbXBvcnRTdGFyKG1vZCkge1xyXG4gICAgaWYgKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgcmV0dXJuIG1vZDtcclxuICAgIHZhciByZXN1bHQgPSB7fTtcclxuICAgIGlmIChtb2QgIT0gbnVsbCkgZm9yICh2YXIgayBpbiBtb2QpIGlmIChPYmplY3QuaGFzT3duUHJvcGVydHkuY2FsbChtb2QsIGspKSByZXN1bHRba10gPSBtb2Rba107XHJcbiAgICByZXN1bHQuZGVmYXVsdCA9IG1vZDtcclxuICAgIHJldHVybiByZXN1bHQ7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBfX2ltcG9ydERlZmF1bHQobW9kKSB7XHJcbiAgICByZXR1cm4gKG1vZCAmJiBtb2QuX19lc01vZHVsZSkgPyBtb2QgOiB7IGRlZmF1bHQ6IG1vZCB9O1xyXG59XHJcbiIsImltcG9ydCB7XG4gIENvbXBvbmVudCxcbiAgT25Jbml0LFxuICBPdXRwdXQsXG4gIEV2ZW50RW1pdHRlcixcbiAgVmlld0NoaWxkLFxuICBUZW1wbGF0ZVJlZixcbiAgSW5wdXQsXG4gIE9uQ2hhbmdlc1xufSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEZvcm1CdWlsZGVyLCBWYWxpZGF0b3JzLCBGb3JtR3JvdXAgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ21hdGVyaWEtc2lnbnVwLWZvcm0nLFxuICB0ZW1wbGF0ZTogYDxuZy10ZW1wbGF0ZSAjdGVtcGxhdGU+XG5cdDxtYXQtY2FyZCBmeExheW91dD1cImNvbHVtblwiPlxuXHRcdDxtYXQtdG9vbGJhcj5DcmVhdGUgYSBuZXcgdXNlcjwvbWF0LXRvb2xiYXI+XG5cdFxuXHRcdDxmb3JtIFtmb3JtR3JvdXBdPVwic2lnbnVwRm9ybVwiIGZ4TGF5b3V0PVwiY29sdW1uXCIgc3R5bGU9XCJwYWRkaW5nOiAyNHB4O1wiPlxuXHRcdFx0PG1hdC1mb3JtLWZpZWxkPlxuXHRcdFx0XHQ8aW5wdXQgZm9ybUNvbnRyb2xOYW1lPVwiZW1haWxcIiBtYXRJbnB1dCBwbGFjZWhvbGRlcj1cIkVtYWlsXCIgcmVxdWlyZWQgdHlwZT1cImVtYWlsXCIgbmFtZT1cImVtYWlsXCI+XG5cdFx0XHQ8L21hdC1mb3JtLWZpZWxkPlxuXHRcblx0XHRcdDxtYXQtZm9ybS1maWVsZD5cblx0XHRcdFx0PGlucHV0IGZvcm1Db250cm9sTmFtZT1cInBhc3N3b3JkXCIgbWF0SW5wdXQgcGxhY2Vob2xkZXI9XCJQYXNzd29yZFwiIHJlcXVpcmVkIHR5cGU9XCJwYXNzd29yZFwiIG5hbWU9XCJwYXNzd29yZFwiPlxuXHRcdFx0PC9tYXQtZm9ybS1maWVsZD5cblx0XHRcdDxkaXYgKm5nSWY9XCJwcm9maWxlRmllbGRzLmxlbmd0aCA+IDBcIj5cblx0XHRcdFx0PG1hdGVyaWEtcGFyYW0taW5wdXQgW3Nob3dDaGVja2JveF09XCJmYWxzZVwiIFtmb3JtXT1cInNpZ251cEZvcm1cIiBbcGFyYW1dPVwicGFyYW1cIiAqbmdGb3I9XCJsZXQgcGFyYW0gb2YgcHJvZmlsZUZpZWxkc1wiPjwvbWF0ZXJpYS1wYXJhbS1pbnB1dD5cblx0XHRcdDwvZGl2PlxuXG5cdFx0XHQ8ZGl2PlxuXHRcdFx0XHQ8YnV0dG9uIChjbGljayk9XCJzaWdudXAuZW1pdChzaWdudXBGb3JtLnZhbHVlKVwiIG1hdC1yYWlzZWQtYnV0dG9uIGNvbG9yPVwicHJpbWFyeVwiPkNyZWF0ZTwvYnV0dG9uPlxuXHRcdFx0XHQ8YnV0dG9uIChjbGljayk9XCJjYW5jZWwuZW1pdCgpXCIgbWF0LXJhaXNlZC1idXR0b24+Q2FuY2VsPC9idXR0b24+XG5cdFx0XHQ8L2Rpdj5cblx0XHQ8L2Zvcm0+XG5cdDwvbWF0LWNhcmQ+XG48L25nLXRlbXBsYXRlPmAsXG4gIHN0eWxlczogW2BtYXQtY2FyZHt3aWR0aDozMDBweDttYXJnaW46MHA7cGFkZGluZzowfWBdXG59KVxuZXhwb3J0IGNsYXNzIFNpZ251cEZvcm1Db21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uQ2hhbmdlcyB7XG4gIEBPdXRwdXQoKSBzaWdudXA6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuICBAT3V0cHV0KCkgY2FuY2VsOiBFdmVudEVtaXR0ZXI8dm9pZD4gPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgQFZpZXdDaGlsZCgndGVtcGxhdGUnKSB0ZW1wbGF0ZTogVGVtcGxhdGVSZWY8YW55PjtcblxuICBzaWdudXBGb3JtOiBGb3JtR3JvdXA7XG5cbiAgQElucHV0KCkgcHJvZmlsZUZpZWxkczogYW55O1xuXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgZmI6IEZvcm1CdWlsZGVyKSB7fVxuXG4gIG5nT25DaGFuZ2VzKGNoYW5nZXMpIHtcbiAgICBpZiAoY2hhbmdlcy5wcm9maWxlRmllbGRzICYmIGNoYW5nZXMucHJvZmlsZUZpZWxkcy5jdXJyZW50VmFsdWUpIHtcbiAgICAgIHRoaXMuaW5pdEZvcm0oKTtcbiAgICB9XG4gIH1cbiAgcHJpdmF0ZSBpbml0Rm9ybSgpIHtcbiAgICB0aGlzLnNpZ251cEZvcm0gPSB0aGlzLmZiLmdyb3VwKE9iamVjdC5hc3NpZ24oe30sIHtcbiAgICAgIGVtYWlsOiBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdLFxuICAgICAgcGFzc3dvcmQ6IFsnJywgVmFsaWRhdG9ycy5yZXF1aXJlZF1cbiAgICB9LCB0aGlzLmdldFByb2ZpbGVGb3JtR3JvdXAoKSkpO1xuICB9XG5cbiAgcHJpdmF0ZSBnZXRQcm9maWxlRm9ybUdyb3VwKCkge1xuICAgIGlmICghIHRoaXMucHJvZmlsZUZpZWxkcykgeyByZXR1cm4ge307IH1cbiAgICBjb25zdCByZXN1bHQ6IGFueSA9IHt9O1xuICAgIHRoaXMucHJvZmlsZUZpZWxkcy5mb3JFYWNoKGZpZWxkID0+IHtcbiAgICAgIGlmIChmaWVsZC5yZXF1aXJlZCkge1xuICAgICAgICByZXN1bHRbZmllbGQubmFtZV0gPSBbJycsIFZhbGlkYXRvcnMucmVxdWlyZWRdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W2ZpZWxkLm5hbWVdID0gJyc7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuXG4gIG5nT25Jbml0KCk6IHZvaWQge1xuICAgIHRoaXMuaW5pdEZvcm0oKTtcbiAgfVxuXG4gIHNpZ251cENsaWNrKCkge1xuICAgIHRoaXMuc2lnbnVwLmVtaXQodGhpcy5zaWdudXBGb3JtLnZhbHVlKTtcbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBPbkluaXQsXG4gIElucHV0LFxuICBPdXRwdXQsXG4gIEV2ZW50RW1pdHRlcixcbiAgVmlld0NoaWxkXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgTWF0RGlhbG9nLCBNYXREaWFsb2dSZWYsIE1hdFNuYWNrQmFyIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwnO1xuaW1wb3J0IHsgQWRkb25WaWV3IH0gZnJvbSAnQG1hdGVyaWEvYWRkb25zJztcbmltcG9ydCB7IEh0dHBDbGllbnQgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5cbmltcG9ydCB7IFNpZ251cEZvcm1Db21wb25lbnQgfSBmcm9tICcuLi9zaWdudXAtZm9ybS9zaWdudXAtZm9ybS5jb21wb25lbnQnO1xuXG5leHBvcnQgaW50ZXJmYWNlIFVzZXIge1xuICBlbWFpbDogc3RyaW5nO1xuICBncmF2YXRhcjogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG59XG5AQWRkb25WaWV3KCdAbWF0ZXJpYS91c2VycycpXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdtYXRlcmlhLXVzZXItbWFuYWdlbWVudCcsXG4gIHRlbXBsYXRlOiBgPGRpdiBmeExheW91dD1cImNvbHVtblwiIGZ4RmxleD5cblx0PGRpdiAqbmdJZj1cIm1lXCIgc3R5bGU9XCJwYWRkaW5nOiA4cHggMTZweDsgYmFja2dyb3VuZC1jb2xvcjogIzRDQUY1MDsgY29sb3I6IHdoaXRlO1wiPlxuXHRcdEN1cnJlbnRseSBjb25uZWN0ZWQgYXMge3ttZS5lbWFpbH19ICg8YSBzdHlsZT1cInRleHQtZGVjb3JhdGlvbjogdW5kZXJsaW5lOyBjdXJzb3I6IHBvaW50ZXI7XCIgKGNsaWNrKT1cImxvZ291dCgpXCI+TG9nb3V0PC9hPilcblx0PC9kaXY+XG5cdDxkaXYgZnhMYXlvdXQ9XCJyb3dcIiBmeEZsZXg+XG5cdFx0PG1hdC1jYXJkIGZ4TGF5b3V0PVwiY29sdW1uXCIgZnhGbGV4ICpuZ0lmPVwiIWxvYWRpbmc7IGVsc2UgbG9hZGluZ1VzZXJzXCI+XG5cdFx0XHQ8bWF0LXRvb2xiYXIgZnhMYXlvdXQ9XCJyb3dcIiBmeExheW91dEFsaWduPVwic3RhcnQgY2VudGVyXCI+XG5cdFx0XHRcdDxtYXQtaWNvbj5wZW9wbGU8L21hdC1pY29uPlxuXHRcdFx0XHQ8c3Bhbj5cblx0XHRcdFx0XHRVc2Vyc1xuXHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdDxzcGFuIGZ4RmxleD48L3NwYW4+XG5cdFx0XHRcdDxidXR0b24gKm5nSWY9XCIhZGlzcGxheUVtYWlsU2V0dGluZ3MgJiYgc2V0dGluZ3MuZW1haWxfdmVyaWZpY2F0aW9uICYmIHNldHRpbmdzLmVtYWlsX2FkZG9uXCIgc3R5bGU9XCJtYXJnaW4tcmlnaHQ6IDhweDtcIiAoY2xpY2spPVwiY29uZmlndXJlRW1haWxzKClcIiBtYXQtYnV0dG9uPkNvbmZpZ3VyZSBlbWFpbHM8L2J1dHRvbj5cblx0XHRcdFx0PGJ1dHRvbiBtYXQtbWluaS1mYWIgKGNsaWNrKT1cIm9wZW5TaWdudXBEaWFsb2coKVwiIG1hdFRvb2x0aXA9XCJOZXcgVXNlclwiIG1hdFRvb2x0aXBQb3NpdGlvbj1cImxlZnRcIiBzdHlsZT1cIndpZHRoOiAzMXB4OyBoZWlnaHQ6IDMxcHg7XCI+XG5cdFx0XHRcdFx0PG1hdC1pY29uIHN0eWxlPVwicG9zaXRpb246IHJlbGF0aXZlOyB0b3A6IC02cHg7IGxlZnQ6IC00cHg7XCI+YWRkPC9tYXQtaWNvbj5cblx0XHRcdFx0PC9idXR0b24+XG5cdFx0XHQ8L21hdC10b29sYmFyPlxuXHRcdFx0PGRpdiAqbmdJZj1cInVzZXJzICYmIHVzZXJzLmxlbmd0aDsgZWxzZSBub1VzZXJcIiBzdHlsZT1cImJvcmRlci10b3A6IDFweCBzb2xpZCAjRUVFOyBvdmVyZmxvdy15OiBhdXRvO1wiIGZ4TGF5b3V0PVwiY29sdW1uXCIgZnhGbGV4PlxuXHRcdFx0XHQ8ZGl2IGZ4TGF5b3V0PVwicm93XCIgZnhMYXlvdXRBbGlnbj1cInN0YXJ0IGNlbnRlclwiICpuZ0Zvcj1cImxldCB1c2VyIG9mIHVzZXJzXCIgc3R5bGU9XCJib3JkZXItYm90dG9tOiAxcHggc29saWQgI0VFRTsgY3Vyc29yOiBwb2ludGVyO21pbi1oZWlnaHQ6IDQwcHhcIj5cblx0XHRcdFx0XHQ8aW1nIFtzcmNdPVwidXNlci5ncmF2YXRhclwiIGNsYXNzPVwiYXZhdGFyXCIgc3R5bGU9XCJtYXJnaW46IDAgOHB4OyB3aWR0aDozMnB4OyBoZWlnaHQ6MzJweDtib3JkZXItcmFkaXVzOiAxMDAlXCIgLz5cblx0XHRcdFx0XHQ8ZGl2IHN0eWxlPVwiY29sb3I6ICM5OTk7IHBhZGRpbmctdG9wOiAwXCI+e3t1c2VyLmVtYWlsfX08L2Rpdj5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L2Rpdj5cblx0XHRcdDxuZy10ZW1wbGF0ZSAjbm9Vc2VyPlxuXHRcdFx0XHQ8ZGl2IGZ4RmxleCBmeExheW91dD1cImNvbHVtblwiIGZ4TGF5b3V0QWxpZ249XCJjZW50ZXIgY2VudGVyXCIgY2xhc3M9XCJuby11c2Vyc1wiPlxuXHRcdFx0XHRcdDxzcGFuPlRoZXJlIGlzIG5vIHVzZXJzIHJlZ2lzdGVyZWQgeWV0PC9zcGFuPlxuXHRcdFx0XHRcdDxkaXY+XG5cdFx0XHRcdFx0XHQ8YnV0dG9uIChjbGljayk9XCJvcGVuU2lnbnVwRGlhbG9nKClcIiBtYXQtcmFpc2VkLWJ1dHRvbiBjb2xvcj1cInByaW1hcnlcIiBbc3R5bGUubWFyZ2luXT1cIicxNXB4J1wiIFtzdHlsZS5jb2xvcl09XCInd2hpdGUnXCI+Q3JlYXRlXG5cdFx0XHRcdFx0XHRcdGEgdXNlcjwvYnV0dG9uPlxuXHRcdFx0XHRcdDwvZGl2PlxuXHRcdFx0XHQ8L2Rpdj5cblx0XHRcdDwvbmctdGVtcGxhdGU+XG5cdFx0PC9tYXQtY2FyZD5cblx0XHQ8bmctdGVtcGxhdGUgI2xvYWRpbmdVc2Vycz5cblx0XHRcdDxtYXQtY2FyZCBmeExheW91dD1cImNvbHVtblwiIGZ4RmxleCBmeExheW91dEFsaWduPVwiY2VudGVyIGNlbnRlclwiPlxuXHRcdFx0XHQ8bWF0LXNwaW5uZXI+PC9tYXQtc3Bpbm5lcj5cblx0XHRcdDwvbWF0LWNhcmQ+XG5cdFx0PC9uZy10ZW1wbGF0ZT5cblx0XHQ8ZGl2IHN0eWxlPVwibWFyZ2luOiA4cHg7XCIgKm5nSWY9XCJkaXNwbGF5RW1haWxTZXR0aW5nc1wiIGZ4TGF5b3V0PVwiY29sdW1uXCIgZnhGbGV4PlxuXHRcdFx0PG1hdC10b29sYmFyIGZ4TGF5b3V0PVwicm93XCIgZnhMYXlvdXRBbGlnbj1cInN0YXJ0IGNlbnRlclwiPlxuXHRcdFx0XHQ8YnV0dG9uIG1hdC1pY29uLWJ1dHRvbiAoY2xpY2spPVwiaGlkZUVtYWlsU2V0dGluZ3MoKVwiIG1hdFRvb2x0aXA9XCJIaWRlIGVtYWlsIHNldHRpbmdzXCIgbWF0VG9vbHRpcFBvc2l0aW9uPVwicmlnaHRcIj5cblx0XHRcdFx0XHQ8bWF0LWljb24+YXJyb3dfYmFjazwvbWF0LWljb24+XG5cdFx0XHRcdDwvYnV0dG9uPlxuXHRcdFx0XHQ8bWF0LWljb24+bWFpbDwvbWF0LWljb24+XG5cdFx0XHRcdDxzcGFuPlxuXHRcdFx0XHRcdEVtYWlsc1xuXHRcdFx0XHQ8L3NwYW4+XG5cdFx0XHRcdDxzcGFuIGZ4RmxleD48L3NwYW4+XG5cdFx0XHQ8L21hdC10b29sYmFyPlxuXHRcdFx0PG1hdGVyaWEtdXNlci1tYW5hZ2VtZW50LWVtYWlsLXNldHRpbmdzIFtzZXR0aW5nc109XCJzZXR0aW5nc1wiIFtiYXNlVXJsXT1cImJhc2VVcmxcIlxuXHRcdFx0XHQoaGlkZSk9XCJoaWRlRW1haWxTZXR0aW5ncygpXCIgKHNhdmUpPVwic2F2ZUVtYWlsU2V0dGluZ3MoJGV2ZW50KVwiIGZ4RmxleCBzdHlsZT1cIm92ZXJmbG93LXk6IGF1dG87XCI+XG5cdFx0XHQ8L21hdGVyaWEtdXNlci1tYW5hZ2VtZW50LWVtYWlsLXNldHRpbmdzPlxuXHRcdDwvZGl2PlxuXHQ8L2Rpdj5cbjwvZGl2PlxuPG1hdGVyaWEtc2lnbnVwLWZvcm0gI3NpZ251cEZvcm1UZW1wbGF0ZSBbcHJvZmlsZUZpZWxkc109XCJwcm9maWxlRmllbGRzXCIgKHNpZ251cCk9XCJzaWdudXAoJGV2ZW50KVwiIChjYW5jZWwpPVwiY2xvc2VTaWdudXBEaWFsb2coKVwiPjwvbWF0ZXJpYS1zaWdudXAtZm9ybT5gLFxuICBzdHlsZXM6IFtgOmhvc3R7ZmxleDoxIDEgMH1tYXQtY2FyZHttYXJnaW46OHB4O3BhZGRpbmc6MH1tYXQtaWNvbnttYXJnaW46MnB4IDhweH0ubm8tdXNlcnN7Zm9udC1zdHlsZTppdGFsaWN9YF0sXG4gIHByb3ZpZGVyczogW11cbn0pXG5leHBvcnQgY2xhc3MgVXNlck1hbmFnZW1lbnRWaWV3Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KClcbiAgYXBwO1xuICBASW5wdXQoKVxuICBzZXR0aW5ncztcblxuICBASW5wdXQoKVxuICBiYXNlVXJsO1xuICBASW5wdXQoKVxuICBhcGlVcmw7XG5cbiAgQE91dHB1dCgpXG4gIG9wZW5TZXR1cCA9IG5ldyBFdmVudEVtaXR0ZXI8dm9pZD4oKTtcblxuICBAVmlld0NoaWxkKFNpZ251cEZvcm1Db21wb25lbnQpXG4gIHNpZ251cERpYWxvZ0NvbXA6IFNpZ251cEZvcm1Db21wb25lbnQ7XG5cbiAgbG9hZGluZyA9IHRydWU7XG4gIG1lOiBhbnk7XG4gIHVzZXJzOiBVc2VyW10gPSBbXTtcbiAgbmJVc2VycyA9IDA7XG4gIHNpZ251cERpYWxvZzogTWF0RGlhbG9nUmVmPGFueT47XG4gIHByb2ZpbGVGaWVsZHM6IGFueVtdO1xuICBkaXNwbGF5RW1haWxTZXR0aW5nczogYm9vbGVhbjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcml2YXRlIGRpYWxvZzogTWF0RGlhbG9nLFxuICAgIHByaXZhdGUgaHR0cDogSHR0cENsaWVudCxcbiAgICBwcml2YXRlIHNuYWNrYmFyOiBNYXRTbmFja0JhclxuICApIHt9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5yZWZyZXNoTGlzdCgpO1xuICAgIHRoaXMucmVmcmVzaENvbm5lY3RlZFVzZXIoKTtcbiAgICB0aGlzLmdldFByb2ZpbGVQYXJhbXMoKTtcbiAgfVxuXG4gIGdldFByb2ZpbGVQYXJhbXMoKSB7XG4gICAgaWYgKFxuICAgICAgdGhpcy5zZXR0aW5ncyAmJlxuICAgICAgdGhpcy5zZXR0aW5ncy51c2VyX3Byb2ZpbGVfZW5hYmxlZCAmJlxuICAgICAgdGhpcy5zZXR0aW5ncy51c2VyX3Byb2ZpbGVfZW50aXR5XG4gICAgKSB7XG4gICAgICByZXR1cm4gdGhpcy5odHRwXG4gICAgICAgIC5nZXQ8YW55PihgJHt0aGlzLmJhc2VVcmx9L2luZm9zYClcbiAgICAgICAgLnRvUHJvbWlzZSgpXG4gICAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgICAgY29uc3QgcHJvZmlsZUVudGl0eSA9IHJlcy5lbnRpdGllcy5maW5kKFxuICAgICAgICAgICAgZW50aXR5ID0+IGVudGl0eS5uYW1lID09PSB0aGlzLnNldHRpbmdzLnVzZXJfcHJvZmlsZV9lbnRpdHlcbiAgICAgICAgICApO1xuICAgICAgICAgIHRoaXMucHJvZmlsZUZpZWxkcyA9IHByb2ZpbGVFbnRpdHkuZmllbGRzLmZpbHRlcihcbiAgICAgICAgICAgIGZpZWxkID0+XG4gICAgICAgICAgICAgIGZpZWxkLm5hbWUgIT09ICdpZF91c2VyJyAmJlxuICAgICAgICAgICAgICAoIWZpZWxkLnByaW1hcnkgfHwgKGZpZWxkLnByaW1hcnkgJiYgIWZpZWxkLmF1dG9JbmNyZW1lbnQpKVxuICAgICAgICAgICk7XG4gICAgICAgIH0pXG4gICAgICAgIC5jYXRjaChlID0+IHtcbiAgICAgICAgICB0aGlzLnByb2ZpbGVGaWVsZHMgPSBbXTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMucHJvZmlsZUZpZWxkcyA9IFtdO1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgfVxuXG4gIHJlZnJlc2hMaXN0KCkge1xuICAgIHRoaXMubG9hZGluZyA9IHRydWU7XG4gICAgdGhpcy5odHRwXG4gICAgICAucG9zdDxhbnk+KGAke3RoaXMuYmFzZVVybH0vZW50aXRpZXMvdXNlci9xdWVyaWVzL2xpc3RXaXRoR3JhdmF0YXJgLCB7fSlcbiAgICAgIC5zdWJzY3JpYmUocmVzID0+IHtcbiAgICAgICAgdGhpcy51c2VycyA9IHJlcy5kYXRhO1xuICAgICAgICB0aGlzLm5iVXNlcnMgPSByZXMuY291bnQ7XG4gICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlO1xuICAgICAgfSk7XG4gIH1cblxuICByZWZyZXNoQ29ubmVjdGVkVXNlcigpIHtcbiAgICB0aGlzLmh0dHAuZ2V0PGFueT4oYCR7dGhpcy5hcGlVcmx9L3VzZXIvbWVgKS5zdWJzY3JpYmUoXG4gICAgICByZXMgPT4ge1xuICAgICAgICB0aGlzLm1lID0gcmVzO1xuICAgICAgfSxcbiAgICAgICgpID0+ICh0aGlzLm1lID0gbnVsbClcbiAgICApO1xuICB9XG5cbiAgY29uZmlndXJlRW1haWxzKCkge1xuICAgIHRoaXMuZGlzcGxheUVtYWlsU2V0dGluZ3MgPSB0cnVlO1xuICB9XG4gIGhpZGVFbWFpbFNldHRpbmdzKCkge1xuICAgIHRoaXMuZGlzcGxheUVtYWlsU2V0dGluZ3MgPSBmYWxzZTtcbiAgfVxuICBvcGVuU2lnbnVwRGlhbG9nKCkge1xuICAgIHRoaXMuc2lnbnVwRGlhbG9nID0gdGhpcy5kaWFsb2cub3Blbih0aGlzLnNpZ251cERpYWxvZ0NvbXAudGVtcGxhdGUsIHtcbiAgICAgIHBhbmVsQ2xhc3M6ICduby1wYWRkaW5nJ1xuICAgIH0pO1xuICB9XG5cbiAgc2F2ZUVtYWlsU2V0dGluZ3Moc2V0dGluZ3MpIHtcbiAgICB0aGlzLmh0dHBcbiAgICAgIC5wb3N0PGFueT4oYCR7dGhpcy5iYXNlVXJsfS9hZGRvbnMvQG1hdGVyaWEvdXNlcnMvc2V0dXBgLCBzZXR0aW5ncylcbiAgICAgIC5zdWJzY3JpYmUocmVzID0+IHtcbiAgICAgICAgdGhpcy5zbmFja2Jhci5vcGVuKCdTZXR0aW5ncyBzYXZlZCEnLCBudWxsLCB7XG4gICAgICAgICAgZHVyYXRpb246IDMwMDBcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuaGlkZUVtYWlsU2V0dGluZ3MoKTtcbiAgICAgICAgdGhpcy5zZXR0aW5ncyA9IHNldHRpbmdzO1xuICAgICAgfSk7XG4gIH1cblxuICBjbG9zZVNpZ251cERpYWxvZygpIHtcbiAgICB0aGlzLnNpZ251cERpYWxvZy5jbG9zZSgpO1xuICB9XG5cbiAgc2lnbnVwKHVzZXIpIHtcbiAgICB0aGlzLmh0dHAucG9zdDxhbnk+KGAke3RoaXMuYXBpVXJsfS91c2VyL3NpZ251cGAsIHVzZXIpLnN1YnNjcmliZSgoKSA9PiB7XG4gICAgICB0aGlzLmNsb3NlU2lnbnVwRGlhbG9nKCk7XG4gICAgICB0aGlzLnJlZnJlc2hMaXN0KCk7XG4gICAgICB0aGlzLnJlZnJlc2hDb25uZWN0ZWRVc2VyKCk7XG4gICAgfSk7XG4gIH1cblxuICBsb2dvdXQoKSB7XG4gICAgdGhpcy5odHRwLnBvc3Q8YW55PihgJHt0aGlzLmFwaVVybH0vdXNlci9sb2dvdXRgLCB7fSkuc3Vic2NyaWJlKFxuICAgICAgKCkgPT4ge1xuICAgICAgICB0aGlzLnJlZnJlc2hDb25uZWN0ZWRVc2VyKCk7XG4gICAgICB9LFxuICAgICAgKCkgPT4gdGhpcy5yZWZyZXNoQ29ubmVjdGVkVXNlcigpXG4gICAgKTtcbiAgfVxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgRm9ybUdyb3VwLCBWYWxpZGF0b3JzLCBGb3JtQnVpbGRlciB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcblxuaW1wb3J0IHsgQWRkb25TZXR1cCB9IGZyb20gJ0BtYXRlcmlhL2FkZG9ucyc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50IH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG5leHBvcnQgaW50ZXJmYWNlIElVc2VyTWFuYWdlbWVudFNldHVwIHtcbiAgbWV0aG9kOiBzdHJpbmc7XG4gIHVzZXJfcHJvZmlsZV9lbmFibGVkOiBib29sZWFuO1xuICB1c2VyX3Byb2ZpbGVfZW50aXR5OiBzdHJpbmc7XG4gIGVtYWlsX3ZlcmlmaWNhdGlvbjogYm9vbGVhbjtcbiAgZW1haWxfYWRkb246IHN0cmluZztcbn1cblxuQEFkZG9uU2V0dXAoJ0BtYXRlcmlhL3VzZXJzJylcbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ21hdGVyaWEtdXNlci1tYW5hZ2VtZW50LXNldHVwJyxcbiAgdGVtcGxhdGU6IGA8Zm9ybSAqbmdJZj1cImxvZ2luRm9ybVwiIFtmb3JtR3JvdXBdPVwibG9naW5Gb3JtXCIgc3R5bGU9XCJtYXgtd2lkdGg6IDQwMHB4XCI+XG5cdDxoMiBtYXQtZGlhbG9nLXRpdGxlIGZ4TGF5b3V0PVwicm93XCI+XG5cdFx0PHNwYW4gZnhGbGV4IHN0eWxlPVwicG9zaXRpb246IHJlbGF0aXZlOyB0b3A6IDNweDsgbGVmdDogNXB4O1wiPlVzZXIgTWFuYWdlbWVudCAtIFNldHVwPC9zcGFuPlxuXHRcdDxidXR0b24gKGNsaWNrKT1cImNsb3NlKClcIiB0YWJpbmRleD1cIi0xXCIgbWF0LWljb24tYnV0dG9uPlxuXHRcdFx0PG1hdC1pY29uPmNsb3NlPC9tYXQtaWNvbj5cblx0XHQ8L2J1dHRvbj5cblx0PC9oMj5cblx0PG1hdC1kaWFsb2ctY29udGVudD5cblx0XHQ8ZGl2IGZ4TGF5b3V0PVwiY29sdW1uXCI+XG5cdFx0XHQ8aDM+XG5cdFx0XHRcdEF1dGhlbnRpY2F0aW9uIG1ldGhvZFxuXHRcdFx0PC9oMz5cblx0XHRcdDxtYXQtcmFkaW8tZ3JvdXAgZm9ybUNvbnRyb2xOYW1lPVwibWV0aG9kXCIgZnhMYXlvdXQ9XCJjb2x1bW5cIj5cblx0XHRcdFx0PG1hdC1yYWRpby1idXR0b24gdmFsdWU9XCJ0b2tlblwiPlRva2VuIGJhc2VkIGF1dGhlbnRpY2F0aW9uIChtb2JpbGUgcmVhZHkpPC9tYXQtcmFkaW8tYnV0dG9uPlxuXHRcdFx0XHQ8bWF0LXJhZGlvLWJ1dHRvbiB2YWx1ZT1cInNlc3Npb25cIj5TZXNzaW9uIGJhc2VkIGF1dGhlbnRpY2F0aW9uPC9tYXQtcmFkaW8tYnV0dG9uPlxuXHRcdFx0PC9tYXQtcmFkaW8tZ3JvdXA+XG5cdFx0XHRcblx0XHRcdDxoMz5cblx0XHRcdFx0PG1hdC1jaGVja2JveCBmb3JtQ29udHJvbE5hbWU9XCJ1c2VyX3Byb2ZpbGVfZW5hYmxlZFwiPlVzZXIgcHJvZmlsZTwvbWF0LWNoZWNrYm94PlxuXHRcdFx0PC9oMz5cblx0XHRcdDxtYXQtZm9ybS1maWVsZCAqbmdJZj1cImVudGl0aWVzICYmIGVudGl0aWVzLmxlbmd0aCA+IDA7IGVsc2Ugbm9FbnRpdGllc1wiPlxuXHRcdFx0XHQ8bWF0LXNlbGVjdCBwbGFjZWhvbGRlcj1cIlNlbGVjdCB0aGUgdXNlciBwcm9maWxlIGVudGl0eVwiIGZvcm1Db250cm9sTmFtZT1cInVzZXJfcHJvZmlsZV9lbnRpdHlcIj5cblx0XHRcdFx0XHQ8bWF0LW9wdGlvbiAqbmdGb3I9XCJsZXQgZSBvZiBlbnRpdGllc1wiIFt2YWx1ZV09XCJlLm5hbWVcIj57eyBlLm5hbWUgfX08L21hdC1vcHRpb24+XG5cdFx0XHRcdDwvbWF0LXNlbGVjdD5cblx0XHRcdDwvbWF0LWZvcm0tZmllbGQ+XG5cdFx0XHQ8bmctdGVtcGxhdGUgI25vRW50aXRpZXM+XG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJ3YXJuaW5nXCI+XG5cdFx0XHRcdFx0Tm8gZW50aXR5IGZvdW5kLiBZb3UgbmVlZCBhbiBlbnRpdHkgdG8gYWRkIGN1c3RvbSBmaWVsZHMgdG8geW91ciB1c2Vycy5cblx0XHRcdFx0PC9kaXY+XG5cdFx0XHQ8L25nLXRlbXBsYXRlPlxuXHRcdFxuXHRcdFx0PGgzPlxuXHRcdFx0XHQ8bWF0LWNoZWNrYm94IGZvcm1Db250cm9sTmFtZT1cImVtYWlsX3ZlcmlmaWNhdGlvblwiPkVtYWlscyBlbmFibGVkPC9tYXQtY2hlY2tib3g+XG5cdFx0XHQ8L2gzPlxuXG5cdFx0XHQ8bWF0LWZvcm0tZmllbGQgKm5nSWY9XCJlbWFpbEFkZG9ucyAmJiBlbWFpbEFkZG9ucy5sZW5ndGggPiAwOyBlbHNlIG5vRW1haWxBZGRvblwiPlxuXHRcdFx0XHQ8bWF0LXNlbGVjdCBwbGFjZWhvbGRlcj1cIlNlbGVjdCB5b3VyIGVtYWlsaW5nIGFkZG9uXCIgZm9ybUNvbnRyb2xOYW1lPVwiZW1haWxfYWRkb25cIj5cblx0XHRcdFx0XHQ8bWF0LW9wdGlvbiAqbmdGb3I9XCJsZXQgZSBvZiBlbWFpbEFkZG9uc1wiIFt2YWx1ZV09XCJlLnBhY2thZ2VcIj57eyBlLm5hbWUgfX08L21hdC1vcHRpb24+XG5cdFx0XHRcdDwvbWF0LXNlbGVjdD5cblx0XHRcdDwvbWF0LWZvcm0tZmllbGQ+XG5cblx0XHRcdDxuZy10ZW1wbGF0ZSAjbm9FbWFpbEFkZG9uPlxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwid2FybmluZ1wiPllvdSBuZWVkXG5cdFx0XHRcdFx0PHN0cm9uZz5TZW5kZ3JpZDwvc3Ryb25nPiBvclxuXHRcdFx0XHRcdDxzdHJvbmc+TWFpbGpldDwvc3Ryb25nPiBhZGRvbiBpbnN0YWxsZWRcblx0XHRcdFx0XHQ8YnI+dG8gc2VuZCBlbWFpbCBmcm9tIHlvdXIgTWF0ZXJpYSBBcHBsaWNhdGlvbiBzdWNoIGFzIGEgc2lnbnVwIGVtYWlsPC9kaXY+XG5cdFx0XHQ8L25nLXRlbXBsYXRlPlxuXHRcdDwvZGl2PlxuXHQ8L21hdC1kaWFsb2ctY29udGVudD5cblx0PG1hdC1kaWFsb2ctYWN0aW9ucz5cblx0XHQ8YnV0dG9uIG1hdC1yYWlzZWQtYnV0dG9uIGNvbG9yPVwicHJpbWFyeVwiIChjbGljayk9XCJmaW5pc2goKVwiPlNhdmU8L2J1dHRvbj5cblx0XHQ8YnV0dG9uIG1hdC1yYWlzZWQtYnV0dG9uIChjbGljayk9XCJjbG9zZSgpXCI+Q2FuY2VsPC9idXR0b24+XG5cdDwvbWF0LWRpYWxvZy1hY3Rpb25zPlxuPC9mb3JtPmAsXG4gIHN0eWxlczogW2BtYXQtZm9ybS1maWVsZHt3aWR0aDoxMDAlO21hcmdpbjowIDVweH0ubWF0LWRpYWxvZy1jb250ZW50e21hcmdpbjowO3BhZGRpbmc6MCAyNHB4fS5tYXQtZGlhbG9nLWFjdGlvbnN7cGFkZGluZzoxMnB4IDI0cHh9aDN7bWFyZ2luLXRvcDoxNnB4O21hcmdpbi1ib3R0b206OHB4fS53YXJuaW5ne21hcmdpbjoxNnB4IDA7cGFkZGluZzo4cHg7Ym9yZGVyOjFweCBzb2xpZCAjZjQ0MzM2O2NvbG9yOiNmNDQzMzZ9YF0sXG4gIHByb3ZpZGVyczogW0Zvcm1CdWlsZGVyXVxufSlcbmV4cG9ydCBjbGFzcyBVc2VyTWFuYWdlbWVudFNldHVwQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KCkgYXBwO1xuICBASW5wdXQoKSBzZXR0aW5nczogSVVzZXJNYW5hZ2VtZW50U2V0dXA7XG4gIEBJbnB1dCgpIGJhc2VVcmw6IHN0cmluZztcbiAgQElucHV0KCkgdG9rZW46IHN0cmluZztcbiAgQE91dHB1dCgpIHNhdmUgPSBuZXcgRXZlbnRFbWl0dGVyPElVc2VyTWFuYWdlbWVudFNldHVwPigpO1xuICBAT3V0cHV0KCkgY2FuY2VsID0gbmV3IEV2ZW50RW1pdHRlcjx2b2lkPigpO1xuXG4gIGxvZ2luRm9ybTogRm9ybUdyb3VwO1xuICBlbnRpdGllczogYW55W107XG4gIGVtYWlsQWRkb25zID0gW107XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBmYjogRm9ybUJ1aWxkZXIsIHByaXZhdGUgaHR0cDogSHR0cENsaWVudCkge31cblxuICBwcml2YXRlIGdldFNldHRpbmdzUHJvcGVydHkocHJvcGVydHksIGRlZmF1bHRWYWx1ZSkge1xuICAgIHJldHVybiAodGhpcy5zZXR0aW5ncyAmJiB0aGlzLnNldHRpbmdzW3Byb3BlcnR5XSkgfHwgZGVmYXVsdFZhbHVlO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5odHRwXG4gICAgICAuZ2V0PGFueT4odGhpcy5iYXNlVXJsICsgJy9pbmZvcycpXG4gICAgICAudG9Qcm9taXNlKClcbiAgICAgIC50aGVuKHJlcyA9PiB7XG4gICAgICAgIHRoaXMubG9naW5Gb3JtID0gdGhpcy5mYi5ncm91cCh7XG4gICAgICAgICAgbWV0aG9kOiBbXG4gICAgICAgICAgICB0aGlzLmdldFNldHRpbmdzUHJvcGVydHkoJ21ldGhvZCcsICdzZXNzaW9uJyksXG4gICAgICAgICAgICBWYWxpZGF0b3JzLnJlcXVpcmVkXG4gICAgICAgICAgXSxcbiAgICAgICAgICB1c2VyX3Byb2ZpbGVfZW5hYmxlZDogW1xuICAgICAgICAgICAgdGhpcy5nZXRTZXR0aW5nc1Byb3BlcnR5KCd1c2VyX3Byb2ZpbGVfZW5hYmxlZCcsIGZhbHNlKVxuICAgICAgICAgIF0sXG4gICAgICAgICAgdXNlcl9wcm9maWxlX2VudGl0eTogW1xuICAgICAgICAgICAgdGhpcy5nZXRTZXR0aW5nc1Byb3BlcnR5KCd1c2VyX3Byb2ZpbGVfZW50aXR5JywgbnVsbClcbiAgICAgICAgICBdLFxuICAgICAgICAgIGVtYWlsX3ZlcmlmaWNhdGlvbjogW1xuICAgICAgICAgICAgdGhpcy5nZXRTZXR0aW5nc1Byb3BlcnR5KCdlbWFpbF92ZXJpZmljYXRpb24nLCBmYWxzZSlcbiAgICAgICAgICBdLFxuICAgICAgICAgIGVtYWlsX2FkZG9uOiBbdGhpcy5nZXRTZXR0aW5nc1Byb3BlcnR5KCdlbWFpbF9hZGRvbicsIGZhbHNlKV0sXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmVudGl0aWVzID0gcmVzLmVudGl0aWVzLmZpbHRlcihlbnRpdHkgPT4gISBlbnRpdHkuZnJvbUFkZG9uKTtcbiAgICAgICAgdGhpcy5lbWFpbEFkZG9ucyA9IHJlcy5hZGRvbnMuZmlsdGVyKFxuICAgICAgICAgIGFkZG9uID0+XG4gICAgICAgICAgICBhZGRvbi5wYWNrYWdlID09PSAnQG1hdGVyaWEvc2VuZGdyaWQnIHx8XG4gICAgICAgICAgICBhZGRvbi5wYWNrYWdlID09PSAnQG1hdGVyaWEvbWFpbGpldCdcbiAgICAgICAgKTtcblxuICAgICAgICBpZiAodGhpcy5lbWFpbEFkZG9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLmxvZ2luRm9ybS5nZXQoJ2VtYWlsX3ZlcmlmaWNhdGlvbicpLmRpc2FibGUoKTtcbiAgICAgICAgICB0aGlzLmxvZ2luRm9ybS5nZXQoJ2VtYWlsX2FkZG9uJykuZGlzYWJsZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCAhIHRoaXMuc2V0dGluZ3MgfHwgISB0aGlzLnNldHRpbmdzLmVtYWlsX3ZlcmlmaWNhdGlvbikge1xuICAgICAgICAgIHRoaXMubG9naW5Gb3JtLmdldCgnZW1haWxfYWRkb24nKS5kaXNhYmxlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoICEgdGhpcy5zZXR0aW5ncyB8fCAhIHRoaXMuc2V0dGluZ3MudXNlcl9wcm9maWxlX2VuYWJsZWQpIHtcbiAgICAgICAgICB0aGlzLmxvZ2luRm9ybS5nZXQoJ3VzZXJfcHJvZmlsZV9lbnRpdHknKS5kaXNhYmxlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5lbnRpdGllcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICB0aGlzLmxvZ2luRm9ybS5nZXQoJ3VzZXJfcHJvZmlsZV9lbmFibGVkJykuc2V0VmFsdWUoZmFsc2UpO1xuICAgICAgICAgIHRoaXMubG9naW5Gb3JtLmdldCgndXNlcl9wcm9maWxlX2VudGl0eScpLnNldFZhbHVlKG51bGwpO1xuICAgICAgICAgIHRoaXMubG9naW5Gb3JtLmdldCgndXNlcl9wcm9maWxlX2VuYWJsZWQnKS5kaXNhYmxlKCk7XG4gICAgICAgICAgdGhpcy5sb2dpbkZvcm0uZ2V0KCd1c2VyX3Byb2ZpbGVfZW50aXR5JykuZGlzYWJsZSgpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubG9naW5Gb3JtXG4gICAgICAgICAgLmdldCgndXNlcl9wcm9maWxlX2VuYWJsZWQnKVxuICAgICAgICAgIC52YWx1ZUNoYW5nZXMuc3Vic2NyaWJlKHZhbCA9PiB7XG4gICAgICAgICAgICBpZiAodmFsKSB7XG4gICAgICAgICAgICAgIHRoaXMubG9naW5Gb3JtLmdldCgndXNlcl9wcm9maWxlX2VudGl0eScpLmVuYWJsZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgdGhpcy5sb2dpbkZvcm0uZ2V0KCd1c2VyX3Byb2ZpbGVfZW50aXR5JykuZGlzYWJsZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuXG4gICAgICAgIHRoaXMubG9naW5Gb3JtLmdldCgnZW1haWxfdmVyaWZpY2F0aW9uJykudmFsdWVDaGFuZ2VzLnN1YnNjcmliZSh2YWwgPT4ge1xuICAgICAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgICAgIHRoaXMubG9naW5Gb3JtLmdldCgnZW1haWxfYWRkb24nKS5lbmFibGUoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5sb2dpbkZvcm0uZ2V0KCdlbWFpbF9hZGRvbicpLmRpc2FibGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gIH1cblxuICBmaW5pc2goKSB7XG4gICAgaWYgKHRoaXMubG9naW5Gb3JtLnZhbGlkKSB7XG4gICAgICB0aGlzLnNhdmUuZW1pdCh0aGlzLmxvZ2luRm9ybS52YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgY2xvc2UoKSB7XG4gICAgdGhpcy5jYW5jZWwuZW1pdCgpO1xuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPbkluaXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5cbmltcG9ydCB7IEZvcm1Hcm91cCB9IGZyb20gJ0Bhbmd1bGFyL2Zvcm1zJztcblxuY29uc3QgRGVmYXVsdENvbXBvbmVudCA9IE9iamVjdC5mcmVlemUoe1xuICB0ZXh0OiAndGV4dCcsXG4gIG51bWJlcjogJ3RleHQnLFxuICBkYXRlOiAnZGF0ZScsXG4gIGZsb2F0OiAndGV4dCcsXG4gIGJvb2xlYW46ICdzd2l0Y2gnXG59KTtcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbWF0ZXJpYS1wYXJhbS1pbnB1dCcsXG4gIHRlbXBsYXRlOiBgPGRpdiBbZm9ybUdyb3VwXT1cImZvcm1cIiBmeExheW91dD1cInJvd1wiPlxuXHQ8ZGl2IGZ4TGF5b3V0PVwicm93XCIgZnhGbGV4PlxuXHRcdDxtYXQtY2hlY2tib3ggW2Zvcm1Db250cm9sTmFtZV09XCJjaGVja2JveE5hbWVcIiAqbmdJZj1cIiAhIHBhcmFtLnJlcXVpcmVkICYmIHNob3dDaGVja2JveCAmJiB0eXBlICE9PSAnYm9vbGVhbidcIj5cblx0XHQ8L21hdC1jaGVja2JveD5cblx0XHQ8bWF0LWZvcm0tZmllbGQgKm5nSWY9XCJ0eXBlICE9ICdib29sZWFuJyAmJiBhY3R1YWxDb21wb25lbnQgIT0gJ21hcmtkb3duJyAmJiBhY3R1YWxDb21wb25lbnQgIT0gJ2FydGljbGUnXCIgZnhGbGV4PlxuXHRcdFx0PGlucHV0ICpuZ0lmPVwidHlwZSAhPSAnYm9vbGVhbicgJiYgdHlwZSAhPSAnZGF0ZScgJiYgdHlwZSAhPSAnZmxvYXQnICYmIGFjdHVhbENvbXBvbmVudCAhPSAndGV4dGFyZWEnXCIgdGFiaW5kZXg9XCIwXCIgbWF0SW5wdXRcblx0XHRcdCBbZm9ybUNvbnRyb2xOYW1lXT1cInBhcmFtLm5hbWVcIiBbcGxhY2Vob2xkZXJdPVwibGFiZWxcIiBbdHlwZV09XCJhY3R1YWxDb21wb25lbnRcIiAvPlxuXHRcdFx0PGlucHV0ICpuZ0lmPVwidHlwZSA9PSAnZmxvYXQnXCIgbWF0SW5wdXQgdGFiaW5kZXg9XCIwXCIgdHlwZT1cIm51bWJlclwiIHN0ZXA9XCJhbnlcIiBbcGxhY2Vob2xkZXJdPVwibGFiZWxcIiBbZm9ybUNvbnRyb2xOYW1lXT1cInBhcmFtLm5hbWVcIlxuXHRcdFx0Lz5cblx0XHRcdDx0ZXh0YXJlYSAqbmdJZj1cImFjdHVhbENvbXBvbmVudCA9PSAndGV4dGFyZWEnXCIgdGFiaW5kZXg9XCIwXCIgbWF0SW5wdXQgW3BsYWNlaG9sZGVyXT1cImxhYmVsXCIgW2Zvcm1Db250cm9sTmFtZV09XCJwYXJhbS5uYW1lXCI+PC90ZXh0YXJlYT5cblx0XHRcdDxpbnB1dCAqbmdJZj1cInR5cGUgPT0gJ2RhdGUnXCIgbWF0SW5wdXQgdGFiaW5kZXg9XCIwXCIgW2Zvcm1Db250cm9sTmFtZV09XCJwYXJhbS5uYW1lXCIgW21hdERhdGVwaWNrZXJdPVwicGlja2VyXCIgW3BsYWNlaG9sZGVyXT1cInBhcmFtLm5hbWVcIj5cblx0XHRcdDxtYXQtZGF0ZXBpY2tlci10b2dnbGUgKm5nSWY9XCJ0eXBlID09ICdkYXRlJ1wiIG1hdFN1ZmZpeCBbZm9yXT1cInBpY2tlclwiPjwvbWF0LWRhdGVwaWNrZXItdG9nZ2xlPlxuXHRcdFx0PG1hdC1kYXRlcGlja2VyICNwaWNrZXI+PC9tYXQtZGF0ZXBpY2tlcj5cblx0XHRcdDxtYXQtZXJyb3IgKm5nSWY9XCJyZXF1aXJlZEVycm9yXCI+XG5cdFx0XHRcdHt7cGFyYW0ubmFtZX19IGlzXG5cdFx0XHRcdDxzdHJvbmc+cmVxdWlyZWQ8L3N0cm9uZz5cblx0XHRcdDwvbWF0LWVycm9yPlxuXHRcdDwvbWF0LWZvcm0tZmllbGQ+XG5cdFx0PG1hdC1jaGVja2JveCAqbmdJZj1cInR5cGUgPT0gJ2Jvb2xlYW4nXCIgdGFiaW5kZXg9XCIwXCIgW2Zvcm1Db250cm9sTmFtZV09XCJwYXJhbS5uYW1lXCIgc3R5bGU9XCJ0b3A6IDA7XCI+e3tsYWJlbH19PC9tYXQtY2hlY2tib3g+XG5cdFx0PGRpdiBjbGFzcz1cIm1hcmtkb3duXCIgKm5nSWY9XCJhY3R1YWxDb21wb25lbnQgPT0gJ21hcmtkb3duJ1wiIGZ4TGF5b3V0PVwiY29sdW1uXCIgZnhGbGV4PlxuXHRcdFx0PGxhYmVsPnt7bGFiZWx9fTwvbGFiZWw+XG5cdFx0XHQ8dGV4dGFyZWEgdGFiaW5kZXg9XCIwXCIgW2Zvcm1Db250cm9sTmFtZV09XCJwYXJhbS5uYW1lXCIgc2ltcGxlbWRlPVwie3NwZWxsQ2hlY2tlcjogZmFsc2UsIHRvb2xiYXI6IFsnYm9sZCcsICdpdGFsaWMnLCAnaGVhZGluZycsICd8JywgJ3F1b3RlJywgJ3Vub3JkZXJlZC1saXN0JywgJ29yZGVyZWQtbGlzdCcsICd8JywgJ2xpbmsnLCAnaW1hZ2UnLCAndGFibGUnXX1cIj48L3RleHRhcmVhPlxuXHRcdDwvZGl2PlxuXHQ8L2Rpdj5cbjwvZGl2PmAsXG4gIHN0eWxlczogW2BgXVxufSlcbmV4cG9ydCBjbGFzcyBQYXJhbUlucHV0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KCkgcGFyYW06IGFueTtcbiAgQElucHV0KCkgZGlzYWJsZWQ6IGJvb2xlYW47XG5cbiAgQElucHV0KCkgZm9ybTogRm9ybUdyb3VwO1xuICBASW5wdXQoKSBsYWJlbDogc3RyaW5nO1xuXG4gIEBJbnB1dCgpIHNob3dBc3RlcmlzayA9IHRydWU7XG4gIEBJbnB1dCgpIHNob3dDaGVja2JveCA9IHRydWU7XG5cbiAgdHlwZTogc3RyaW5nO1xuICBhY3R1YWxDb21wb25lbnQ6IHN0cmluZztcblxuICBAT3V0cHV0KCkgY2hhbmdlZCA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gIGdldCByZXF1aXJlZEVycm9yKCkge1xuICAgIHJldHVybiAoXG4gICAgICB0aGlzLmZvcm0uZ2V0KHRoaXMucGFyYW0ubmFtZSkgJiZcbiAgICAgIHRoaXMuZm9ybS5nZXQodGhpcy5wYXJhbS5uYW1lKS5oYXNFcnJvcigncmVxdWlyZWQnKVxuICAgICk7XG4gIH1cblxuICBnZXQgY2hlY2tib3hOYW1lKCkge1xuICAgIHJldHVybiBgJHt0aGlzLnBhcmFtLm5hbWV9X2NoZWNrYDtcbiAgfVxuXG4gIGNvbnN0cnVjdG9yKCkge31cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnR5cGUgPSB0aGlzLnBhcmFtLnR5cGU7XG5cbiAgICBpZiAoIXRoaXMubGFiZWwpIHtcbiAgICAgIHRoaXMubGFiZWwgPSB0aGlzLnBhcmFtLm5hbWU7XG4gICAgICBpZiAodGhpcy5wYXJhbS5yZXF1aXJlZCAmJiB0aGlzLnNob3dBc3Rlcmlzaykge1xuICAgICAgICB0aGlzLmxhYmVsICs9ICcqJztcbiAgICAgIH1cbiAgICB9XG5cbiAgICBpZiAodGhpcy5wYXJhbSAmJiB0aGlzLnBhcmFtLmNvbXBvbmVudCkge1xuICAgICAgaWYgKHRoaXMucGFyYW0uY29tcG9uZW50ID09PSAnaW5wdXQnKSB7XG4gICAgICAgIGlmICh0aGlzLnBhcmFtLnR5cGUgPT09ICd0ZXh0JyB8fCB0aGlzLnBhcmFtLnR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdGhpcy5hY3R1YWxDb21wb25lbnQgPSAndGV4dCc7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wYXJhbS50eXBlID09PSAnbnVtYmVyJykge1xuICAgICAgICAgIHRoaXMuYWN0dWFsQ29tcG9uZW50ID0gJ251bWJlcic7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5hY3R1YWxDb21wb25lbnQgPSB0aGlzLnBhcmFtLmNvbXBvbmVudDtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKHRoaXMucGFyYW0uY29tcG9uZW50ID09PSAnZGF0ZVBpY2tlcicpIHtcbiAgICAgICAgICB0aGlzLmFjdHVhbENvbXBvbmVudCA9ICdkYXRlJztcbiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnBhcmFtLmNvbXBvbmVudCA9PT0gJ3RpbWVQaWNrZXInKSB7XG4gICAgICAgICAgdGhpcy5hY3R1YWxDb21wb25lbnQgPSAndGltZSc7XG4gICAgICAgIH0gZWxzZSBpZiAodGhpcy5wYXJhbS5jb21wb25lbnQgPT09ICdkYXRlVGltZVBpY2tlcicpIHtcbiAgICAgICAgICB0aGlzLmFjdHVhbENvbXBvbmVudCA9ICdkYXRldGltZS1sb2NhbCc7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5hY3R1YWxDb21wb25lbnQgPSB0aGlzLnBhcmFtLmNvbXBvbmVudDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLmFjdHVhbENvbXBvbmVudCA9IERlZmF1bHRDb21wb25lbnRbdGhpcy50eXBlXTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5zaG93Q2hlY2tib3ggJiYgIXRoaXMucGFyYW0ucmVxdWlyZWQpIHtcbiAgICAgIHRoaXMuZm9ybS5nZXQodGhpcy5wYXJhbS5uYW1lKS52YWx1ZUNoYW5nZXMuc3Vic2NyaWJlKHZhbCA9PiB7XG4gICAgICAgIGlmICh2YWwpIHtcbiAgICAgICAgICB0aGlzLmZvcm0uZ2V0KHRoaXMuY2hlY2tib3hOYW1lKS5zZXRWYWx1ZSh0cnVlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmZvcm0uZ2V0KHRoaXMuY2hlY2tib3hOYW1lKS5zZXRWYWx1ZShmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufVxuIiwiaW1wb3J0IHtcbiAgQ29tcG9uZW50LFxuICBPbkluaXQsXG4gIElucHV0LFxuICBPdXRwdXQsXG4gIEV2ZW50RW1pdHRlcixcbiAgVmlld0NoaWxkXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cENsaWVudCB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IEZvcm1Hcm91cCwgRm9ybUJ1aWxkZXIsIFZhbGlkYXRvcnMgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBNYXRFeHBhbnNpb25QYW5lbCB9IGZyb20gJ0Bhbmd1bGFyL21hdGVyaWFsJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnbWF0ZXJpYS11c2VyLW1hbmFnZW1lbnQtZW1haWwtc2V0dGluZ3MnLFxuICB0ZW1wbGF0ZTogYDxmb3JtIFtmb3JtR3JvdXBdPVwiZW1haWxGb3JtXCI+XG5cdDxtYXQtYWNjb3JkaW9uPlxuXHRcdDxtYXQtZXhwYW5zaW9uLXBhbmVsICNzaWdudXBQYW5lbCBbZXhwYW5kZWRdPVwidHJ1ZVwiIGZ4TGF5b3V0PVwiY29sdW1uXCI+XG5cdFx0XHQ8bWF0LWV4cGFuc2lvbi1wYW5lbC1oZWFkZXI+XG5cdFx0XHRcdFNpZ251cFxuXHRcdFx0PC9tYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlcj5cblxuXHRcdFx0PGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnRcIiBmeExheW91dD1cImNvbHVtblwiPlxuXHRcdFx0XHQ8bWF0LWZvcm0tZmllbGQ+XG5cdFx0XHRcdFx0PGlucHV0IG1hdElucHV0IHBsYWNlaG9sZGVyPVwiU3ViamVjdFwiIGZvcm1Db250cm9sTmFtZT1cInN1YmplY3Rfc2lnbnVwXCI+XG5cdFx0XHRcdDwvbWF0LWZvcm0tZmllbGQ+XG5cblx0XHRcdFx0PG1hdC1mb3JtLWZpZWxkPlxuXHRcdFx0XHRcdDxtYXQtc2VsZWN0IHBsYWNlaG9sZGVyPVwiVGVtcGxhdGVcIiBmb3JtQ29udHJvbE5hbWU9XCJ0ZW1wbGF0ZV9zaWdudXBcIj5cblx0XHRcdFx0XHRcdDxtYXQtb3B0aW9uICpuZ0Zvcj1cImxldCB0IG9mIHRlbXBsYXRlc1wiIFt2YWx1ZV09XCJ0LmlkXCI+e3sgdC5uYW1lIH19ICh7e3QuaWR9fSk8L21hdC1vcHRpb24+XG5cdFx0XHRcdFx0PC9tYXQtc2VsZWN0PlxuXHRcdFx0XHQ8L21hdC1mb3JtLWZpZWxkPlxuXHRcdFx0XHQ8bWF0LWZvcm0tZmllbGQ+XG5cdFx0XHRcdFx0PGlucHV0IG1hdElucHV0IHBsYWNlaG9sZGVyPVwiUmVkaXJlY3QgVVJMXCIgZm9ybUNvbnRyb2xOYW1lPVwicmVkaXJlY3Rfc2lnbnVwXCI+XG5cdFx0XHRcdDwvbWF0LWZvcm0tZmllbGQ+XG5cdFx0XHQ8L2Rpdj5cblx0XHQ8L21hdC1leHBhbnNpb24tcGFuZWw+XG5cblx0XHQ8bWF0LWV4cGFuc2lvbi1wYW5lbCAjY2hhbmdlRW1haWxQYW5lbD5cblx0XHRcdDxtYXQtZXhwYW5zaW9uLXBhbmVsLWhlYWRlcj5cblx0XHRcdFx0Q2hhbmdlIGVtYWlsXG5cdFx0XHQ8L21hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyPlxuXG5cdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwtY29udGVudFwiIGZ4TGF5b3V0PVwiY29sdW1uXCI+XG5cdFx0XHRcdDxtYXQtZm9ybS1maWVsZD5cblx0XHRcdFx0XHQ8aW5wdXQgbWF0SW5wdXQgcGxhY2Vob2xkZXI9XCJTdWJqZWN0XCIgZm9ybUNvbnRyb2xOYW1lPVwic3ViamVjdF9jaGFuZ2VfZW1haWxcIj5cblx0XHRcdFx0PC9tYXQtZm9ybS1maWVsZD5cblxuXHRcdFx0XHQ8bWF0LWZvcm0tZmllbGQ+XG5cdFx0XHRcdFx0PG1hdC1zZWxlY3QgcGxhY2Vob2xkZXI9XCJUZW1wbGF0ZVwiIGZvcm1Db250cm9sTmFtZT1cInRlbXBsYXRlX2NoYW5nZV9lbWFpbFwiPlxuXHRcdFx0XHRcdFx0PG1hdC1vcHRpb24gKm5nRm9yPVwibGV0IHQgb2YgdGVtcGxhdGVzXCIgW3ZhbHVlXT1cInQuaWRcIj57eyB0Lm5hbWUgfX0gKHt7dC5pZH19KTwvbWF0LW9wdGlvbj5cblx0XHRcdFx0XHQ8L21hdC1zZWxlY3Q+XG5cdFx0XHRcdDwvbWF0LWZvcm0tZmllbGQ+XG5cdFx0XHRcdDxtYXQtZm9ybS1maWVsZD5cblx0XHRcdFx0XHQ8aW5wdXQgbWF0SW5wdXQgcGxhY2Vob2xkZXI9XCJSZWRpcmVjdCBVUkxcIiBmb3JtQ29udHJvbE5hbWU9XCJyZWRpcmVjdF9jaGFuZ2VfZW1haWxcIj5cblx0XHRcdFx0PC9tYXQtZm9ybS1maWVsZD5cblx0XHRcdDwvZGl2PlxuXHRcdDwvbWF0LWV4cGFuc2lvbi1wYW5lbD5cblxuXHRcdDxtYXQtZXhwYW5zaW9uLXBhbmVsICNsb3N0UGFzc3dvcmRQYW5lbCBmeExheW91dD1cImNvbHVtblwiPlxuXHRcdFx0PG1hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyPlxuXHRcdFx0XHRMb3N0IHBhc3N3b3JkXG5cdFx0XHQ8L21hdC1leHBhbnNpb24tcGFuZWwtaGVhZGVyPlxuXHRcdFx0PGRpdiBjbGFzcz1cInBhbmVsLWNvbnRlbnRcIiBmeExheW91dD1cImNvbHVtblwiPlxuXG5cdFx0XHRcdDxtYXQtZm9ybS1maWVsZD5cblx0XHRcdFx0XHQ8aW5wdXQgbWF0SW5wdXQgcGxhY2Vob2xkZXI9XCJTdWJqZWN0XCIgZm9ybUNvbnRyb2xOYW1lPVwic3ViamVjdF9sb3N0X3Bhc3N3b3JkXCI+XG5cdFx0XHRcdDwvbWF0LWZvcm0tZmllbGQ+XG5cdFx0XHRcdDxtYXQtZm9ybS1maWVsZD5cblx0XHRcdFx0XHQ8bWF0LXNlbGVjdCBwbGFjZWhvbGRlcj1cIlRlbXBsYXRlXCIgZm9ybUNvbnRyb2xOYW1lPVwidGVtcGxhdGVfbG9zdF9wYXNzd29yZFwiPlxuXHRcdFx0XHRcdFx0PG1hdC1vcHRpb24gKm5nRm9yPVwibGV0IHQgb2YgdGVtcGxhdGVzXCIgW3ZhbHVlXT1cInQuaWRcIj57eyB0Lm5hbWUgfX0gKHt7dC5pZH19KTwvbWF0LW9wdGlvbj5cblx0XHRcdFx0XHQ8L21hdC1zZWxlY3Q+XG5cdFx0XHRcdDwvbWF0LWZvcm0tZmllbGQ+XG5cdFx0XHRcdDxtYXQtZm9ybS1maWVsZD5cblx0XHRcdFx0XHQ8aW5wdXQgbWF0SW5wdXQgcGxhY2Vob2xkZXI9XCJSZWRpcmVjdCBVUkxcIiBmb3JtQ29udHJvbE5hbWU9XCJyZWRpcmVjdF9sb3N0X3Bhc3N3b3JkXCI+XG5cdFx0XHRcdDwvbWF0LWZvcm0tZmllbGQ+XG5cdFx0XHQ8L2Rpdj5cblx0XHQ8L21hdC1leHBhbnNpb24tcGFuZWw+XG5cdDwvbWF0LWFjY29yZGlvbj5cblx0PGRpdiBzdHlsZT1cIm1hcmdpbjogMTZweCAwOyB0ZXh0LWFsaWduOiBjZW50ZXI7XCI+XG5cdFx0PGJ1dHRvbiBtYXQtcmFpc2VkLWJ1dHRvbiBjb2xvcj1cInByaW1hcnlcIiAoY2xpY2spPVwic2F2ZUVtYWlsU2V0dGluZ3MoKVwiIHN0eWxlPVwibWFyZ2luLXJpZ2h0OiA4cHhcIj5TYXZlPC9idXR0b24+XG5cdFx0PGJ1dHRvbiBtYXQtcmFpc2VkLWJ1dHRvbiAoY2xpY2spPVwiaGlkZS5lbWl0KClcIj5DYW5jZWw8L2J1dHRvbj5cblx0PC9kaXY+XG48L2Zvcm0+YCxcbiAgc3R5bGVzOiBbYC5wYW5lbC1jb250ZW50e21hcmdpbjowIDI0cHghaW1wb3J0YW50fWBdXG59KVxuZXhwb3J0IGNsYXNzIEVtYWlsU2V0dGluZ3NDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuICBASW5wdXQoKVxuICBzZXR0aW5nczogYW55O1xuICBASW5wdXQoKVxuICBiYXNlVXJsOiBzdHJpbmc7XG5cbiAgZW1haWxGb3JtOiBGb3JtR3JvdXA7XG4gIHRlbXBsYXRlczogQXJyYXk8eyBuYW1lOiBzdHJpbmc7IGlkOiBudW1iZXIgfT47XG5cbiAgQE91dHB1dCgpXG4gIGhpZGUgPSBuZXcgRXZlbnRFbWl0dGVyPHZvaWQ+KCk7XG4gIEBPdXRwdXQoKVxuICBzYXZlID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG5cbiAgQFZpZXdDaGlsZCgnc2lnbnVwUGFuZWwnKVxuICBzaWdudXBQYW5lbDogTWF0RXhwYW5zaW9uUGFuZWw7XG4gIEBWaWV3Q2hpbGQoJ2NoYW5nZUVtYWlsUGFuZWwnKVxuICBjaGFuZ2VFbWFpbFBhbmVsOiBNYXRFeHBhbnNpb25QYW5lbDtcbiAgQFZpZXdDaGlsZCgnbG9zdFBhc3N3b3JkUGFuZWwnKVxuICBsb3N0UGFzc3dvcmRQYW5lbDogTWF0RXhwYW5zaW9uUGFuZWw7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBodHRwOiBIdHRwQ2xpZW50LCBwcml2YXRlIGZvcm06IEZvcm1CdWlsZGVyKSB7fVxuXG4gIHByaXZhdGUgZ2V0U2V0dGluZ3NQcm9wZXJ0eShwcm9wZXJ0eSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuICh0aGlzLnNldHRpbmdzICYmIHRoaXMuc2V0dGluZ3NbcHJvcGVydHldKSB8fCBkZWZhdWx0VmFsdWU7XG4gIH1cbiAgbmdPbkluaXQoKTogdm9pZCB7XG4gICAgdGhpcy5lbWFpbEZvcm0gPSB0aGlzLmZvcm0uZ3JvdXAoe1xuICAgICAgbWV0aG9kOiBbXG4gICAgICAgIHRoaXMuZ2V0U2V0dGluZ3NQcm9wZXJ0eSgnbWV0aG9kJywgJ3Nlc3Npb24nKSxcbiAgICAgICAgVmFsaWRhdG9ycy5yZXF1aXJlZFxuICAgICAgXSxcbiAgICAgIHN0YXRpY19zYWx0OiBbXG4gICAgICAgIHRoaXMuZ2V0U2V0dGluZ3NQcm9wZXJ0eSgnc3RhdGljX3NhbHQnLCAnJyksXG4gICAgICAgIFZhbGlkYXRvcnMucmVxdWlyZWRcbiAgICAgIF0sXG4gICAgICB1c2VyX3Byb2ZpbGVfZW5hYmxlZDogW1xuICAgICAgICB0aGlzLmdldFNldHRpbmdzUHJvcGVydHkoJ3VzZXJfcHJvZmlsZV9lbmFibGVkJywgJ2ZhbHNlJylcbiAgICAgIF0sXG4gICAgICB1c2VyX3Byb2ZpbGVfZW50aXR5OiBbXG4gICAgICAgIHRoaXMuZ2V0U2V0dGluZ3NQcm9wZXJ0eSgndXNlcl9wcm9maWxlX2VudGl0eScsICcnKVxuICAgICAgXSxcbiAgICAgIGVtYWlsX3ZlcmlmaWNhdGlvbjogW1xuICAgICAgICB0aGlzLmdldFNldHRpbmdzUHJvcGVydHkoJ2VtYWlsX3ZlcmlmaWNhdGlvbicsIGZhbHNlKVxuICAgICAgXSxcbiAgICAgIGVtYWlsX2FkZG9uOiBbdGhpcy5nZXRTZXR0aW5nc1Byb3BlcnR5KCdlbWFpbF9hZGRvbicsIGZhbHNlKV0sXG4gICAgICB0ZW1wbGF0ZV9zaWdudXA6IFt0aGlzLmdldFNldHRpbmdzUHJvcGVydHkoJ3RlbXBsYXRlX3NpZ251cCcsICcnKV0sXG4gICAgICByZWRpcmVjdF9zaWdudXA6IFt0aGlzLmdldFNldHRpbmdzUHJvcGVydHkoJ3JlZGlyZWN0X3NpZ251cCcsICcnKV0sXG4gICAgICBzdWJqZWN0X3NpZ251cDogW3RoaXMuZ2V0U2V0dGluZ3NQcm9wZXJ0eSgnc3ViamVjdF9zaWdudXAnLCAnJyldLFxuICAgICAgc3ViamVjdF9sb3N0X3Bhc3N3b3JkOiBbdGhpcy5nZXRTZXR0aW5nc1Byb3BlcnR5KCdzdWJqZWN0X2xvc3RfcGFzc3dvcmQnLCAnJyldLFxuICAgICAgc3ViamVjdF9jaGFuZ2VfZW1haWw6IFt0aGlzLmdldFNldHRpbmdzUHJvcGVydHkoJ3N1YmplY3RfY2hhbmdlX2VtYWlsJywgJycpXSxcbiAgICAgIHRlbXBsYXRlX2xvc3RfcGFzc3dvcmQ6IFtcbiAgICAgICAgdGhpcy5nZXRTZXR0aW5nc1Byb3BlcnR5KCd0ZW1wbGF0ZV9sb3N0X3Bhc3N3b3JkJywgJycpXG4gICAgICBdLFxuICAgICAgcmVkaXJlY3RfbG9zdF9wYXNzd29yZDogW1xuICAgICAgICB0aGlzLmdldFNldHRpbmdzUHJvcGVydHkoJ3JlZGlyZWN0X2xvc3RfcGFzc3dvcmQnLCAnJylcbiAgICAgIF0sXG4gICAgICB0ZW1wbGF0ZV9jaGFuZ2VfZW1haWw6IFtcbiAgICAgICAgdGhpcy5nZXRTZXR0aW5nc1Byb3BlcnR5KCd0ZW1wbGF0ZV9jaGFuZ2VfZW1haWwnLCAnJylcbiAgICAgIF0sXG4gICAgICByZWRpcmVjdF9jaGFuZ2VfZW1haWw6IFtcbiAgICAgICAgdGhpcy5nZXRTZXR0aW5nc1Byb3BlcnR5KCdyZWRpcmVjdF9jaGFuZ2VfZW1haWwnLCAnJylcbiAgICAgIF1cbiAgICB9KTtcblxuICAgIHRoaXMucmVmcmVzaFRlbXBsYXRlcygpO1xuICB9XG5cbiAgcmVmcmVzaFRlbXBsYXRlcygpIHtcbiAgICBpZiAodGhpcy5zZXR0aW5ncy5lbWFpbF9hZGRvbiA9PT0gJ0BtYXRlcmlhL21haWxqZXQnKSB7XG4gICAgICB0aGlzLmh0dHBcbiAgICAgICAgLnBvc3Q8YW55PihgJHt0aGlzLmJhc2VVcmx9L2VudGl0aWVzL21haWxqZXRfdGVtcGxhdGUvcXVlcmllcy9saXN0YCwge2xpbWl0OiAxMDAwfSlcbiAgICAgICAgLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgICAgICB0aGlzLnRlbXBsYXRlcyA9IGRhdGEuZGF0YVxuICAgICAgICAgICAgLmZpbHRlcihyb3cgPT4gcm93Lk93bmVySWQgIT09IDEpXG4gICAgICAgICAgICAubWFwKHJvdyA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgbmFtZTogcm93Lk5hbWUsXG4gICAgICAgICAgICAgICAgaWQ6IHJvdy5JRFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAodGhpcy5zZXR0aW5ncy5lbWFpbF9hZGRvbiA9PT0gJ0BtYXRlcmlhL3NlbmRncmlkJykge1xuICAgICAgdGhpcy5odHRwXG4gICAgICAgIC5wb3N0PGFueT4oXG4gICAgICAgICAgYCR7dGhpcy5iYXNlVXJsfS9lbnRpdGllcy9zZW5kZ3JpZF90ZW1wbGF0ZS9xdWVyaWVzL2xpc3RUZW1wbGF0ZXNgLFxuICAgICAgICAgIHt9XG4gICAgICAgIClcbiAgICAgICAgLnN1YnNjcmliZShkYXRhID0+IHtcbiAgICAgICAgICB0aGlzLnRlbXBsYXRlcyA9IGRhdGEgJiYgZGF0YS5kYXRhICYmIGRhdGEuZGF0YTtcbiAgICAgICAgICAvLyBUT0RPLi4uXG4gICAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBzYXZlRW1haWxTZXR0aW5ncygpIHtcbiAgICBpZiAodGhpcy5lbWFpbEZvcm0udmFsaWQpIHtcbiAgICAgIHRoaXMuc2F2ZS5lbWl0KHRoaXMuZW1haWxGb3JtLnZhbHVlKTtcbiAgICB9XG4gIH1cbiAgY2FuY2VsKCkge1xuICAgIHRoaXMuaGlkZS5lbWl0KCk7XG4gIH1cbn1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBDb21tb25Nb2R1bGUgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgRm9ybXNNb2R1bGUsIFJlYWN0aXZlRm9ybXNNb2R1bGUgfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyBGbGV4TGF5b3V0TW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvZmxleC1sYXlvdXQnO1xuXG5pbXBvcnQge1xuICBNYXRCdXR0b25Nb2R1bGUsXG4gIE1hdFJpcHBsZU1vZHVsZSxcbiAgTWF0U25hY2tCYXJNb2R1bGUsXG4gIE1hdENhcmRNb2R1bGUsXG4gIE1hdEljb25Nb2R1bGUsXG4gIE1hdERpYWxvZ01vZHVsZSxcbiAgTWF0SW5wdXRNb2R1bGUsXG4gIE1hdExpc3RNb2R1bGUsXG4gIE1hdFRvb2x0aXBNb2R1bGUsXG4gIE1hdFRvb2xiYXJNb2R1bGUsXG4gIE1hdERhdGVwaWNrZXJNb2R1bGUsXG4gIE1hdEV4cGFuc2lvbk1vZHVsZSxcbiAgTWF0TmF0aXZlRGF0ZU1vZHVsZSxcbiAgTWF0UmFkaW9Nb2R1bGUsXG4gIE1hdFN0ZXBwZXJNb2R1bGUsXG4gIE1hdFNlbGVjdE1vZHVsZSxcbiAgTWF0Q2hlY2tib3hNb2R1bGUsXG4gIE1hdFByb2dyZXNzU3Bpbm5lck1vZHVsZVxufSBmcm9tICdAYW5ndWxhci9tYXRlcmlhbCc7XG5cbmltcG9ydCB7IEFkZG9uIH0gZnJvbSAnQG1hdGVyaWEvYWRkb25zJztcblxuaW1wb3J0IHsgVXNlck1hbmFnZW1lbnRWaWV3Q29tcG9uZW50IH0gZnJvbSAnLi91c2VyLW1hbmFnZW1lbnQvdXNlci1tYW5hZ2VtZW50LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50TW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgU2lnbnVwRm9ybUNvbXBvbmVudCB9IGZyb20gJy4vc2lnbnVwLWZvcm0vc2lnbnVwLWZvcm0uY29tcG9uZW50JztcbmltcG9ydCB7IFVzZXJNYW5hZ2VtZW50U2V0dXBDb21wb25lbnQgfSBmcm9tICcuL3VzZXItbWFuYWdlbWVudC1zZXR1cC91c2VyLW1hbmFnZW1lbnQtc2V0dXAuY29tcG9uZW50JztcbmltcG9ydCB7IFBhcmFtSW5wdXRDb21wb25lbnQgfSBmcm9tICcuL3BhcmFtLWlucHV0L3BhcmFtLWlucHV0LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBFbWFpbFNldHRpbmdzQ29tcG9uZW50IH0gZnJvbSAnLi9lbWFpbHMtc2V0dGluZ3MvZW1haWwtc2V0dGluZ3MuY29tcG9uZW50JztcblxuQEFkZG9uKCdAbWF0ZXJpYS91c2VycycpXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbXG4gICAgQ29tbW9uTW9kdWxlLFxuICAgIEZvcm1zTW9kdWxlLFxuICAgIFJlYWN0aXZlRm9ybXNNb2R1bGUsXG4gICAgSHR0cENsaWVudE1vZHVsZSxcbiAgICBGbGV4TGF5b3V0TW9kdWxlLFxuICAgIE1hdFJpcHBsZU1vZHVsZSxcbiAgICBNYXRCdXR0b25Nb2R1bGUsXG4gICAgTWF0U25hY2tCYXJNb2R1bGUsXG4gICAgTWF0Q2FyZE1vZHVsZSxcbiAgICBNYXRJY29uTW9kdWxlLFxuICAgIE1hdERpYWxvZ01vZHVsZSxcbiAgICBNYXRJbnB1dE1vZHVsZSxcbiAgICBNYXRUb29sdGlwTW9kdWxlLFxuICAgIE1hdENoZWNrYm94TW9kdWxlLFxuICAgIE1hdFNlbGVjdE1vZHVsZSxcbiAgICBNYXRUb29sYmFyTW9kdWxlLFxuICAgIE1hdERhdGVwaWNrZXJNb2R1bGUsXG4gICAgTWF0TmF0aXZlRGF0ZU1vZHVsZSxcbiAgICBNYXRFeHBhbnNpb25Nb2R1bGUsXG4gICAgTWF0TGlzdE1vZHVsZSxcbiAgICBNYXRSYWRpb01vZHVsZSxcbiAgICBNYXRTdGVwcGVyTW9kdWxlLFxuICAgIE1hdFByb2dyZXNzU3Bpbm5lck1vZHVsZVxuICBdLFxuICBkZWNsYXJhdGlvbnM6IFtcbiAgICBVc2VyTWFuYWdlbWVudFZpZXdDb21wb25lbnQsXG4gICAgRW1haWxTZXR0aW5nc0NvbXBvbmVudCxcbiAgICBVc2VyTWFuYWdlbWVudFNldHVwQ29tcG9uZW50LFxuICAgIFNpZ251cEZvcm1Db21wb25lbnQsXG4gICAgUGFyYW1JbnB1dENvbXBvbmVudFxuICBdLFxuICBleHBvcnRzOiBbVXNlck1hbmFnZW1lbnRWaWV3Q29tcG9uZW50XSxcbiAgZW50cnlDb21wb25lbnRzOiBbXVxufSlcbmV4cG9ydCBjbGFzcyBVc2VyTWFuYWdlbWVudE1vZHVsZSB7fVxuIl0sIm5hbWVzIjpbIkV2ZW50RW1pdHRlciIsIlZhbGlkYXRvcnMiLCJDb21wb25lbnQiLCJGb3JtQnVpbGRlciIsIk91dHB1dCIsIlZpZXdDaGlsZCIsIklucHV0IiwiaHR0cCIsIk1hdERpYWxvZyIsIkh0dHBDbGllbnQiLCJNYXRTbmFja0JhciIsIkFkZG9uVmlldyIsIkFkZG9uU2V0dXAiLCJOZ01vZHVsZSIsIkNvbW1vbk1vZHVsZSIsIkZvcm1zTW9kdWxlIiwiUmVhY3RpdmVGb3Jtc01vZHVsZSIsIkh0dHBDbGllbnRNb2R1bGUiLCJGbGV4TGF5b3V0TW9kdWxlIiwiTWF0UmlwcGxlTW9kdWxlIiwiTWF0QnV0dG9uTW9kdWxlIiwiTWF0U25hY2tCYXJNb2R1bGUiLCJNYXRDYXJkTW9kdWxlIiwiTWF0SWNvbk1vZHVsZSIsIk1hdERpYWxvZ01vZHVsZSIsIk1hdElucHV0TW9kdWxlIiwiTWF0VG9vbHRpcE1vZHVsZSIsIk1hdENoZWNrYm94TW9kdWxlIiwiTWF0U2VsZWN0TW9kdWxlIiwiTWF0VG9vbGJhck1vZHVsZSIsIk1hdERhdGVwaWNrZXJNb2R1bGUiLCJNYXROYXRpdmVEYXRlTW9kdWxlIiwiTWF0RXhwYW5zaW9uTW9kdWxlIiwiTWF0TGlzdE1vZHVsZSIsIk1hdFJhZGlvTW9kdWxlIiwiTWF0U3RlcHBlck1vZHVsZSIsIk1hdFByb2dyZXNzU3Bpbm5lck1vZHVsZSIsIkFkZG9uIl0sIm1hcHBpbmdzIjoiOzs7Ozs7SUFBQTs7Ozs7Ozs7Ozs7Ozs7QUFjQSx3QkFvQzJCLFVBQVUsRUFBRSxNQUFNLEVBQUUsR0FBRyxFQUFFLElBQUk7UUFDcEQsSUFBSSxDQUFDLEdBQUcsU0FBUyxDQUFDLE1BQU0sRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsR0FBRyxNQUFNLEdBQUcsSUFBSSxLQUFLLElBQUksR0FBRyxJQUFJLEdBQUcsTUFBTSxDQUFDLHdCQUF3QixDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsR0FBRyxJQUFJLEVBQUUsQ0FBQyxDQUFDO1FBQzdILElBQUksT0FBTyxPQUFPLEtBQUssUUFBUSxJQUFJLE9BQU8sT0FBTyxDQUFDLFFBQVEsS0FBSyxVQUFVO1lBQUUsQ0FBQyxHQUFHLE9BQU8sQ0FBQyxRQUFRLENBQUMsVUFBVSxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7O1lBQzFILEtBQUssSUFBSSxDQUFDLEdBQUcsVUFBVSxDQUFDLE1BQU0sR0FBRyxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLEVBQUU7Z0JBQUUsSUFBSSxD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